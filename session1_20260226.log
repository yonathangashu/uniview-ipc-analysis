V3N2C0N2C0RS

U-Boot 2020.04-00011-gddf6f040-dirty (Jun 17 2024 - 18:12:02 +0800), Build: jenkins-Compile_64ä½(10.188.40.119)-7385

U-Boot code: 5C000400 -> 5C095BEC  BSS: -> 5C0BD52C
Model: AXERA AX620E_Qnand Board
DRAM:  Monitor len: 000BD12C
Ram size: 10000000
Ram top: 50000000
TLB table from 4fff0000 to 4fff4000
Reserving 756k for U-Boot at: 4ff32000
Reserving 3584k for malloc() at: 4fbb2000
Reserving 96 Bytes for Board Info at: 4fbb1fa0
Reserving 216 Bytes for Global Data at: 4fbb1ec8
Reserving 14400 Bytes for FDT at: 4fbae688

RAM Configuration:
Bank #0: 40000000 
DRAM:  256 MiB
New Stack Pointer is: 4fbae660
Relocation Offset is: f3f31c00
Relocating to 4ff32000, new gd at 4fbb1ec8, sp at 4fbae660
WARNING: Caches not enabled
ax_adc_probe
No available THERMAL device
MMC:   mmc@1B40000: 0, mmc@104E0000: 1
NAND:  128 MiB
Loading Environment from NAND... *** Warning - bad CRC, using default environment

Loading Environment from SPI Flash... unrecognized JEDEC id bytes: ff, a1, e4
uclass_get_device: Invalid bus 0 (err=-2)
In:    serial
Out:   serial
Err:   serial
Current chip type: AX620Q_CHIP
Current board type: AX620Q_LP4_DEMO_V1_1
boot_reason:0x0
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
selecting mode MMC legacy (freq : 0 MHz)
Card did not respond to voltage select!
mmc_init: -95, time 24
no sd card
enter normal boot mode
boot_info_data.mode = 7
Net:   
Warning: ethernet@0x104C0000 (eth0) using random MAC address - 6a:c4:5f:80:4d:f7
eth0: ethernet@0x104C0000  
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
Detected MACID:e4:f1:4c:77:66:ba
Detected ETH1 MACID:e4:f1:4c:77:66:ba
Press Ctrl+B to abort autoboot in 2 seconds
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
ax_shutdown_ephy:0x410021d1
enter do_axera_boot
reading kernel image size 0x700000 from spi nand flash ...
bondopt secureboot bit is enable:1, key_bits:2048
CACHE: Misaligned operation at range [4fbadb4c, 4fbadcd8]
total kernel image size = 6151640
>>> * kernel image verify success! * <<< 
header_info.blk_num=17, isize=6151640, osize=8629099, tile_cnt=12, last_tile_size=474568
boot cmd is :bootm 0x4e000000#conf-1
## Loading kernel from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'kernel' kernel subimage
     Description:  Axera Linux kernel
     Type:         Kernel Image
     Compression:  uncompressed
     Data Start:   0x4e0000e4
     Data Size:    8485640 Bytes = 8.1 MiB
     Architecture: ARM
     OS:           Linux
     Load Address: 0x40008000
     Entry Point:  0x40008000
   Verifying Hash Integrity ... OK
## Loading fdt from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'fdt-1' fdt subimage
     Description:  Flattened Device Tree blob
     Type:         Flat Device Tree
     Compression:  uncompressed
     Data Start:   0x4e817c9c
     Data Size:    141709 Bytes = 138.4 KiB
     Architecture: ARM
     Load Address: 0x42008000
   Verifying Hash Integrity ... OK
   Loading fdt from 0x4e817c9c to 0x42008000
   Booting using the fdt blob at 0x42008000
   Loading Kernel Image
   Using Device Tree in place at 42008000, end 4202d98c
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 4.19.125 (jenkins@root123) (gcc version 7.5.0 (Linaro GCC 7.5-2019.12)) #1 SMP PREEMPT Mon Jun 17 18:12:19 CST 2024
[    0.000000] CPU: ARMv7 Processor [410fd034] revision 4 (ARMv7), cr=50c5383d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: axera,ax620e
[    0.000000] ENC:0302C5TP;SEN:0302C4XQ;LENS:4801C0G2
[    0.000000] PROTOTYPE_NAME:IPC3624LE-ADF28K-WP
[    0.000000] chip type: 0x1
[    0.000000] memory total: 0x10000000, Media: 0x9000000
[    0.000000] earlycon: uart8250 at MMIO32 0x04880000 (options '')
[    0.000000] bootconsole [uart8250] enabled
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] On node 0 totalpages: 28672
[    0.000000]   Normal zone: 224 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 28672 pages, LIFO batch:7
[    0.000000] percpu: Embedded 18 pages/cpu s44236 r8192 d21300 u73728
[    0.000000] pcpu-alloc: s44236 r8192 d21300 u73728 alloc=18*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 28448
[    0.000000] Kernel command line: mem=112M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Memory: 104156K/114688K available (3967K kernel code, 222K rwdata, 1384K rodata, 2516K init, 396K bss, 10532K reserved, 0K cma-reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
[    0.000000]     vmalloc : 0xc7800000 - 0xff800000   ( 896 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xc7000000   ( 112 MB)
[    0.000000]     modules : 0xbf800000 - 0xc0000000   (   8 MB)
[    0.000000]       .text : 0x(ptrval) - 0x(ptrval)   (3969 kB)
[    0.000000]       .init : 0x(ptrval) - 0x(ptrval)   (2516 kB)
[    0.000000]       .data : 0x(ptrval) - 0x(ptrval)   ( 223 kB)
[    0.000000]        .bss : 0x(ptrval) - 0x(ptrval)   ( 397 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Tasks RCU enabled.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000004] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.008019] Switching to timer-based delay loop, resolution 41ns
[    0.016596] Console: colour dummy device 80x30
[    0.021073] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=120000)
[    0.031445] pid_max: default: 32768 minimum: 301
[    0.036162] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.042793] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.050243] CPU: Testing write buffer coherency: ok
[    0.055383] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091144] Setting up static identity map for 0x40008240 - 0x40008278
[    0.107710] rcu: Hierarchical SRCU implementation.
[    0.127738] smp: Bringing up secondary CPUs ...
[    0.157957] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.158055] smp: Brought up 1 node, 2 CPUs
[    0.167845] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.174039] CPU: All CPU(s) started in SVC mode.
[    0.179244] devtmpfs: initialized
[    0.210149] random: get_random_u32 called from bucket_table_alloc+0x63/0x118 with crng_init=0
[    0.218871] VFP support v0.3: implementor 41 architecture 3 part 40 variant 3 rev 4
[    0.226724] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 9556302231375000 ns
[    0.236491] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.242716] pinctrl core: initialized pinctrl subsystem
[    0.248205] NET: Registered protocol family 16
[    0.252941] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.260680] ax_pin_init ret 0 index 7
[    0.265885] console [pstore-1] enabled
[    0.269642] pstore: Registered ramoops as persistent store backend
[    0.275841] ramoops: attached 0x8000@0x41000000, ecc: 0/0
[    0.293933] SCSI subsystem initialized
[    0.297847] usbcore: registered new interface driver usbfs
[    0.303394] usbcore: registered new interface driver hub
[    0.308768] usbcore: registered new device driver usb
[    0.314465] pps_core: LinuxPPS API ver. 1 registered
[    0.319456] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.328618] PTP clock support registered
[    0.332759] Advanced Linux Sound Architecture Driver Initialized.
[    0.339949] dma_per 48a0000.dma_per: Axera DMA Peripherals Controller, 16 channels
[    0.347958] dma:ax_dma_probe:1605: done
[    0.352166] clocksource: Switched to clocksource arch_sys_counter
[    0.362836] NET: Registered protocol family 2
[    0.367668] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes)
[    0.375372] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.382367] TCP bind hash table entries: 1024 (order: 1, 8192 bytes)
[    0.388754] TCP: Hash tables configured (established 1024 bind 1024)
[    0.395178] UDP hash table entries: 256 (order: 1, 8192 bytes)
[    0.401044] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)
[    0.407423] NET: Registered protocol family 1
[    0.412071] RPC: Registered named UNIX socket transport module.
[    0.418020] RPC: Registered udp transport module.
[    0.422736] RPC: Registered tcp transport module.
[    0.427453] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.543038] workingset: timestamp_bits=30 max_order=15 bucket_order=0
[    0.553652] axera_logctl_init: of_find_compatible_node 'axera,logctl' success!!!
[    0.553658] axera_logctl_init: of_find_compatible_node config: /etc/ax_syslog.conf
[    0.561121] axera_logctl_init: logstate:1 1 len:2
[    0.573429] axera_logctl_init: loglevel:4 4 len:2
[    0.578378] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.584688] NFS: Registering the id_resolver key type
[    0.589780] Key type id_resolver registered
[    0.593977] Key type id_legacy registered
[    0.598022] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    0.606962] io scheduler noop registered (default)
[    0.611800] io scheduler mq-deadline registered
[    0.616351] io scheduler kyber registered
[    0.621588] axera-pinctrl 2300000.pinctrl: initialized pinctrl driver
[    0.631815] ax_os_mem_init
[    0.634677] [GZIP][D]: [     1][ax_gzipd_init : 730] enter ax_gzipd_init
[    0.642201] Serial: 8250/16550 driver, 5 ports, IRQ sharing disabled
[    0.649568] console [ttyS0] disabled
[    0.653215] 4880000.ax_uart: ttyS0 at MMIO 0x4880000 (irq = 20, base_baud = 13000000) is a 16550A
[    0.662138] console [ttyS0] enabled
[    0.662138] console [ttyS0] enabled
[    0.669124] bootconsole [uart8250] disabled
[    0.669124] bootconsole [uart8250] disabled
[    0.678702] null: module loaded
[    0.682412] ax_ramdisk_init:can't find ramdisk device tree node
[    0.689305] dw_spi_setup: rx_sample_dly_ns=0x6, chip->rx_sample_dly=0x3
[    0.696080] spi_master spi4: set clk_div=0x4, speed_hz=104000000, dws->max_freq=416000000
[    0.704280] spi_master spi4: set rx_sample_dly=0x3
[    0.709125] spi-nand spi4.0: FudanMicroelec SPI NAND was found.
[    0.715062] spi-nand spi4.0: 128 MiB, block size: 128 KiB, page size: 2048, OOB size: 64
[    0.723665] 13 cmdlinepart partitions found on MTD device spi4.0
[    0.729689] Creating 13 MTD partitions on "spi4.0":
[    0.734580] 0x000000000000-0x000000100000 : "spl"
[    0.740598] 0x000000100000-0x000000180000 : "ddrinit"
[    0.746470] 0x000000180000-0x000000380000 : "uboot"
[    0.753572] 0x000000380000-0x000000400000 : "env"
[    0.759110] 0x000000400000-0x000000a00000 : "calibration"
[    0.770363] 0x000000a00000-0x000000b00000 : "cliinfo"
[    0.776693] 0x000000b00000-0x000001300000 : "config"
[    0.789325] 0x000001300000-0x000001400000 : "runtime"
[    0.795658] 0x000001400000-0x000001a00000 : "cfgbak"
[    0.806446] 0x000001a00000-0x000002100000 : "kernel"
[    0.818169] 0x000002100000-0x000002180000 : "update"
[    0.823995] 0x000002180000-0x000007f80000 : "program"
[    0.915060] 0x000007f80000-0x000008000000 : "other"
[    0.921039] libphy: Fixed MDIO Bus: probed
[    0.925206] tun: Universal TUN/TAP device driver, 1.6
[    0.930498] stmmaceth 104c0000.ethernet: probe axera emac
[    0.936009] stmmaceth 104c0000.ethernet: phy-rst-gpio not configure
[    0.942312] stmmaceth 104c0000.ethernet: emac bus clock: 312MHz
[    0.948275] stmmaceth 104c0000.ethernet: emac phy clock: 25MHz
[    0.954153] stmmaceth 104c0000.ethernet: PTP rate: 50MHz
[    0.959496] stmmaceth 104c0000.ethernet: reset axera emac...
[    0.970177] stmmaceth 104c0000.ethernet: EMAC: select Inner RMII interface, value:0x00000000
[    0.978747] stmmaceth 104c0000.ethernet: User ID: 0x10, Synopsys ID: 0x52
[    0.985551] stmmaceth 104c0000.ethernet: 	DWMAC4/5
[    0.990355] stmmaceth 104c0000.ethernet: DMA HW capability register supported
[    0.997503] stmmaceth 104c0000.ethernet: RX Checksum Offload Engine supported
[    1.004649] stmmaceth 104c0000.ethernet: TX Checksum insertion supported
[    1.011363] stmmaceth 104c0000.ethernet: Wake-Up On Lan supported
[    1.017469] stmmaceth 104c0000.ethernet: TSO supported
[    1.022616] stmmaceth 104c0000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    1.030292] stmmaceth 104c0000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    1.037875] stmmaceth 104c0000.ethernet: USO feature enabled
[    1.043544] stmmaceth 104c0000.ethernet: TSO feature enabled
[    1.049292] libphy: stmmac: probed
[    1.055629] PPP generic driver version 2.4.2
[    1.060053] PPP BSD Compression module registered
[    1.064775] PPP Deflate Compression module registered
[    1.069837] NET: Registered protocol family 24
[    1.074636] axera dwc3 soc:axera_dwc3: axera usb probe
[    1.079959] axera dwc3 soc:axera_dwc3: usb bus clock: 312MHz
[    1.085649] axera dwc3 soc:axera_dwc3: axera usb clk set succeed.
[    1.091778] axera dwc3 soc:axera_dwc3: axera usb reset succeed.
[    1.097968] dwc3 8000000.dwc3: probe later.
[    1.102614] usbcore: registered new interface driver cdc_acm
[    1.108285] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters
[    1.116447] usbcore: registered new interface driver uas
[    1.121805] usbcore: registered new interface driver usb-storage
[    1.127884] usbcore: registered new interface driver usbserial_generic
[    1.134438] usbserial: USB Serial support registered for generic
[    1.176406] rtc_axera 23e0000.rtc-top: rtc core: registered 23e0000.rtc-top as rtc0
[    1.184169] i2c /dev entries driver
[    1.189132] ax_wdt:ax_wdt_drv_probe:346: done!
[    1.189476] sdhci: Secure Digital Host Controller Interface driver
[    1.200141] sdhci: Copyright(c) Pierre Ossman
[    1.204534] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.204623] sdhci-axera 104e0000.sdhc: axera sdhci probe
[    1.210864] usbcore: registered new interface driver usbhid
[    1.217819] get cd gpio failed
[    1.221106] usbhid: USB HID core driver
[    1.229858] dev->intr_type = 0
[    1.232950] dw_i2s_probe, hdmi_i2s: 0
[    1.236715] config pin_sd_misc to 0x300100
[    1.240837] dw_i2s_probe get irq is -6
[    1.244609] IIS get i2s_mclk: 12288000
[    1.248372] IIS get i2s_mclk: 12288000
[    1.252166] IIS probe OK
[    1.254747] dev->intr_type = 1
[    1.257813] dw_i2s_probe, hdmi_i2s: 0
[    1.261537] config pin_sd_misc to 0x300100
[    1.265651] dw_i2s_probe get irq is -6
[    1.269420] IIS get i2s_mclk: 12288000
[    1.273179] IIS get i2s_mclk: 12288000
[    1.276945] IIS probe OK
[    1.279834] ax_actt_probe
[    1.282519] designware-actt 23f2000.audio_codec: No cache used with register defaults set!
[    1.290897] oprofile: hardware counters not available
[    1.292249] mmc0: SDHCI controller on 104e0000.sdhc [104e0000.sdhc] using ADMA 64-bit
[    1.295968] oprofile: using timer interrupt.
[    1.303822] sdhci_cdns_read_phy_reg: phy lock successful
[    1.308717] NET: Registered protocol family 10
[    1.336339] Segment Routing with IPv6
[    1.340148] mip6: Mobile IPv6
[    1.343605] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.350279] NET: Registered protocol family 17
[    1.354824] l2tp_core: L2TP core driver, V2.0
[    1.359203] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[    1.364023] Key type dns_resolver registered
[    1.368472] Registering SWP/SWPB emulation handler
[    1.373277] chip type: AX620Q
[    1.376253] product init ok
[    1.379800] pstore: Using compression: deflate
[    1.385234] i2c_designware 4850000.i2c: running with gpio recovery mode! scl,sda
[    1.392806] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.398967] i2c_designware 4851000.i2c: running with gpio recovery mode! scl,sda
[    1.406497] i2c i2c-1: using pinctrl states for GPIO recovery
[    1.412610] dwc3 8000000.dwc3: dr_mode is 3 (1-host 2-device 3-otg)
[    1.418916] dwc3 8000000.dwc3: EP NUM:16
[    1.423156] actt_component_probe
[    1.423156]  
[    1.423294] bengin actt_set_sysclk
[    1.428100] actt_set_sysclk, freq: 12288000
[    1.435694] actt_set_dai_fmt, fmt: 0x1001
[    1.439713] actt_set_dai_fmt, actt rx only support master fmt_mode: 0x1000
[    1.446596] actt in I2S Format
[    1.449659] dw_i2s_set_fmt, fmt: 0x1001
[    1.454051] asoc-simple-card sound: 23f2000.audio_codec <-> 6051000.i2s_slv mapping ok
[    1.461980] bengin actt_set_sysclk
[    1.461982] actt_set_sysclk, freq: 12288000
[    1.469582] actt_set_dai_fmt, fmt: 0x4001
[    1.473600] actt_set_dai_fmt, actt tx only support salve .fmt_mode: 0x4000
[    1.480482] actt in I2S Format
[    1.483543] dw_i2s_set_fmt, fmt: 0x4001
[    1.487901] asoc-simple-card sound: 23f2000.audio_codec <-> 6050000.i2s_mst mapping ok
[    1.496012] dwc3 8000000.dwc3: axera usb gadget init
[    1.512682] rtc_axera 23e0000.rtc-top: setting system clock to 1970-01-01 08:00:00 UTC (28800)
[    1.521724] OF: fdt: not creating '/sys/firmware/fdt': CRC check failed
[    1.528615] ALSA device list:
[    1.531585]   #0: Axera Audio
[    1.534725] ttyS0 - failed to request DMA
[    1.540666] Freeing unused kernel memory: 2516K
[    1.545206] This architecture does not have kernel memory protection.
[    1.551655] Run /init as init process
[RCS]: /etc/init.d/S11init
mount: mounting debugfs on /sys/kernel/debug failed: No such file or directory
[RCS]: /etc/init.d/S30ambrwfs
cp: can't stat '/root/*': No such file or directory
[    1.855533] ubi0: default fastmap pool size: 35
[    1.860168] ubi0: default fastmap WL pool size: 17
[    1.864977] ubi0: attaching mtd12
[    1.911423] random: fast init done
[    2.138932] ubi0: scanning is finished
[    2.153265] ubi0: attached mtd12 (name "program", size 94 MiB)
[    2.159132] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.166025] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.172829] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.179803] ubi0: good PEBs: 751, bad PEBs: 1, corrupted PEBs: 0
[    2.185821] ubi0: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.193059] ubi0: max/mean erase counter: 4/1, WL threshold: 4096, image sequence number: 1390195764
[    2.202206] ubi0: available PEBs: 0, total reserved PEBs: 751, PEBs reserved for bad PEB handling: 15
[    2.211477] ubi0: background thread "ubi_bgt0d" started, PID 169
UBI device number 0, total 751 LEBs (95358976 bytes, 90.9 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
u[    2.227976] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" started, PID 176
bi0_0 exist.
create Directory:/program
df: /dev/pts: No such file or directory
    mount -t ubifs ubi0:program /program 
[    2.258668] UBIFS (ubi0:0): recovery needed
[    2.316261] UBIFS (ubi0:0): recovery completed
[    2.321248] UBIFS (ubi0:0): UBIFS: mounted UBI device 0, volume 0, name "program"
[    2.328747] UBIFS (ubi0:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.338677] UBIFS (ubi0:0): FS size: 91295744 bytes (87 MiB, 719 LEBs), journal size 9023488 bytes (8 MiB, 72 LEBs)
[    2.349123] UBIFS (ubi0:0): reserved for root: 0 bytes (0 KiB)
[    2.354968] UBIFS (ubi0:0): media format: w4/r0 (latest is w5/r0), UUID 5AA93821-CE3B-42DF-8B4C-323281550D45, small LPT model
[    2.379374] ubi1: default fastmap pool size: 8
[    2.383917] ubi1: default fastmap WL pool size: 4
[    2.388638] ubi1: attaching mtd7
[    2.414870] ubi1: scanning is finished
[    2.428603] ubi1: attached mtd7 (name "config", size 8 MiB)
[    2.434211] ubi1: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.441103] ubi1: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.447922] ubi1: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.454897] ubi1: good PEBs: 64, bad PEBs: 0, corrupted PEBs: 0
[    2.460835] ubi1: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.468082] ubi1: max/mean erase counter: 24/13, WL threshold: 4096, image sequence number: 3376025183
[    2.477410] ubi1: available PEBs: 0, total reserved PEBs: 64, PEBs reserved for bad PEB handling: 4
[    2.486493] ubi1: background thread "ubi_bgt1d" started, PID 186
UBI device number 1, total 64 LEBs (8126464 bytes, 7.7 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi1[    2.503094] UBIFS (ubi1:0): background thread "ubifs_bgt1_0" started, PID 193
_0 exist.
create Directory:/config
df: /dev/pts: No such file or directory
    mount -t ubifs ubi1:config /config 
[    2.534594] UBIFS (ubi1:0): recovery needed
[    2.633307] UBIFS (ubi1:0): recovery completed
[    2.638338] UBIFS (ubi1:0): UBIFS: mounted UBI device 1, volume 0, name "config"
[    2.645746] UBIFS (ubi1:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.655676] UBIFS (ubi1:0): FS size: 5586944 bytes (5 MiB, 44 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    2.665776] UBIFS (ubi1:0): reserved for root: 263884 bytes (257 KiB)
[    2.672231] UBIFS (ubi1:0): media format: w5/r0 (latest is w5/r0), UUID 6D0233DC-6B50-42EA-8560-1142E2371A7A, small LPT model
[    2.698593] ubi2: default fastmap pool size: 8
[    2.703099] ubi2: default fastmap WL pool size: 4
[    2.707874] ubi2: attaching mtd9
[    2.728750] ubi2: scanning is finished
[    2.742488] ubi2: attached mtd9 (name "cfgbak", size 6 MiB)
[    2.748091] ubi2: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.754982] ubi2: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.761783] ubi2: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.768761] ubi2: good PEBs: 48, bad PEBs: 0, corrupted PEBs: 0
[    2.774692] ubi2: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.781927] ubi2: max/mean erase counter: 23/13, WL threshold: 4096, image sequence number: 1034400906
[    2.791248] ubi2: available PEBs: 0, total reserved PEBs: 48, PEBs reserved for bad PEB handling: 4
[    2.800323] ubi2: background thread "ubi_bgt2d" started, PID 203
UBI device number 2, total 48 LEBs (6094848 bytes, 5.8 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi2[    2.816984] UBIFS (ubi2:0): background thread "ubifs_bgt2_0" started, PID 210
_0 exist.
create Directory:/cfgbak
df: /dev/pts: No such file or directory
    mount -t ubifs ubi2:cfgbak /cfgbak 
[    2.847631] UBIFS (ubi2:0): recovery needed
[    2.931750] UBIFS (ubi2:0): recovery completed
[    2.936738] UBIFS (ubi2:0): UBIFS: mounted UBI device 2, volume 0, name "cfgbak"
[    2.944149] UBIFS (ubi2:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.954078] UBIFS (ubi2:0): FS size: 3555328 bytes (3 MiB, 28 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    2.964178] UBIFS (ubi2:0): reserved for root: 167926 bytes (163 KiB)
[    2.970631] UBIFS (ubi2:0): media format: w5/r0 (latest is w5/r0), UUID 53E3460B-080A-4FEE-AEE2-4B0AFEB51CC3, small LPT model
[    2.996825] ubi3: default fastmap pool size: 8
[    3.001324] ubi3: default fastmap WL pool size: 4
[    3.006063] ubi3: attaching mtd5
[    3.027070] ubi3: scanning is finished
[    3.038487] ubi3: attached mtd5 (name "calibration", size 6 MiB)
[    3.044537] ubi3: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    3.051458] ubi3: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    3.058268] ubi3: VID header offset: 2048 (aligned 2048), data offset: 4096
[    3.065255] ubi3: good PEBs: 48, bad PEBs: 0, corrupted PEBs: 0
[    3.071188] ubi3: user volume: 1, internal volumes: 1, max. volumes count: 128
[    3.078426] ubi3: max/mean erase counter: 6/2, WL threshold: 4096, image sequence number: 3091558067
[    3.087574] ubi3: available PEBs: 0, total reserved PEBs: 48, PEBs reserved for bad PEB handling: 4
[    3.096640] ubi3: background thread "ubi_bgt3d" started, PID 220
UBI device number 3, total 48 LEBs (6094848 bytes, 5.8 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi3[    3.110813] UBIFS (ubi3:0): background thread "ubifs_bgt3_0" started, PID 226
_0 exist.
    /calibration exists
df: /dev/pts: No such file or directory
    mount -t ubifs ubi3:calibration /calibration 
[    3.178382] UBIFS (ubi3:0): UBIFS: mounted UBI device 3, volume 0, name "calibration"
[    3.186242] UBIFS (ubi3:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    3.196173] UBIFS (ubi3:0): FS size: 3555328 bytes (3 MiB, 28 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    3.206275] UBIFS (ubi3:0): reserved for root: 167926 bytes (163 KiB)
[    3.212731] UBIFS (ubi3:0): media format: w5/r0 (latest is w5/r0), UUID BF7BD558-BC9A-4D8D-B2C4-EE4F6925CECD, small LPT model
[    3.248537] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" stops
[    6.227196] random: crng init done
verify signature fail, exit!
[    6.259927] UBIFS (ubi0:0): un-mount UBI device 0
can't run '/program/bin/init.sh': No such file or directory

root login: 
root login: 
root login: 
root login: 
root login: root
Password: 
login[242]: root login on 'ttyS0'

User@/root>checUser@/root>checksysready
sh: can't open '/program/bin/checksysready.sh': No such file or directory

User@/root>User@/root>User@/root>checksysready
sh: can't open '/program/bin/checksysready.sh': No such file or directory

User@/root>User@/root>User@/root>checksysreadyl
Not support cmd yet!

User@/root>?
    logout
    exit
    update
    systemreport.sh
    display
    ifconfig
    ping
    _hide
    sdformat
    resetconfig
    killall
    date
    catmwarestate
    catfpn
    ECHO
    tcpdump
    tcpdump.sh
    manuinfotool
    tail
    reboot
    autotest
    mactool
    factorymode
    runtime
    setrsa
    getrsa
    getauthdata
    setlicense
    getlicense
    getudid
    download_logo
    cleancfg
    iperf
    downloadsetup
    ls
    ps
    checksysready
    cleanlogo
    downloadlensinfo
    displaylensinfo
    clearlensinfo
    downstitchcal
    uploadstitchcal
    setmonocularid
    getudid
    route
    mountnfs

User@/root>checksus  ysready
sh: can't open '/program/bin/checksysready.sh': No such file or directory

User@/root>q
Not support cmd yet!

User@/root>exit
Bye bye!

root login: [  1 ´V3N2C0N2C0RS

U-Boot 2020.04-00011-gddf6f040-dirty (Jun 17 2024 - 18:12:02 +0800), Build: jenkins-Compile_64ä½(10.188.40.119)-7385

U-Boot code: 5C000400 -> 5C095BEC  BSS: -> 5C0BD52C
Model: AXERA AX620E_Qnand Board
DRAM:  Monitor len: 000BD12C
Ram size: 10000000
Ram top: 50000000
TLB table from 4fff0000 to 4fff4000
Reserving 756k for U-Boot at: 4ff32000
Reserving 3584k for malloc() at: 4fbb2000
Reserving 96 Bytes for Board Info at: 4fbb1fa0
Reserving 216 Bytes for Global Data at: 4fbb1ec8
Reserving 14400 Bytes for FDT at: 4fbae688

RAM Configuration:
Bank #0: 40000000 
DRAM:  256 MiB
New Stack Pointer is: 4fbae660
Relocation Offset is: f3f31c00
Relocating to 4ff32000, new gd at 4fbb1ec8, sp at 4fbae660
WARNING: Caches not enabled
ax_adc_probe
No available THERMAL device
MMC:   mmc@1B40000: 0, mmc@104E0000: 1
NAND:  128 MiB
Loading Environment from NAND... *** Warning - bad CRC, using default environment

Loading Environment from SPI Flash... unrecognized JEDEC id bytes: ff, a1, e4
uclass_get_device: Invalid bus 0 (err=-2)
In:    serial
Out:   serial
Err:   serial
Current chip type: AX620Q_CHIP
Current board type: AX620Q_LP4_DEMO_V1_1
boot_reason:0x0
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
selecting mode MMC legacy (freq : 0 MHz)
Card did not respond to voltage select!
mmc_init: -95, time 24
no sd card
enter normal boot mode
boot_info_data.mode = 7
Net:   
Warning: ethernet@0x104C0000 (eth0) using random MAC address - ea:fc:b7:d6:6e:05
eth0: ethernet@0x104C0000  
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
Detected MACID:e4:f1:4c:77:66:ba
Detected ETH1 MACID:e4:f1:4c:77:66:ba
Press Ctrl+B to abort autoboot in 2 seconds
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
ax_shutdown_ephy:0x410021d1
enter do_axera_boot
reading kernel image size 0x700000 from spi nand flash ...
bondopt secureboot bit is enable:1, key_bits:2048
CACHE: Misaligned operation at range [4fbadb4c, 4fbadcd8]
total kernel image size = 6151640
>>> * kernel image verify success! * <<< 
header_info.blk_num=17, isize=6151640, osize=8629099, tile_cnt=12, last_tile_size=474568
boot cmd is :bootm 0x4e000000#conf-1
## Loading kernel from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'kernel' kernel subimage
     Description:  Axera Linux kernel
     Type:         Kernel Image
     Compression:  uncompressed
     Data Start:   0x4e0000e4
     Data Size:    8485640 Bytes = 8.1 MiB
     Architecture: ARM
     OS:           Linux
     Load Address: 0x40008000
     Entry Point:  0x40008000
   Verifying Hash Integrity ... OK
## Loading fdt from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'fdt-1' fdt subimage
     Description:  Flattened Device Tree blob
     Type:         Flat Device Tree
     Compression:  uncompressed
     Data Start:   0x4e817c9c
     Data Size:    141709 Bytes = 138.4 KiB
     Architecture: ARM
     Load Address: 0x42008000
   Verifying Hash Integrity ... OK
   Loading fdt from 0x4e817c9c to 0x42008000
   Booting using the fdt blob at 0x42008000
   Loading Kernel Image
   Using Device Tree in place at 42008000, end 4202d98c
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 4.19.125 (jenkins@root123) (gcc version 7.5.0 (Linaro GCC 7.5-2019.12)) #1 SMP PREEMPT Mon Jun 17 18:12:19 CST 2024
[    0.000000] CPU: ARMv7 Processor [410fd034] revision 4 (ARMv7), cr=50c5383d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: axera,ax620e
[    0.000000] ENC:0302C5TP;SEN:0302C4XQ;LENS:4801C0G2
[    0.000000] PROTOTYPE_NAME:IPC3624LE-ADF28K-WP
[    0.000000] chip type: 0x1
[    0.000000] memory total: 0x10000000, Media: 0x9000000
[    0.000000] earlycon: uart8250 at MMIO32 0x04880000 (options '')
[    0.000000] bootconsole [uart8250] enabled
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] On node 0 totalpages: 28672
[    0.000000]   Normal zone: 224 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 28672 pages, LIFO batch:7
[    0.000000] percpu: Embedded 18 pages/cpu s44236 r8192 d21300 u73728
[    0.000000] pcpu-alloc: s44236 r8192 d21300 u73728 alloc=18*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 28448
[    0.000000] Kernel command line: mem=112M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Memory: 104156K/114688K available (3967K kernel code, 222K rwdata, 1384K rodata, 2516K init, 396K bss, 10532K reserved, 0K cma-reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
[    0.000000]     vmalloc : 0xc7800000 - 0xff800000   ( 896 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xc7000000   ( 112 MB)
[    0.000000]     modules : 0xbf800000 - 0xc0000000   (   8 MB)
[    0.000000]       .text : 0x(ptrval) - 0x(ptrval)   (3969 kB)
[    0.000000]       .init : 0x(ptrval) - 0x(ptrval)   (2516 kB)
[    0.000000]       .data : 0x(ptrval) - 0x(ptrval)   ( 223 kB)
[    0.000000]        .bss : 0x(ptrval) - 0x(ptrval)   ( 397 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Tasks RCU enabled.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000004] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.008019] Switching to timer-based delay loop, resolution 41ns
[    0.016596] Console: colour dummy device 80x30
[    0.021072] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=120000)
[    0.031444] pid_max: default: 32768 minimum: 301
[    0.036159] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.042790] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.050243] CPU: Testing write buffer coherency: ok
[    0.055376] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091136] Setting up static identity map for 0x40008240 - 0x40008278
[    0.107702] rcu: Hierarchical SRCU implementation.
[    0.127730] smp: Bringing up secondary CPUs ...
[    0.157949] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.158048] smp: Brought up 1 node, 2 CPUs
[    0.167838] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.174033] CPU: All CPU(s) started in SVC mode.
[    0.179242] devtmpfs: initialized
[    0.210170] random: get_random_u32 called from bucket_table_alloc+0x63/0x118 with crng_init=0
[    0.218893] VFP support v0.3: implementor 41 architecture 3 part 40 variant 3 rev 4
[    0.226743] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 9556302231375000 ns
[    0.236511] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.242736] pinctrl core: initialized pinctrl subsystem
[    0.248221] NET: Registered protocol family 16
[    0.252954] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.260689] ax_pin_init ret 0 index 7
[    0.265900] console [pstore-1] enabled
[    0.269656] pstore: Registered ramoops as persistent store backend
[    0.275857] ramoops: attached 0x8000@0x41000000, ecc: 0/0
[    0.293953] SCSI subsystem initialized
[    0.297873] usbcore: registered new interface driver usbfs
[    0.303421] usbcore: registered new interface driver hub
[    0.308795] usbcore: registered new device driver usb
[    0.314487] pps_core: LinuxPPS API ver. 1 registered
[    0.319479] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.328641] PTP clock support registered
[    0.332785] Advanced Linux Sound Architecture Driver Initialized.
[    0.339976] dma_per 48a0000.dma_per: Axera DMA Peripherals Controller, 16 channels
[    0.347990] dma:ax_dma_probe:1605: done
[    0.352196] clocksource: Switched to clocksource arch_sys_counter
[    0.362869] NET: Registered protocol family 2
[    0.367703] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes)
[    0.375408] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.382404] TCP bind hash table entries: 1024 (order: 1, 8192 bytes)
[    0.388791] TCP: Hash tables configured (established 1024 bind 1024)
[    0.395214] UDP hash table entries: 256 (order: 1, 8192 bytes)
[    0.401079] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)
[    0.407458] NET: Registered protocol family 1
[    0.412105] RPC: Registered named UNIX socket transport module.
[    0.418053] RPC: Registered udp transport module.
[    0.422770] RPC: Registered tcp transport module.
[    0.427486] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.543048] workingset: timestamp_bits=30 max_order=15 bucket_order=0
[    0.553656] axera_logctl_init: of_find_compatible_node 'axera,logctl' success!!!
[    0.553663] axera_logctl_init: of_find_compatible_node config: /etc/ax_syslog.conf
[    0.561127] axera_logctl_init: logstate:1 1 len:2
[    0.573435] axera_logctl_init: loglevel:4 4 len:2
[    0.578393] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.584703] NFS: Registering the id_resolver key type
[    0.589790] Key type id_resolver registered
[    0.593986] Key type id_legacy registered
[    0.598031] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    0.606905] io scheduler noop registered (default)
[    0.611744] io scheduler mq-deadline registered
[    0.616294] io scheduler kyber registered
[    0.621527] axera-pinctrl 2300000.pinctrl: initialized pinctrl driver
[    0.631762] ax_os_mem_init
[    0.634585] [GZIP][D]: [     1][ax_gzipd_init : 730] enter ax_gzipd_init
[    0.642079] Serial: 8250/16550 driver, 5 ports, IRQ sharing disabled
[    0.649457] console [ttyS0] disabled
[    0.653105] 4880000.ax_uart: ttyS0 at MMIO 0x4880000 (irq = 20, base_baud = 13000000) is a 16550A
[    0.662027] console [ttyS0] enabled
[    0.662027] console [ttyS0] enabled
[    0.669014] bootconsole [uart8250] disabled
[    0.669014] bootconsole [uart8250] disabled
[    0.678596] null: module loaded
[    0.682284] ax_ramdisk_init:can't find ramdisk device tree node
[    0.689161] dw_spi_setup: rx_sample_dly_ns=0x6, chip->rx_sample_dly=0x3
[    0.695938] spi_master spi4: set clk_div=0x4, speed_hz=104000000, dws->max_freq=416000000
[    0.704136] spi_master spi4: set rx_sample_dly=0x3
[    0.708987] spi-nand spi4.0: FudanMicroelec SPI NAND was found.
[    0.714921] spi-nand spi4.0: 128 MiB, block size: 128 KiB, page size: 2048, OOB size: 64
[    0.723531] 13 cmdlinepart partitions found on MTD device spi4.0
[    0.729553] Creating 13 MTD partitions on "spi4.0":
[    0.734443] 0x000000000000-0x000000100000 : "spl"
[    0.740468] 0x000000100000-0x000000180000 : "ddrinit"
[    0.746341] 0x000000180000-0x000000380000 : "uboot"
[    0.753424] 0x000000380000-0x000000400000 : "env"
[    0.758954] 0x000000400000-0x000000a00000 : "calibration"
[    0.770201] 0x000000a00000-0x000000b00000 : "cliinfo"
[    0.776539] 0x000000b00000-0x000001300000 : "config"
[    0.789157] 0x000001300000-0x000001400000 : "runtime"
[    0.795492] 0x000001400000-0x000001a00000 : "cfgbak"
[    0.806291] 0x000001a00000-0x000002100000 : "kernel"
[    0.818026] 0x000002100000-0x000002180000 : "update"
[    0.823854] 0x000002180000-0x000007f80000 : "program"
[    0.914756] 0x000007f80000-0x000008000000 : "other"
[    0.920727] libphy: Fixed MDIO Bus: probed
[    0.924892] tun: Universal TUN/TAP device driver, 1.6
[    0.930185] stmmaceth 104c0000.ethernet: probe axera emac
[    0.935702] stmmaceth 104c0000.ethernet: phy-rst-gpio not configure
[    0.942002] stmmaceth 104c0000.ethernet: emac bus clock: 312MHz
[    0.947968] stmmaceth 104c0000.ethernet: emac phy clock: 25MHz
[    0.953846] stmmaceth 104c0000.ethernet: PTP rate: 50MHz
[    0.959188] stmmaceth 104c0000.ethernet: reset axera emac...
[    0.969869] stmmaceth 104c0000.ethernet: EMAC: select Inner RMII interface, value:0x00000000
[    0.978439] stmmaceth 104c0000.ethernet: User ID: 0x10, Synopsys ID: 0x52
[    0.985243] stmmaceth 104c0000.ethernet: 	DWMAC4/5
[    0.990047] stmmaceth 104c0000.ethernet: DMA HW capability register supported
[    0.997198] stmmaceth 104c0000.ethernet: RX Checksum Offload Engine supported
[    1.004343] stmmaceth 104c0000.ethernet: TX Checksum insertion supported
[    1.011055] stmmaceth 104c0000.ethernet: Wake-Up On Lan supported
[    1.017158] stmmaceth 104c0000.ethernet: TSO supported
[    1.022308] stmmaceth 104c0000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    1.029985] stmmaceth 104c0000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    1.037568] stmmaceth 104c0000.ethernet: USO feature enabled
[    1.043237] stmmaceth 104c0000.ethernet: TSO feature enabled
[    1.048983] libphy: stmmac: probed
[    1.055325] PPP generic driver version 2.4.2
[    1.059749] PPP BSD Compression module registered
[    1.064472] PPP Deflate Compression module registered
[    1.069536] NET: Registered protocol family 24
[    1.074340] axera dwc3 soc:axera_dwc3: axera usb probe
[    1.079665] axera dwc3 soc:axera_dwc3: usb bus clock: 312MHz
[    1.085356] axera dwc3 soc:axera_dwc3: axera usb clk set succeed.
[    1.091485] axera dwc3 soc:axera_dwc3: axera usb reset succeed.
[    1.097680] dwc3 8000000.dwc3: probe later.
[    1.102328] usbcore: registered new interface driver cdc_acm
[    1.107999] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters
[    1.116158] usbcore: registered new interface driver uas
[    1.121516] usbcore: registered new interface driver usb-storage
[    1.127594] usbcore: registered new interface driver usbserial_generic
[    1.134147] usbserial: USB Serial support registered for generic
[    1.176111] rtc_axera 23e0000.rtc-top: rtc core: registered 23e0000.rtc-top as rtc0
[    1.183874] i2c /dev entries driver
[    1.188825] ax_wdt:ax_wdt_drv_probe:346: done!
[    1.189168] sdhci: Secure Digital Host Controller Interface driver
[    1.199834] sdhci: Copyright(c) Pierre Ossman
[    1.204226] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.204315] sdhci-axera 104e0000.sdhc: axera sdhci probe
[    1.210557] usbcore: registered new interface driver usbhid
[    1.217514] get cd gpio failed
[    1.220799] usbhid: USB HID core driver
[    1.229547] dev->intr_type = 0
[    1.232638] dw_i2s_probe, hdmi_i2s: 0
[    1.236403] config pin_sd_misc to 0x300100
[    1.240525] dw_i2s_probe get irq is -6
[    1.244296] IIS get i2s_mclk: 12288000
[    1.248059] IIS get i2s_mclk: 12288000
[    1.251842] IIS probe OK
[    1.254432] dev->intr_type = 1
[    1.257498] dw_i2s_probe, hdmi_i2s: 0
[    1.261217] config pin_sd_misc to 0x300100
[    1.265331] dw_i2s_probe get irq is -6
[    1.269095] IIS get i2s_mclk: 12288000
[    1.272854] IIS get i2s_mclk: 12288000
[    1.276624] IIS probe OK
[    1.279511] ax_actt_probe
[    1.282185] designware-actt 23f2000.audio_codec: No cache used with register defaults set!
[    1.290570] oprofile: hardware counters not available
[    1.292280] mmc0: SDHCI controller on 104e0000.sdhc [104e0000.sdhc] using ADMA 64-bit
[    1.295643] oprofile: using timer interrupt.
[    1.303495] sdhci_cdns_read_phy_reg: phy lock successful
[    1.308390] NET: Registered protocol family 10
[    1.336358] Segment Routing with IPv6
[    1.340168] mip6: Mobile IPv6
[    1.343627] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.350298] NET: Registered protocol family 17
[    1.354835] l2tp_core: L2TP core driver, V2.0
[    1.359213] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[    1.364032] Key type dns_resolver registered
[    1.368482] Registering SWP/SWPB emulation handler
[    1.373288] chip type: AX620Q
[    1.376263] product init ok
[    1.379811] pstore: Using compression: deflate
[    1.385231] i2c_designware 4850000.i2c: running with gpio recovery mode! scl,sda
[    1.392810] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.398965] i2c_designware 4851000.i2c: running with gpio recovery mode! scl,sda
[    1.406496] i2c i2c-1: using pinctrl states for GPIO recovery
[    1.412619] dwc3 8000000.dwc3: dr_mode is 3 (1-host 2-device 3-otg)
[    1.418926] dwc3 8000000.dwc3: EP NUM:16
[    1.423162] actt_component_probe
[    1.423162]  
[    1.423301] bengin actt_set_sysclk
[    1.428107] actt_set_sysclk, freq: 12288000
[    1.435702] actt_set_dai_fmt, fmt: 0x1001
[    1.439720] actt_set_dai_fmt, actt rx only support master fmt_mode: 0x1000
[    1.446602] actt in I2S Format
[    1.449665] dw_i2s_set_fmt, fmt: 0x1001
[    1.454055] asoc-simple-card sound: 23f2000.audio_codec <-> 6051000.i2s_slv mapping ok
[    1.461984] bengin actt_set_sysclk
[    1.461987] actt_set_sysclk, freq: 12288000
[    1.469585] actt_set_dai_fmt, fmt: 0x4001
[    1.473602] actt_set_dai_fmt, actt tx only support salve .fmt_mode: 0x4000
[    1.480484] actt in I2S Format
[    1.483547] dw_i2s_set_fmt, fmt: 0x4001
[    1.487904] asoc-simple-card sound: 23f2000.audio_codec <-> 6050000.i2s_mst mapping ok
[    1.496014] dwc3 8000000.dwc3: axera usb gadget init
[    1.512680] rtc_axera 23e0000.rtc-top: setting system clock to 1970-01-01 08:00:00 UTC (28800)
[    1.521724] OF: fdt: not creating '/sys/firmware/fdt': CRC check failed
[    1.528613] ALSA device list:
[    1.531584]   #0: Axera Audio
[    1.534723] ttyS0 - failed to request DMA
[    1.540663] Freeing unused kernel memory: 2516K
[    1.545204] This architecture does not have kernel memory protection.
[    1.551654] Run /init as init process
[RCS]: /etc/init.d/S11init
mount: mounting debugfs on /sys/kernel/debug failed: No such file or directory
[RCS]: /etc/init.d/S30ambrwfs
cp: can't stat '/root/*': No such file or directory
[    1.854485] ubi0: default fastmap pool size: 35
[    1.859237] ubi0: default fastmap WL pool size: 17
[    1.864044] ubi0: attaching mtd12
[    1.911215] random: fast init done
[    2.143534] ubi0: scanning is finished
[    2.152674] ubi0: attached mtd12 (name "program", size 94 MiB)
[    2.158551] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.165444] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.172245] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.179218] ubi0: good PEBs: 751, bad PEBs: 1, corrupted PEBs: 0
[    2.185234] ubi0: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.192471] ubi0: max/mean erase counter: 4/1, WL threshold: 4096, image sequence number: 1390195764
[    2.201613] ubi0: available PEBs: 0, total reserved PEBs: 751, PEBs reserved for bad PEB handling: 15
[    2.210859] ubi0: background thread "ubi_bgt0d" started, PID 169
UBI device number 0, total 751 LEBs (95358976 bytes, 90.9 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
u[    2.227291] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" started, PID 176
bi0_0 exist.
create Directory:/program
df: /dev/pts: No such file or directory
    mount -t ubifs ubi0:program /program 
[    2.294468] UBIFS (ubi0:0): UBIFS: mounted UBI device 0, volume 0, name "program"
[    2.301979] UBIFS (ubi0:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.311909] UBIFS (ubi0:0): FS size: 91295744 bytes (87 MiB, 719 LEBs), journal size 9023488 bytes (8 MiB, 72 LEBs)
[    2.322359] UBIFS (ubi0:0): reserved for root: 0 bytes (0 KiB)
[    2.328203] UBIFS (ubi0:0): media format: w4/r0 (latest is w5/r0), UUID 5AA93821-CE3B-42DF-8B4C-323281550D45, small LPT model
[    2.352546] ubi1: default fastmap pool size: 8
[    2.357006] ubi1: default fastmap WL pool size: 4
[    2.361741] ubi1: attaching mtd7
[    2.388112] ubi1: scanning is finished
[    2.399579] ubi1: attached mtd7 (name "config", size 8 MiB)
[    2.405193] ubi1: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.412103] ubi1: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.418919] ubi1: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.425949] ubi1: good PEBs: 64, bad PEBs: 0, corrupted PEBs: 0
[    2.431891] ubi1: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.439139] ubi1: max/mean erase counter: 24/13, WL threshold: 4096, image sequence number: 3376025183
[    2.448490] ubi1: available PEBs: 0, total reserved PEBs: 64, PEBs reserved for bad PEB handling: 4
[    2.457558] ubi1: background thread "ubi_bgt1d" started, PID 186
UBI device number 1, total 64 LEBs (8126464 bytes, 7.7 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi1[    2.474201] UBIFS (ubi1:0): background thread "ubifs_bgt1_0" started, PID 193
_0 exist.
create Directory:/config
df: /dev/pts: No such file or directory
    mount -t ubifs ubi1:config /config 
[    2.505759] UBIFS (ubi1:0): recovery needed
[    2.602060] UBIFS (ubi1:0): recovery completed
[    2.606566] UBIFS (ubi1:0): UBIFS: mounted UBI device 1, volume 0, name "config"
[    2.613979] UBIFS (ubi1:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.623910] UBIFS (ubi1:0): FS size: 5586944 bytes (5 MiB, 44 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    2.634011] UBIFS (ubi1:0): reserved for root: 263884 bytes (257 KiB)
[    2.640464] UBIFS (ubi1:0): media format: w5/r0 (latest is w5/r0), UUID 6D0233DC-6B50-42EA-8560-1142E2371A7A, small LPT model
[    2.668775] ubi2: default fastmap pool size: 8
[    2.673310] ubi2: default fastmap WL pool size: 4
[    2.678061] ubi2: attaching mtd9
[    2.698711] ubi2: scanning is finished
[    2.712371] ubi2: attached mtd9 (name "cfgbak", size 6 MiB)
[    2.717994] ubi2: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.724882] ubi2: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.731692] ubi2: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.738680] ubi2: good PEBs: 48, bad PEBs: 0, corrupted PEBs: 0
[    2.744612] ubi2: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.751857] ubi2: max/mean erase counter: 23/13, WL threshold: 4096, image sequence number: 1034400906
[    2.761186] ubi2: available PEBs: 0, total reserved PEBs: 48, PEBs reserved for bad PEB handling: 4
[    2.770254] ubi2: background thread "ubi_bgt2d" started, PID 203
UBI device number 2, total 48 LEBs (6094848 bytes, 5.8 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi2[    2.786809] UBIFS (ubi2:0): background thread "ubifs_bgt2_0" started, PID 210
_0 exist.
create Directory:/cfgbak
df: /dev/pts: No such file or directory
    mount -t ubifs ubi2:cfgbak /cfgbak 
[    2.817300] UBIFS (ubi2:0): recovery needed
[    2.897894] UBIFS (ubi2:0): recovery completed
[    2.902375] UBIFS (ubi2:0): UBIFS: mounted UBI device 2, volume 0, name "cfgbak"
[    2.909784] UBIFS (ubi2:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.919713] UBIFS (ubi2:0): FS size: 3555328 bytes (3 MiB, 28 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    2.929814] UBIFS (ubi2:0): reserved for root: 167926 bytes (163 KiB)
[    2.936267] UBIFS (ubi2:0): media format: w5/r0 (latest is w5/r0), UUID 53E3460B-080A-4FEE-AEE2-4B0AFEB51CC3, small LPT model
[    2.962389] ubi3: default fastmap pool size: 8
[    2.966849] ubi3: default fastmap WL pool size: 4
[    2.971619] ubi3: attaching mtd5
[    2.992244] ubi3: scanning is finished
[    3.001123] ubi3: attached mtd5 (name "calibration", size 6 MiB)
[    3.007243] ubi3: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    3.014155] ubi3: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    3.020984] ubi3: VID header offset: 2048 (aligned 2048), data offset: 4096
[    3.027972] ubi3: good PEBs: 48, bad PEBs: 0, corrupted PEBs: 0
[    3.033903] ubi3: user volume: 1, internal volumes: 1, max. volumes count: 128
[    3.041148] ubi3: max/mean erase counter: 6/2, WL threshold: 4096, image sequence number: 3091558067
[    3.050304] ubi3: available PEBs: 0, total reserved PEBs: 48, PEBs reserved for bad PEB handling: 4
[    3.059384] ubi3: background thread "ubi_bgt3d" started, PID 220
UBI device number 3, total 48 LEBs (6094848 bytes, 5.8 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi3[    3.073629] UBIFS (ubi3:0): background thread "ubifs_bgt3_0" started, PID 226
_0 exist.
    /calibration exists
df: /dev/pts: No such file or directory
    mount -t ubifs ubi3:calibration /calibration 
[    3.106430] UBIFS (ubi3:0): recovery needed
[    3.164063] UBIFS (ubi3:0): recovery completed
[    3.168545] UBIFS (ubi3:0): UBIFS: mounted UBI device 3, volume 0, name "calibration"
[    3.176387] UBIFS (ubi3:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    3.186317] UBIFS (ubi3:0): FS size: 3555328 bytes (3 MiB, 28 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    3.196417] UBIFS (ubi3:0): reserved for root: 167926 bytes (163 KiB)
[    3.202873] UBIFS (ubi3:0): media format: w5/r0 (latest is w5/r0), UUID BF7BD558-BC9A-4D8D-B2C4-EE4F6925CECD, small LPT model
[    3.241697] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" stops
[    6.177229] random: crng init done
verify signature fail, exit!
[    6.209969] UBIFS (ubi0:0): un-mount UBI device 0
can't run '/program/bin/init.sh': No such file or directory

root login: root
Password: 
login[242]: root login on 'ttyS0'

User@/root>ls  checkUser@/root>checksysready
sh: can't open '/program/bin/checksysready.sh': No such file or directory

User@/root>qu  exit
Bye bye!
^B
root login: [   D  € bE{V3N2C0N2C0 ÀV3N2C0N2C0RS

U-Boot 2020.04-00011-gddf6f040-dirty (Jun 17 2024 - 18:12:02 +0800), Build: jenkins-Compile_64ä½(10.188.40.119)-7385

U-Boot code: 5C000400 -> 5C095BEC  BSS: -> 5C0BD52C
Model: AXERA AX620E_Qnand Board
DRAM:  Monitor len: 000BD12C
Ram size: 10000000
Ram top: 50000000
TLB table from 4fff0000 to 4fff4000
Reserving 756k for U-Boot at: 4ff32000
Reserving 3584k for malloc() at: 4fbb2000
Reserving 96 Bytes for Board Info at: 4fbb1fa0
Reserving 216 Bytes for Global Data at: 4fbb1ec8
Reserving 14400 Bytes for FDT at: 4fbae688

RAM Configuration:
Bank #0: 40000000 
DRAM:  256 MiB
New Stack Pointer is: 4fbae660
Relocation Offset is: f3f31c00
Relocating to 4ff32000, new gd at 4fbb1ec8, sp at 4fbae660
WARNING: Caches not enabled
ax_adc_probe
No available THERMAL device
MMC:   mmc@1B40000: 0, mmc@104E0000: 1
NAND:  128 MiB
Loading Environment from NAND... *** Warning - bad CRC, using default environment

Loading Environment from SPI Flash... unrecognized JEDEC id bytes: ff, a1, e4
uclass_get_device: Invalid bus 0 (err=-2)
In:    serial
Out:   serial
Err:   serial
Current chip type: AX620Q_CHIP
Current board type: AX620Q_LP4_DEMO_V1_1
boot_reason:0x0
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
selecting mode MMC legacy (freq : 0 MHz)
Card did not respond to voltage select!
mmc_init: -95, time 24
no sd card
enter normal boot mode
boot_info_data.mode = 7
Net:   
Warning: ethernet@0x104C0000 (eth0) using random MAC address - 36:6d:f5:ff:f6:39
eth0: ethernet@0x104C0000  
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
Detected MACID:e4:f1:4c:77:66:ba
Detected ETH1 MACID:e4:f1:4c:77:66:ba
Press Ctrl+B to abort autoboot in 2 seconds
uboot # printenv
baudrate=115200
bootargs=mem=107M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
bootcmd=axera_boot
bootdelay=2
bootfile=uImage
ethaddr=e4:f1:4c:77:66:ba
fdtcontroladdr=4fbae688
ipaddr=192.168.0.13
netmask=255.255.255.0
serverip=192.168.0.10
stderr=serial
stdin=serial
stdout=serial

Environment size: 555/524284 bytes
uboot # set env      env bootargs bootargs=mem=107M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)[),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)1),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other);),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)5),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)D),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other) ),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other) ),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other) ),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other) ),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other) b),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other) o),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)o),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)t),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)sarts=spi4.0:1M(spl),512K(ddrinit),2048K(ubootoot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)iarts=spi4.0:1M(spl),512K(ddrinit),2048K(ubootoot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)narts=spi4.0:1M(spl),512K(ddrinit),2048K(ubootoot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)garts=spi4.0:1M(spl),512K(ddrinit),2048K(ubootoot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)larts=spi4.0:1M(spl),512K(ddrinit),2048K(ubootoot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)earts=spi4.0:1M(spl),512K(ddrinit),2048K(ubootoot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other) arts=spi4.0:1M(spl),512K(ddrinit),2048K(ubootoot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)<INTERRUPT>
uboot # <INTERRUPT>
uboot # <INTERRUPT>
uboot # <INTERRUPT>
uboot # printenv        setenv boot
  bootargs bootcmd bootdelay bootfile
uboot # setenv bootargs bootargs=mem=107M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)  mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)s mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)i mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)n mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)g mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)l mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)e mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
uboot # 
uboot # boot
ax_shutdown_ephy:0x410021d1
enter do_axera_boot
reading kernel image size 0x700000 from spi nand flash ...
bondopt secureboot bit is enable:1, key_bits:2048
CACHE: Misaligned operation at range [4fbad324, 4fbad4b0]
total kernel image size = 6151640
>>> * kernel image verify success! * <<< 
header_info.blk_num=17, isize=6151640, osize=8629099, tile_cnt=12, last_tile_size=474568
boot cmd is :bootm 0x4e000000#conf-1
## Loading kernel from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'kernel' kernel subimage
     Description:  Axera Linux kernel
     Type:         Kernel Image
     Compression:  uncompressed
     Data Start:   0x4e0000e4
     Data Size:    8485640 Bytes = 8.1 MiB
     Architecture: ARM
     OS:           Linux
     Load Address: 0x40008000
     Entry Point:  0x40008000
   Verifying Hash Integrity ... OK
## Loading fdt from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'fdt-1' fdt subimage
     Description:  Flattened Device Tree blob
     Type:         Flat Device Tree
     Compression:  uncompressed
     Data Start:   0x4e817c9c
     Data Size:    141709 Bytes = 138.4 KiB
     Architecture: ARM
     Load Address: 0x42008000
   Verifying Hash Integrity ... OK
   Loading fdt from 0x4e817c9c to 0x42008000
   Booting using the fdt blob at 0x42008000
   Loading Kernel Image
   Using Device Tree in place at 42008000, end 4202d98c
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 4.19.125 (jenkins@root123) (gcc version 7.5.0 (Linaro GCC 7.5-2019.12)) #1 SMP PREEMPT Mon Jun 17 18:12:19 CST 2024
[    0.000000] CPU: ARMv7 Processor [410fd034] revision 4 (ARMv7), cr=50c5383d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: axera,ax620e
[    0.000000] ENC:0302C5TP;SEN:0302C4XQ;LENS:4801C0G2
[    0.000000] PROTOTYPE_NAME:IPC3624LE-ADF28K-WP
[    0.000000] chip type: 0x1
[    0.000000] memory total: 0x10000000, Media: 0x9000000
[    0.000000] earlycon: uart8250 at MMIO32 0x04880000 (options '')
[    0.000000] bootconsole [uart8250] enabled
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] Ignoring RAM at 0x70000000-0x80000000
[    0.000000] Consider using a HIGHMEM enabled kernel.
[    0.000000] On node 0 totalpages: 196608
[    0.000000]   Normal zone: 1536 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 196608 pages, LIFO batch:63
[    0.000000] percpu: Embedded 18 pages/cpu s44236 r8192 d21300 u73728
[    0.000000] pcpu-alloc: s44236 r8192 d21300 u73728 alloc=18*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 195072
[    0.000000] Kernel command line: bootargs=mem=112M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc single mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
[    0.000000] Dentry cache hash table entries: 131072 (order: 7, 524288 bytes)
[    0.000000] Inode-cache hash table entries: 65536 (order: 6, 262144 bytes)
[    0.000000] Memory: 769980K/786432K available (3967K kernel code, 222K rwdata, 1384K rodata, 2516K init, 396K bss, 16452K reserved, 0K cma-reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
[    0.000000]     vmalloc : 0xf0800000 - 0xff800000   ( 240 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xf0000000   ( 768 MB)
[    0.000000]     modules : 0xbf800000 - 0xc0000000   (   8 MB)
[    0.000000]       .text : 0x(ptrval) - 0x(ptrval)   (3969 kB)
[    0.000000]       .init : 0x(ptrval) - 0x(ptrval)   (2516 kB)
[    0.000000]       .data : 0x(ptrval) - 0x(ptrval)   ( 223 kB)
[    0.000000]        .bss : 0x(ptrval) - 0x(ptrval)   ( 397 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Tasks RCU enabled.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000005] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.008020] Switching to timer-based delay loop, resolution 41ns
[    0.016587] Console: colour dummy device 80x30
[    0.021064] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=120000)
[    0.031436] pid_max: default: 32768 minimum: 301
[    0.036160] Mount-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.042793] Mountpoint-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.050253] CPU: Testing write buffer coherency: ok
[    0.055394] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091157] Setting up static identity map for 0x40008240 - 0x40008278
[    0.107722] rcu: Hierarchical SRCU implementation.
[    0.127751] smp: Bringing up secondary CPUs ...
[    0.157969] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.158066] smp: Brought up 1 node, 2 CPUs
[    0.167855] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.174050] CPU: All CPU(s) started in SVC mode.
[    0.179354] devtmpfs: initialized
[    0.210237] random: get_random_u32 called from bucket_table_alloc+0x63/0x118 with crng_init=0
[    0.218977] VFP support v0.3: implementor 41 architecture 3 part 40 variant 3 rev 4
[    0.226845] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 9556302231375000 ns
[    0.236615] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.242839] pinctrl core: initialized pinctrl subsystem
[    0.248328] NET: Registered protocol family 16
[    0.253090] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.260844] ax_pin_init ret 0 index 7
[    0.266123] console [pstore-1] enabled
[    0.269879] pstore: Registered ramoops as persistent store backend
[    0.276078] ramoops: attached 0x8000@0x41000000, ecc: 0/0
[    0.294180] SCSI subsystem initialized
[    0.298095] usbcore: registered new interface driver usbfs
[    0.303643] usbcore: registered new interface driver hub
[    0.309017] usbcore: registered new device driver usb
[    0.314708] pps_core: LinuxPPS API ver. 1 registered
[    0.319698] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.328861] PTP clock support registered
[    0.333004] Advanced Linux Sound Architecture Driver Initialized.
[    0.340190] dma_per 48a0000.dma_per: Axera DMA Peripherals Controller, 16 channels
[    0.348208] dma:ax_dma_probe:1605: done
[    0.352433] clocksource: Switched to clocksource arch_sys_counter
[    0.363083] NET: Registered protocol family 2
[    0.367912] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes)
[    0.375621] TCP established hash table entries: 8192 (order: 3, 32768 bytes)
[    0.382754] TCP bind hash table entries: 8192 (order: 4, 65536 bytes)
[    0.389323] TCP: Hash tables configured (established 8192 bind 8192)
[    0.395755] UDP hash table entries: 512 (order: 2, 16384 bytes)
[    0.401719] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
[    0.408198] NET: Registered protocol family 1
[    0.412864] RPC: Registered named UNIX socket transport module.
[    0.418810] RPC: Registered udp transport module.
[    0.423527] RPC: Registered tcp transport module.
[    0.428243] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.543865] workingset: timestamp_bits=30 max_order=18 bucket_order=0
[    0.554439] axera_logctl_init: of_find_compatible_node 'axera,logctl' success!!!
[    0.554446] axera_logctl_init: of_find_compatible_node config: /etc/ax_syslog.conf
[    0.561913] axera_logctl_init: logstate:1 1 len:2
[    0.574240] axera_logctl_init: loglevel:4 4 len:2
[    0.579198] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.585506] NFS: Registering the id_resolver key type
[    0.590590] Key type id_resolver registered
[    0.594786] Key type id_legacy registered
[    0.598831] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    0.607740] io scheduler noop registered (default)
[    0.612564] io scheduler mq-deadline registered
[    0.617101] io scheduler kyber registered
[    0.622342] axera-pinctrl 2300000.pinctrl: initialized pinctrl driver
[    0.632624] ax_os_mem_init
[    0.635411] [GZIP][D]: [     1][ax_gzipd_init : 730] enter ax_gzipd_init
[    0.642938] Serial: 8250/16550 driver, 5 ports, IRQ sharing disabled
[    0.650296] console [ttyS0] disabled
[    0.653941] 4880000.ax_uart: ttyS0 at MMIO 0x4880000 (irq = 20, base_baud = 13000000) is a 16550A
[    0.662865] console [ttyS0] enabled
[    0.662865] console [ttyS0] enabled
[    0.669849] bootconsole [uart8250] disabled
[    0.669849] bootconsole [uart8250] disabled
[    0.679430] null: module loaded
[    0.683099] ax_ramdisk_init:can't find ramdisk device tree node
[    0.690006] dw_spi_setup: rx_sample_dly_ns=0x6, chip->rx_sample_dly=0x3
[    0.696791] spi_master spi4: set clk_div=0x4, speed_hz=104000000, dws->max_freq=416000000
[    0.704990] spi_master spi4: set rx_sample_dly=0x3
[    0.709834] spi-nand spi4.0: FudanMicroelec SPI NAND was found.
[    0.715767] spi-nand spi4.0: 128 MiB, block size: 128 KiB, page size: 2048, OOB size: 64
[    0.724370] 13 cmdlinepart partitions found on MTD device spi4.0
[    0.730394] Creating 13 MTD partitions on "spi4.0":
[    0.735285] 0x000000000000-0x000000100000 : "spl"
[    0.741304] 0x000000100000-0x000000180000 : "ddrinit"
[    0.747180] 0x000000180000-0x000000380000 : "uboot"
[    0.754276] 0x000000380000-0x000000400000 : "env"
[    0.759806] 0x000000400000-0x000000a00000 : "calibration"
[    0.771044] 0x000000a00000-0x000000b00000 : "cliinfo"
[    0.777376] 0x000000b00000-0x000001300000 : "config"
[    0.789989] 0x000001300000-0x000001400000 : "runtime"
[    0.796323] 0x000001400000-0x000001a00000 : "cfgbak"
[    0.807122] 0x000001a00000-0x000002100000 : "kernel"
[    0.818856] 0x000002100000-0x000002180000 : "update"
[    0.824701] 0x000002180000-0x000007f80000 : "program"
[    0.915573] 0x000007f80000-0x000008000000 : "other"
[    0.921547] libphy: Fixed MDIO Bus: probed
[    0.925712] tun: Universal TUN/TAP device driver, 1.6
[    0.931006] stmmaceth 104c0000.ethernet: probe axera emac
[    0.936521] stmmaceth 104c0000.ethernet: phy-rst-gpio not configure
[    0.942828] stmmaceth 104c0000.ethernet: emac bus clock: 312MHz
[    0.948790] stmmaceth 104c0000.ethernet: emac phy clock: 25MHz
[    0.954669] stmmaceth 104c0000.ethernet: PTP rate: 50MHz
[    0.960011] stmmaceth 104c0000.ethernet: reset axera emac...
[    0.970692] stmmaceth 104c0000.ethernet: EMAC: select Inner RMII interface, value:0x00000000
[    0.979263] stmmaceth 104c0000.ethernet: User ID: 0x10, Synopsys ID: 0x52
[    0.986068] stmmaceth 104c0000.ethernet: 	DWMAC4/5
[    0.990872] stmmaceth 104c0000.ethernet: DMA HW capability register supported
[    0.998021] stmmaceth 104c0000.ethernet: RX Checksum Offload Engine supported
[    1.005166] stmmaceth 104c0000.ethernet: TX Checksum insertion supported
[    1.011877] stmmaceth 104c0000.ethernet: Wake-Up On Lan supported
[    1.017983] stmmaceth 104c0000.ethernet: TSO supported
[    1.023131] stmmaceth 104c0000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    1.030808] stmmaceth 104c0000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    1.038390] stmmaceth 104c0000.ethernet: USO feature enabled
[    1.044060] stmmaceth 104c0000.ethernet: TSO feature enabled
[    1.049806] libphy: stmmac: probed
[    1.056177] PPP generic driver version 2.4.2
[    1.060599] PPP BSD Compression module registered
[    1.065322] PPP Deflate Compression module registered
[    1.070386] NET: Registered protocol family 24
[    1.075194] axera dwc3 soc:axera_dwc3: axera usb probe
[    1.080522] axera dwc3 soc:axera_dwc3: usb bus clock: 312MHz
[    1.086212] axera dwc3 soc:axera_dwc3: axera usb clk set succeed.
[    1.092340] axera dwc3 soc:axera_dwc3: axera usb reset succeed.
[    1.098532] dwc3 8000000.dwc3: probe later.
[    1.103175] usbcore: registered new interface driver cdc_acm
[    1.108846] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters
[    1.117000] usbcore: registered new interface driver uas
[    1.122356] usbcore: registered new interface driver usb-storage
[    1.128435] usbcore: registered new interface driver usbserial_generic
[    1.134989] usbserial: USB Serial support registered for generic
[    1.176945] rtc_axera 23e0000.rtc-top: rtc core: registered 23e0000.rtc-top as rtc0
[    1.184707] i2c /dev entries driver
[    1.189644] ax_wdt:ax_wdt_drv_probe:346: done!
[    1.189982] sdhci: Secure Digital Host Controller Interface driver
[    1.200647] sdhci: Copyright(c) Pierre Ossman
[    1.205044] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.205133] sdhci-axera 104e0000.sdhc: axera sdhci probe
[    1.211365] usbcore: registered new interface driver usbhid
[    1.218331] get cd gpio failed
[    1.221616] usbhid: USB HID core driver
[    1.230350] dev->intr_type = 0
[    1.233440] dw_i2s_probe, hdmi_i2s: 0
[    1.237206] config pin_sd_misc to 0x300100
[    1.241330] dw_i2s_probe get irq is -6
[    1.245102] IIS get i2s_mclk: 12288000
[    1.248865] IIS get i2s_mclk: 12288000
[    1.252657] IIS probe OK
[    1.255238] dev->intr_type = 1
[    1.258303] dw_i2s_probe, hdmi_i2s: 0
[    1.262025] config pin_sd_misc to 0x300100
[    1.266139] dw_i2s_probe get irq is -6
[    1.269902] IIS get i2s_mclk: 12288000
[    1.273661] IIS get i2s_mclk: 12288000
[    1.277440] IIS probe OK
[    1.280313] ax_actt_probe
[    1.282998] designware-actt 23f2000.audio_codec: No cache used with register defaults set!
[    1.291373] oprofile: hardware counters not available
[    1.292517] mmc0: SDHCI controller on 104e0000.sdhc [104e0000.sdhc] using ADMA 64-bit
[    1.296444] oprofile: using timer interrupt.
[    1.304296] sdhci_cdns_read_phy_reg: phy lock successful
[    1.309191] NET: Registered protocol family 10
[    1.336631] Segment Routing with IPv6
[    1.340437] mip6: Mobile IPv6
[    1.343890] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.350556] NET: Registered protocol family 17
[    1.355095] l2tp_core: L2TP core driver, V2.0
[    1.359474] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[    1.364294] Key type dns_resolver registered
[    1.368759] Registering SWP/SWPB emulation handler
[    1.373565] chip type: AX620Q
[    1.376541] product init ok
[    1.380100] pstore: Using compression: deflate
[    1.385531] i2c_designware 4850000.i2c: running with gpio recovery mode! scl,sda
[    1.393112] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.399264] i2c_designware 4851000.i2c: running with gpio recovery mode! scl,sda
[    1.406793] i2c i2c-1: using pinctrl states for GPIO recovery
[    1.412913] dwc3 8000000.dwc3: dr_mode is 3 (1-host 2-device 3-otg)
[    1.419219] dwc3 8000000.dwc3: EP NUM:16
[    1.423454] actt_component_probe
[    1.423454]  
[    1.423593] bengin actt_set_sysclk
[    1.428400] actt_set_sysclk, freq: 12288000
[    1.435995] actt_set_dai_fmt, fmt: 0x1001
[    1.440014] actt_set_dai_fmt, actt rx only support master fmt_mode: 0x1000
[    1.446896] actt in I2S Format
[    1.449959] dw_i2s_set_fmt, fmt: 0x1001
[    1.454350] asoc-simple-card sound: 23f2000.audio_codec <-> 6051000.i2s_slv mapping ok
[    1.462277] bengin actt_set_sysclk
[    1.462280] actt_set_sysclk, freq: 12288000
[    1.469878] actt_set_dai_fmt, fmt: 0x4001
[    1.473895] actt_set_dai_fmt, actt tx only support salve .fmt_mode: 0x4000
[    1.480777] actt in I2S Format
[    1.483838] dw_i2s_set_fmt, fmt: 0x4001
[    1.488192] asoc-simple-card sound: 23f2000.audio_codec <-> 6050000.i2s_mst mapping ok
[    1.496301] dwc3 8000000.dwc3: axera usb gadget init
[    1.512962] rtc_axera 23e0000.rtc-top: setting system clock to 1970-01-01 08:00:00 UTC (28800)
[    1.522005] OF: fdt: not creating '/sys/firmware/fdt': CRC check failed
[    1.528894] ALSA device list:
[    1.531864]   #0: Axera Audio
[    1.535003] ttyS0 - failed to request DMA
[    1.540871] Freeing unused kernel memory: 2516K
[    1.545413] This architecture does not have kernel memory protection.
[    1.551862] Run /init as init process
root@(none):~# cd ..
root@(none):~# ls
[1;34mbin[m          [1;34mhome[m         [1;36mlinuxrc[m      [1;34mroot[m         [1;34musr[m
[1;34mcalibration[m  [1;36minit[m         [1;34mmnt[m          [1;34msbin[m         [1;34mvar[m
[1;34mdev[m          [1;34mlib[m          [1;36mopt[m          [1;34msys[m          [1;36mwww[m
[1;34metc[m          [1;36mlib64[m        [1;34mproc[m         [1;34mtmp[m
root@(none):~# cd i[Jeroot@(none):~# cd etc/[J
root@(none):/etc# ls
[1;32mKERNEL_VERSION[m         [1;34minit.d[m                 [1;32mprofile[m
[0;0max_syslog.conf[m         [1;32minittab[m                [1;32msd_card_add_remove.sh[m
[1;32mfstab[m                  [1;32mmdev.conf[m              [1;32mshells[m
[1;32mgroup[m                  [1;32mpasswd[m
[1;32mhostname[m               [1;32mpasswd-[m
root@(none):/etc# cd pr[J[Jini[   21.160596] random: fast init done
root@(none):/etc# cd init.d/[J
root@(none):/etc/init.d# ls
[1;32mS11init[m     [1;32mS30ambrwfs[m  [1;32mS80network[m  [1;32maxklogd[m     [1;32maxsyslogd[m   [1;32mrcS[m
root@(none):/etc/init.d# cd S30ambr[J[J[J[J[J[J[J[J[J[Jvi 2[JS30root@(none):/etc/init.d# vi S30ambrwfs [J
[?1049h[999;999H[6n[H[J[1;1H#!/bin/sh[3;1HCONFIG_MTD=`cat /proc/mtd | grep config | sed 's/:.*//'`[4;1HCONFIG_BAK_MTD=`cat /proc/mtd | grep cfgbak | sed 's/:.*//'`[5;1HPROGRAM_MTD=`cat /proc/mtd | grep program | sed 's/:.*//'`[6;1HRUNTIME_MTD=`cat /proc/mtd | grep runtime | sed 's/:.*//'`[7;1HCLIINFO_MTD=`cat /proc/mtd | grep cliinfo | sed 's/:.*//'`[8;1HKERNEL_MTD=`cat /proc/mtd | grep kernel | sed 's/:.*//'`[9;1HUBOOT_MTD=`cat /proc/mtd | grep uboot | sed 's/:.*//'`[10;1HCALIBRATION_MTD=`cat /proc/mtd | grep calibration | sed 's/:.*//'`[11;1HCALIBRATION_MTD_BLOCK=`cat /proc/mtd | grep calibration | sed 's/mtd/mtdblock/' | sed 's/:.*//'`[12;1HUPDATEINFO_MTD=`cat /proc/mtd | grep update | sed 's/:.*//'`[13;1HSPL_MTD=`cat /proc/mtd | grep spl | sed 's/:.*//'`[14;1HDDRINIT_MTD=`cat /proc/mtd | grep ddrinit | sed 's/:.*//'`[16;1H/sbin/mdev -s[18;1Hmkdir /tmp/.tmp_root[19;1Hcp -a /root/* /tmp/.tmp_root[20;1Hmount --bind /tmp/.tmp_root /root[22;1Hecho /sbin/mdev >/proc/sys/kernel/hotplug[25;1Hif [ -e "/dev/$RUNTIME_MTD" -a ! -e "/dev/mtd_runtime" ]; then[26;5Hln -sf /dev/$RUNTIME_MTD /dev/mtd_runtime[27;1Hfi[29;1Hif [ -e "/dev/$CONFIG_MTD" -a ! -e "/dev/mtd_config" ]; then[30;5Hln -sf /dev/$CONFIG_MTD /dev/mtd_config[31;1Hfi[33;1Hif [ -e "/dev/$CONFIG_BAK_MTD" -a ! -e "/dev/mtd_cfgbak" ]; then[34;5Hln -sf /dev/$CONFIG_BAK_MTD /dev/mtd_cfgbak[35;1Hfi[37;1Hif [ -e "/dev/$CLIINFO_MTD" -a ! -e "/dev/mtd_clinfo" ]; then[38;5Hln -sf /dev/$CLIINFO_MTD /dev/mtd_clinfo[39;1Hfi[41;1Hif [ -e "/dev/$KERNEL_MTD" -a ! -e "/dev/mtd_kernel" ]; then[42;5Hln -sf /dev/$KERNEL_MTD /dev/mtd_kernel[43;1Hfi[45;1Hif [ -e "/dev/$PROGRAM_MTD" -a ! -e "/dev/mtd_program" ]; then[46;5Hln -sf /dev/$PROGRAM_MTD /dev/mtd_program[47;1Hfi[49;1Hif [ -e "/dev/$UBOOT_MTD" -a ! -e "/dev/mtd_uboot" ]; then[50;5Hln -sf /dev/$UBOOT_MTD /dev/mtd_uboot[51;1Hfi[53;1Hif [ -e "/dev/$UPDATEINFO_MTD" -a ! -e "/dev/mtd_updateinfo" ]; then[1;1H[54;1H[K- S30ambrwfs 1/192 0%[1;1H[54;1H[K/program[1;1H[5;35H[54;1H[K- S30ambrwfs 5/192 2%[5;35H[45;47H[54;1H[K- S30ambrwfs 45/192 23%[45;47H[46;39H[54;1H[K- S30ambrwfs 46/192 23%[46;39H[1;1H            if [ $Check_UBI != "0" ]; then[2;17Hecho "Warning!! mount $DeviceName:$VolumeName failed, it may lost config info"[3;1H                ubidetach /dev/ubi_ctrl -d $UbiNum      [4;1H                ubiformat /dev/mtd$MtdNum -y                [5;1H                ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved[6;1H                ubimkvol /dev/$DeviceName -N $VolumeName -m[7;1H                Check_UBI=$?                              [8;1H                if [ $Check_UBI != "0" ]; then          [9;1H                    echo "    $DeviceName ubimkvol failed second!"[10;1H                fi                                                [11;1H                mount -t ubifs $DeviceName:$VolumeName -osync $FolderName                       [12;1H                Check_UBI=$?                                [13;1H                if [ $Check_UBI != "0" ]; then    [14;1H                    echo "Recover config failed!" >> /config/ubi_config_info[15;17Helse[16;1H                    echo "Recover config succeed!" >> /config/ubi_config_info[17;17Hfi[18;1H            else    [19;1H                if [ $ATTACH_UBI != "0" ]; then[20;1H                    echo "Config partition was erasured, recover succeed!" >> /config/ubi_config_info[21;17Hfi[22;1H            fi                           [23;9Hfi[24;5Hfi[25;1H}                                                             [26;5H                                         [27;1HPartitionName="program"[28;1HVolumeName="program"[29;1HDeviceName="ubi0"                                           [30;1HFolderName="/program"                      [31;1HATTACH_UBI=0[32;1HUbiNum=0[33;1HBabReserved=16                                                  [34;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/mtd// | sed -e s/\://`[35;1H  [36;1Hmount_ubifs[37;1H                                                             [38;1HPartitionName="config"                      [39;1HVolumeName="config"[40;1HDeviceName="ubi1"[41;1HFolderName="/config"                                        [42;1HATTACH_UBI=0                               [43;1HUbiNum=1[44;1HBabReserved=4[45;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`[46;5H                                         [47;1Hmount_ubifs[49;1HPartitionName="cfgbak"                                    [50;1HVolumeName="cfgbak"                      [51;1HDeviceName="ubi2"[52;1HFolderName="/cfgbak"[53;1HATTACH_UBI=0                                                        [27;16H[54;1H[K- S30ambrwfs 139/192 72%[27;16H[28;16H[54;1H[K- S30ambrwfs 140/192 72%[28;16H[29;16H[54;1H[K- S30ambrwfs 141/192 73%[29;16H[30;16H[54;1H[K- S30ambrwfs 142/192 73%[30;16H[31;12H[54;1H[K- S30ambrwfs 143/192 74%[31;12H[32;8H[54;1H[K- S30ambrwfs 144/192 75%[32;8H[1;5Hfi                                    [2;1H}                                                                                             [3;17H                                  [4;1HPartitionName="program"                     [5;1HVolumeName="program"                                                         [6;1HDeviceName="ubi0"                                          [7;1HFolderName="/program"       [8;1HATTACH_UBI=0                                  [9;1HUbiNum=0                                                          [10;1HBabReserved=16    [11;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/mtd// | sed -e s/\://`[12;17H            [13;1Hmount_ubifs                                   [14;21H                                                        [15;1HPartitionName="config"[16;1HVolumeName="config"                                                          [17;1HDeviceName="ubi1" [18;1HFolderName="/config"[19;1HATTACH_UBI=0                                   [20;1HUbiNum=1                                                                                             [21;1HBabReserved=4     [22;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`[23;9H  [24;1Hmount_ubifs[25;1H [26;1HPartitionName="cfgbak"[27;1HVolumeName="cfgbak"    [28;1HDeviceName="ubi2"   [29;1HFolderName="/cfgbak"[30;1HATTACH_UBI=0         [31;1HUbiNum=2    [32;1HBabReserved=4[33;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`[34;1H                                                                                                [35;1Hmount_ubifs[36;1H           [37;1HPartitionName="calibration"[38;1HVolumeName="calibration"[39;1HDeviceName="ubi3"  [40;1HFolderName="/calibration"[41;1HATTACH_UBI=0        [42;1HUbiNum=3    [43;1HBabReserved=4[44;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`[45;1H                                                                                                 [46;1Hmount_ubifs[47;1H           [48;1Hmkdir -p /var/etc/[49;1Hcp -a /etc/* /var/etc/[50;1Hmount --bind /var/etc /etc[51;1H                 [52;1Hmkdir -p /tmp/bin   [53;1Hcp /program/bin/manuinfotool /tmp/bin/updateflag -rf[53;5H[54;1H[K- S30ambrwfs 188/192 97%[53;5H[1;1HPartitionName="program"[2;1HVolumeName="program"[3;1HDeviceName="ubi0"[4;1HFolderName="/program"  [5;1HATTACH_UBI=0        [6;1HUbiNum=0         [7;1HBabReserved=16       [8;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/mtd// | sed -e s/\://`[9;1H        [10;1Hmount_ubifs   [11;1H                                                                                                [12;1HPartitionName="config"[13;1HVolumeName="config"[14;1HDeviceName="ubi1"[15;1HFolderName="/config"  [16;1HATTACH_UBI=0       [17;1HUbiNum=1         [18;1HBabReserved=4       [19;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`[20;1H        [21;1Hmount_ubifs  [22;1H                                                                                                 [23;1HPartitionName="cfgbak"[24;1HVolumeName="cfgbak"[25;1HDeviceName="ubi2"[26;1HFolderName="/cfgbak"  [27;1HATTACH_UBI=0       [28;1HUbiNum=2         [29;1HBabReserved=4       [30;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`[31;1H        [32;1Hmount_ubifs  [33;1H                                                                                                 [34;1HPartitionName="calibration"[35;1HVolumeName="calibration"[36;1HDeviceName="ubi3"[37;1HFolderName="/calibration"  [38;1HATTACH_UBI=0            [39;1HUbiNum=3         [40;1HBabReserved=4            [41;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`[42;1H        [43;1Hmount_ubifs  [44;1H                                                                                                 [45;1Hmkdir -p /var/etc/[46;1Hcp -a /etc/* /var/etc/[47;1Hmount --bind /var/etc /etc[48;1H                  [49;1Hmkdir -p /tmp/bin     [50;1Hcp /program/bin/manuinfotool /tmp/bin/updateflag -rf[51;1Hchmod +x /tmp/bin/updateflag[52;1H                 [53;1Hmount -o remount,ro,sync /program                   [53;27H[54;1H[K- S30ambrwfs 191/192 99%[53;27H[1;1H#!/bin/sh              [2;1H                    [3;1HCONFIG_MTD=`cat /proc/mtd | grep config | sed 's/:.*//'`[4;1HCONFIG_BAK_MTD=`cat /proc/mtd | grep cfgbak | sed 's/:.*//'`[5;1HPROGRAM_MTD=`cat /proc/mtd | grep program | sed 's/:.*//'`[6;1HRUNTIME_MTD=`cat /proc/mtd | grep runtime | sed 's/:.*//'`[7;1HCLIINFO_MTD=`cat /proc/mtd | grep cliinfo | sed 's/:.*//'`[8;1HKERNEL_MTD=`cat /proc/mtd | grep kernel | sed 's/:.*//'`                                        [9;1HUBOOT_MTD=`cat /proc/mtd | grep uboot | sed 's/:.*//'`[10;1HCALIBRATION_MTD=`cat /proc/mtd | grep calibration | sed 's/:.*//'`[11;1HCALIBRATION_MTD_BLOCK=`cat /proc/mtd | grep calibration | sed 's/mtd/mtdblock/' | sed 's/:.*//'`[12;1HUPDATEINFO_MTD=`cat /proc/mtd | grep update | sed 's/:.*//'`[13;1HSPL_MTD=`cat /proc/mtd | grep spl | sed 's/:.*//'`[14;2HDRINIT_MTD=`cat /proc/mtd | grep ddrinit | sed 's/:.*//'`[15;1H                    [16;1H/sbin/mdev -s[17;1H        [18;1Hmkdir /tmp/.tmp_root[19;1Hcp -a /root/* /tmp/.tmp_root                                                                     [20;1Hmount --bind /tmp/.tmp_root /root[21;1H           [22;1Hecho /sbin/mdev >/proc/sys/kernel/hotplug[23;1H                      [24;1H                   [25;1Hif [ -e "/dev/$RUNTIME_MTD" -a ! -e "/dev/mtd_runtime" ]; then[26;1H    ln -sf /dev/$RUNTIME_MTD /dev/mtd_runtime[27;1Hfi          [28;1H        [29;1Hif [ -e "/dev/$CONFIG_MTD" -a ! -e "/dev/mtd_config" ]; then[30;1H    ln -sf /dev/$CONFIG_MTD /dev/mtd_config                                                      [31;1Hfi[32;1H           [33;1Hif [ -e "/dev/$CONFIG_BAK_MTD" -a ! -e "/dev/mtd_cfgbak" ]; then[34;1H    ln -sf /dev/$CONFIG_BAK_MTD /dev/mtd_cfgbak[35;1Hfi                      [36;1H                 [37;1Hif [ -e "/dev/$CLIINFO_MTD" -a ! -e "/dev/mtd_clinfo" ]; then[38;1H    ln -sf /dev/$CLIINFO_MTD /dev/mtd_clinfo[39;1Hfi      [40;1H             [41;1Hif [ -e "/dev/$KERNEL_MTD" -a ! -e "/dev/mtd_kernel" ]; then                                     [42;5Hln -sf /dev/$KERNEL_MTD /dev/mtd_kernel[43;1Hfi         [45;1Hif [ -e "/dev/$PROGRAM_MTD" -a ! -e "/dev/mtd_program" ]; then[46;1H    ln -sf /dev/$PROGRAM_MTD /dev/mtd_program[47;1Hfi                        [49;1Hif [ -e "/dev/$UBOOT_MTD" -a ! -e "/dev/mtd_uboot" ]; then[50;1H    ln -sf /dev/$UBOOT_MTD /dev/mtd_uboot           [51;1Hfi                          [53;1Hif [ -e "/dev/$UPDATEINFO_MTD" -a ! -e "/dev/mtd_updateinfo" ]; then[5;35H[54;1H[K[7msearch hit BOTTOM, continuing at TOP[m[5;35H[54;1H[K- S30ambrwfs 5/192 2%[5;35H[45;47H[54;1H[K- S30ambrwfs 45/192 23%[45;47H[46;39H[54;1H[K- S30ambrwfs 46/192 23%[46;39H[1;1H            if [ $Check_UBI != "0" ]; then[2;17Hecho "Warning!! mount $DeviceName:$VolumeName failed, it may lost config info"[3;1H                ubidetach /dev/ubi_ctrl -d $UbiNum      [4;1H                ubiformat /dev/mtd$MtdNum -y                [5;1H                ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved[6;1H                ubimkvol /dev/$DeviceName -N $VolumeName -m[7;1H                Check_UBI=$?                              [8;1H                if [ $Check_UBI != "0" ]; then          [9;1H                    echo "    $DeviceName ubimkvol failed second!"[10;1H                fi                                                [11;1H                mount -t ubifs $DeviceName:$VolumeName -osync $FolderName                       [12;1H                Check_UBI=$?                                [13;1H                if [ $Check_UBI != "0" ]; then    [14;1H                    echo "Recover config failed!" >> /config/ubi_config_info[15;17Helse[16;1H                    echo "Recover config succeed!" >> /config/ubi_config_info[17;17Hfi[18;1H            else    [19;1H                if [ $ATTACH_UBI != "0" ]; then[20;1H                    echo "Config partition was erasured, recover succeed!" >> /config/ubi_config_info[21;17Hfi[22;1H            fi                           [23;9Hfi[24;5Hfi[25;1H}                                                             [26;5H                                         [27;1HPartitionName="program"[28;1HVolumeName="program"[29;1HDeviceName="ubi0"                                           [30;1HFolderName="/program"                      [31;1HATTACH_UBI=0[32;1HUbiNum=0[33;1HBabReserved=16                                                  [34;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/mtd// | sed -e s/\://`[35;1H  [36;1Hmount_ubifs[37;1H                                                             [38;1HPartitionName="config"                      [39;1HVolumeName="config"[40;1HDeviceName="ubi1"[41;1HFolderName="/config"                                        [42;1HATTACH_UBI=0                               [43;1HUbiNum=1[44;1HBabReserved=4[45;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`[46;5H                                         [47;1Hmount_ubifs[49;1HPartitionName="cfgbak"                                    [50;1HVolumeName="cfgbak"                      [51;1HDeviceName="ubi2"[52;1HFolderName="/cfgbak"[53;1HATTACH_UBI=0                                                        [27;16H[54;1H[K- S30ambrwfs 139/192 72%[27;16H[28;13H[54;1H[K- S30ambrwfs 140/192 72%[28;13H[30;14H[54;1H[K- S30ambrwfs 142/192 73%[30;14H[1;5Hfi                                    [2;1H}                                                                                             [3;17H                                  [4;1HPartitionName="program"                     [5;1HVolumeName="program"                                                         [6;1HDeviceName="ubi0"                                          [7;1HFolderName="/program"       [8;1HATTACH_UBI=0                                  [9;1HUbiNum=0                                                          [10;1HBabReserved=16    [11;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/mtd// | sed -e s/\://`[12;17H            [13;1Hmount_ubifs                                   [14;21H                                                        [15;1HPartitionName="config"[16;1HVolumeName="config"                                                          [17;1HDeviceName="ubi1" [18;1HFolderName="/config"[19;1HATTACH_UBI=0                                   [20;1HUbiNum=1                                                                                             [21;1HBabReserved=4     [22;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`[23;9H  [24;1Hmount_ubifs[25;1H [26;1HPartitionName="cfgbak"[27;1HVolumeName="cfgbak"    [28;1HDeviceName="ubi2"   [29;1HFolderName="/cfgbak"[30;1HATTACH_UBI=0         [31;1HUbiNum=2    [32;1HBabReserved=4[33;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`[34;1H                                                                                                [35;1Hmount_ubifs[36;1H           [37;1HPartitionName="calibration"[38;1HVolumeName="calibration"[39;1HDeviceName="ubi3"  [40;1HFolderName="/calibration"[41;1HATTACH_UBI=0        [42;1HUbiNum=3    [43;1HBabReserved=4[44;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`[45;1H                                                                                                 [46;1Hmount_ubifs[47;1H           [48;1Hmkdir -p /var/etc/[49;1Hcp -a /etc/* /var/etc/[50;1Hmount --bind /var/etc /etc[51;1H                 [52;1Hmkdir -p /tmp/bin   [53;1Hcp /program/bin/manuinfotool /tmp/bin/updateflag -rf[53;5H[54;1H[K- S30ambrwfs 188/192 97%[53;5H[53;5H[54;1H[K- S30ambrwfs 188/192 97%[53;5H[54;1H[K:q[53;5H[53;5H[54;1H[K- S30ambrwfs 188/192 97%[53;5H[54;1H[K[?1049lroot@(none):/etc/init.d# ls
[1;32mS11init[m     [1;32mS30ambrwfs[m  [1;32mS80network[m  [1;32maxklogd[m     [1;32maxsyslogd[m   [1;32mrcS[m
root@(none):/etc/init.d# cd ..
root@(none):/etc# ls
[1;32mKERNEL_VERSION[m         [1;34minit.d[m                 [1;32mprofile[m
[0;0max_syslog.conf[m         [1;32minittab[m                [1;32msd_card_add_remove.sh[m
[1;32mfstab[m                  [1;32mmdev.conf[m              [1;32mshells[m
[1;32mgroup[m                  [1;32mpasswd[m
[1;32mhostname[m               [1;32mpasswd-[m
root@(none):/etc# cat [J[J[J[Jcd ..
root@(none):~# ls
[1;34mbin[m          [1;34mhome[m         [1;36mlinuxrc[m      [1;34mroot[m         [1;34musr[m
[1;34mcalibration[m  [1;36minit[m         [1;34mmnt[m          [1;34msbin[m         [1;34mvar[m
[1;34mdev[m          [1;34mlib[m          [1;36mopt[m          [1;34msys[m          [1;36mwww[m
[1;34metc[m          [1;36mlib64[m        [1;34mproc[m         [1;34mtmp[m
root@(none):~# cat in^C

root@(none):~# cd mnroot@(none):~# cd mnt/[Jl[J
nasTest/  nasdisk/  sdcard/
root@(none):~# cd mnt/[Jsdroot@(none):~# cd mnt/sdcard/[J
root@(none):/mnt/sdcard# ls
root@(none):/mnt/sdcard# cd .. [J/..
root@(none):~# ls
[1;34mbin[m          [1;34mhome[m         [1;36mlinuxrc[m      [1;34mroot[m         [1;34musr[m
[1;34mcalibration[m  [1;36minit[m         [1;34mmnt[m          [1;34msbin[m         [1;34mvar[m
[1;34mdev[m          [1;34mlib[m          [1;36mopt[m          [1;34msys[m          [1;36mwww[m
[1;34metc[m          [1;36mlib64[m        [1;34mproc[m         [1;34mtmp[m
root@(none):~# cd binroot@(none):~# cd bin/[J
root@(none):/bin# ls
[1;36march[m           [1;36mdate[m           [1;36mhostname[m       [1;36mmpstat[m         [1;36msh[m
[1;36mash[m            [1;36mdd[m             [1;36mhush[m           [1;36mmv[m             [1;36msleep[m
[1;32maxbox[m          [1;36mdf[m             [1;36mionice[m         [1;36mnetstat[m        [1;36mstat[m
[1;36maxdmesg[m        [1;36mdmesg[m          [1;36miostat[m         [1;36mnice[m           [1;36mstty[m
[1;36mbase32[m         [1;36mdnsdomainname[m  [1;36mkill[m           [1;36mpidof[m          [1;36msync[m
[1;36mbase64[m         [1;36mecho[m           [1;36mlink[m           [1;36mping[m           [1;36mtar[m
[1;32mbusybox[m        [1;36med[m             [1;36mln[m             [1;36mping6[m          [1;36mtouch[m
[1;36mcat[m            [1;36megrep[m          [1;36mlogin[m          [1;36mpipe_progress[m  [1;36mtrue[m
[1;36mchattr[m         [1;36mfalse[m          [1;36mls[m             [1;36mprintenv[m       [1;36mumount[m
[1;36mchgrp[m          [1;36mfgrep[m          [1;36mlsattr[m         [1;36mps[m             [1;36muname[m
[1;36mchmod[m          [1;36mfsync[m          [1;36mmkdir[m          [1;36mpwd[m            [1;36musleep[m
[1;36mchown[m          [1;36mgrep[m           [1;36mmknod[m          [1;36mrm[m             [1;36mvi[m
[1;36mcp[m             [1;36mgunzip[m         [1;36mmore[m           [1;36mrmdir[m          [1;36mwatch[m
[1;36mcttyhack[m       [1;36mgzip[m           [1;36mmount[m          [1;36msed[m            [1;36mzcat[m
root@(none):/bin# cd.[J ..
root@(none):~# cd devroot@(none):~# cd dev/[J[J[J[J[Jsyroot@(none):~# cd sys/[J[J[J[J[Jproroot@(none):~# cd proc/[J[J[J[J[J[J[J[J[Jmkdir -p /dev/shm
ts
mount -a

/sbin/mdev -sroot@(none):~# mkdir -p /dev/pts
cat /proc/mtd | grep "program" |root@(none):~# mount -a
 awk '{print $1}' | sed -e s/mtd// | sed -emount: mounting debugfs on /sys/kernel/debug failed: No such file or directory
root@(none):~# 
root@(none):~# /sbin/mdev -s
 s/\://)
UbiNum=0
BabReserved=16

ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved

mkdir /program
mount -t ubifs ubi0:program -o sync /programroot@(none):~# 
root@(none):~# MtdNum=$(cat /proc/mtd | grep "program" | awk '{print $1}' | sed 
-e s/mtd// | sed -e s/\://)
root@(none):~# UbiNum=0
root@(none):~# BabReserved=1[  197.416710] ubi0: default fastmap pool size: 35
6
root@(none):~# 
root@(none):~# ubiattach /dev/ubi_ctrl -m $M[  197.422566] ubi0: default fastmap WL pool size: 17
tdNum -d $UbiNum -b $BabReserved
[  197.433125] ubi0: attaching mtd12
[  197.711745] ubi0: scanning is finished
[  197.720892] ubi0: attached mtd12 (name "program", size 94 MiB)
[  197.726756] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[  197.733644] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[  197.740441] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096
[  197.747411] ubi0: good PEBs: 751, bad PEBs: 1, corrupted PEBs: 0
[  197.753429] ubi0: user volume: 1, internal volumes: 1, max. volumes count: 128
[  197.760661] ubi0: max/mean erase counter: 4/1, WL threshold: 4096, image sequence number: 1390195764
[  197.769806] ubi0: available PEBs: 0, total reserved PEBs: 751, PEBs reserved for bad PEB handling: 15
[  197.779046] ubi0: background thread "ubi_bgt0d" started, PID 105
UBI device number 0, total 751 LEBs (95358976 bytes, 90.9 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
root@(none):~# 
root@(none):~# mkdir /program
root@(none):~# mount -t ubifs ubi0:program -o sync /program
[  199.182082] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" started, PID 108
[  199.239925] UBIFS (ubi0:0): UBIFS: mounted UBI device 0, volume 0, name "program"
[  199.247441] UBIFS (ubi0:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[  199.257369] UBIFS (ubi0:0): FS size: 91295744 bytes (87 MiB, 719 LEBs), journal size 9023488 bytes (8 MiB, 72 LEBs)
[  199.267821] UBIFS (ubi0:0): reserved for root: 0 bytes (0 KiB)
[  199.273668] UBIFS (ubi0:0): media format: w4/r0 (latest is w5/r0), UUID 5AA93821-CE3B-42DF-8B4C-323281550D45, small LPT model
root@(none):~# cd ..
root@(none):~# ls
[1;34mbin[m          [1;34mhome[m         [1;36mlinuxrc[m      [1;34mprogram[m      [1;34mtmp[m
[1;34mcalibration[m  [1;36minit[m         [1;34mmnt[m          [1;34mroot[m         [1;34musr[m
[1;34mdev[m          [1;34mlib[m          [1;36mopt[m          [1;34msbin[m         [1;34mvar[m
[1;34metc[m          [1;36mlib64[m        [1;34mproc[m         [1;34msys[m          [1;36mwww[m
root@(none):~# cd proroot@(none):~# cd pro[J
-/bin/sh: cd: can't cd to pro: No such file or directory
root@(none):~# l[Jcd progrm[Jaroot@(none):~# cd program/[J
root@(none):/program# ls
[1;34mbin[m      [1;34mfactory[m  [1;34mlib[m      [1;34mmodules[m  [1;34mopt[m      [1;34mserver[m   [1;34mwww[m
root@(none):/program# cd binroot@(none):/program# cd bin/[J
root@(none):/program/bin# ls
[1;32mCalibPoly_new.bin[m
[1;32mDelConfig.sh[m
[1;32mM=EISSw=Move=+0000,+0216,Rotate=+000,RI=3840x2160,RO=3072x1728,Grid=32x32.json[m
[1;32mMainFrame_sawtooth_optimize.txt[m
[1;32mSubFrame_Divp_sawtooth_optimize.txt[m
[1;32mSubFrame_sawtooth_optimize.txt[m
[1;32m_hide[m
[1;36marptables-compat[m
[1;32mauto_load_all_drv.sh[m
[1;32mautotest[m
[1;32mautotestlog.sh[m
[1;32mcfgtool[m
[1;32mcheck_isp_int.sh[m
[1;32mchecksysready.sh[m
[1;32mcleancfg.sh[m
[1;32mcomm_init[m
[1;32mconfig.cfg[m
[1;32mcontrolgpio.sh[m
[1;32mcreathwinfo.sh[m
[1;32mdaemon[m
[1;32mdhcpcd_mware[m
[1;32mdrop_caches.sh[m
[1;32mdt[m
[1;36mebtables-compat[m
[1;32mfactorymode[m
[1;32mfc95G1.10_SWLUT.txt[m
[1;32mfilelist.txt[m
[1;32mgatherlog.sh[m
[1;32mgetmanuinfo[m
[1;32minit.sh[m
[1;32misp_tool[m
[1;32mittb_control[m
[1;32mkernelsendbuff.sh[m
[1;34mlibs[m
[1;32mloadlensdata[m
[1;32mlocaltime[m
[1;32mmactool[m
[1;32mmaintain[m
[1;32mmanuinfotool[m
[1;32mmma_release.sh[m
[1;32mmountnfs.sh[m
[1;32mmware_init.sh[m
[1;32mmwarecmd.sh[m
[1;32mmwareserver[m
[1;32mnet-snmp-config[m
[1;32mnewvermanuinfo[m
[1;32mnpu_set_bw_limiter.sh[m
[1;32mpanel[m
[1;32mpasswd.sh[m
[1;32mpppd[m
[1;32mprepare_hide.sh[m
[1;32mreboot.sh[m
[1;32mresetconfig.sh[m
[1;32msdformat[m
[1;32msdk_update[m
[1;32msecure_boot[m
[1;32msetconfig.sh[m
[0;0msignature.bin[m
[0;0mspl.bin[m
[1;32mssl_cert.pem[m
[1;32mssl_cert_nobrand.pem[m
[1;32msystemreport.sh[m
[1;32mtmp_update[m
[1;32mtop[m
[1;32mudhcpc_mware[m
[1;32mupdate_http[m
[1;32mupdate_move[m
[1;32mupdatecpld.sh[m
[1;32mupdatespl.sh[m
[1;32mwpa_supplicant[m
root@(none):/program/bin# [  216.343167] random: crng init done
vi init.sh
[?1049h[999;999H[6n[H[J[1;1H#!/bin/sh[3;1H#FLASH................manuinfotool......bad block................................[4;1H#....manuinfotool....../tmp/..........manuinfo..........manuinfotool..............[5;1H/program/bin/manuinfotool get LENS >/dev/null[7;1Hkernel_ver=$(uname -r)[9;1H#updateflag check[10;1HUPDATE_FLAG=`/tmp/bin/updateflag get | grep updateflag |cut -d : -f 2`[11;1Hif [ "$UPDATE_FLAG" = "set" ]; then[12;5H/tmp/bin/updateflag clear[13;5HTIME=0[14;5Hif [ -e /config/powerofftime ][15;5Hthen[16;9HTIME=$(cat /config/powerofftime | awk '{if(NR==1)print $0;}')[17;5Hfi[19;5Htouch /config/powerofftime[20;5Hecho $((TIME+1)) > /config/powerofftime[21;5Hdate >> /config/powerofftime[22;1Hfi[24;1Hif [ -r /dev/watchdog ];then[25;5Hwatchdog -t 10 -T 30 /dev/watchdog[26;1Hfi[28;1H/program/bin/updatespl.sh[30;1H#............................dhcp................[31;1H#check manuinfo[32;1HDEVICENAME=`/program/bin/manuinfotool | grep PROTOTYPE_NAME|cut -d : -f 2`[33;1Hif [ -z "$DEVICENAME" ]; then[34;5H#restart udhcpc & exit[35;5Hecho "-----------------------------------------------------------"[36;5Hecho "----------------begin to start udhcpc----------------------"[37;5Hecho "-----------------------------------------------------------"[39;5H#............ ....update ....../tmp/bin ............[40;9Hdropbear.sh start[41;5Hcd /[42;5Hmkdir -p /tmp/bin[43;5Hcp -rf /program/bin/update_move /tmp/bin/update[44;5Hchmod a+x /tmp/bin/update[46;5Hif [ -r /usr/sbin/nandwrite_move ]; then[47;9Hcp -rf /usr/sbin/nandwrite_move /tmp/bin/nandwrite[48;9Hchmod a+x /tmp/bin/nandwrite[49;5Hfi[51;5Hif [ -r /usr/sbin/flashwrite_move ]; then[52;9Hcp -rf /usr/sbin/flashwrite_move /tmp/bin/flashwrite[53;9Hchmod a+x /tmp/bin/flashwrite[1;1H[54;1H[K- init.sh 1/237 0%[1;1H[1;1H         [2;1H/program/bin/updatespl.sh[3;1H                                                                                 [4;6H........................dhcp................                                 [5;1H#check manuinfo                              [6;1HDEVICENAME=`/program/bin/manuinfotool | grep PROTOTYPE_NAME|cut -d : -f 2`[7;1Hif [ -z "$DEVICENAME" ]; then[8;5H#restart udhcpc & exit[9;1H    echo "-----------------------------------------------------------"[10;1H    echo "----------------begin to start udhcpc----------------------"[11;1H    echo "-----------------------------------------------------------"[12;5H                         [13;5H#............ ....update ....../tmp/bin ............[14;5H    dropbear.sh start         [15;5Hcd /[16;5Hmkdir -p /tmp/bin                                                [17;5Hcp -rf /program/bin/update_move /tmp/bin/update[18;5Hchmod a+x /tmp/bin/update[19;5H                          [20;5Hif [ -r /usr/sbin/nandwrite_move ]; then[21;5H    cp -rf /usr/sbin/nandwrite_move /tmp/bin/nandwrite[22;1H        chmod a+x /tmp/bin/nandwrite[23;5Hfi[24;1H                            [25;5Hif [ -r /usr/sbin/flashwrite_move ]; then[26;1H        cp -rf /usr/sbin/flashwrite_move /tmp/bin/flashwrite[27;9Hchmod a+x /tmp/bin/flashwrite[28;1H    fi                   [30;1H    cp -rf /program/bin/reboot.sh  /tmp/bin/reboot.sh[31;1H    chmod a+x /tmp/bin/reboot.sh[32;1H                                                                          [33;1H    cp /program/bin/mwarecmd.sh /tmp/bin/mwarecmd.sh -f[34;5Hchmod a+x /tmp/bin/mwarecmd.sh[35;5H                                                                  [36;5Hkillall -9 udhcpc                                                 [37;5H                                                                  [38;5Hudhcpc -s /usr/share/udhcpc/udhcpc.script > /dev/null &[39;5H                                                    [40;5Hexit 1               [41;1Hfi      [42;5H                 [43;1H#..........................                        [44;1HBUILD_INFO=`/program/bin/manuinfotool | grep BUILD_INFO|cut -d : -f 2`[45;1HPROTOTYPE_NAME=`/program/bin/manuinfotool | grep PROTOTYPE_NAME|cut -d : -f 2`[46;1HSERIAL_NUMBER=`/program/bin/manuinfotool | grep SERIAL | cut -d : -f 2`[47;1HDEVICE_TYPE=`echo ${SERIAL_NUMBER:0:6}`                   [48;9H                            [49;1Hif [ -r /lib/modules/$kernel_ver/extra/kmanuparse.ko ]; then[50;5Hinsmod /lib/modules/$kernel_ver/extra/kmanuparse.ko  pszBuildInfo=$BUILD_INFO pszProductTypeName=$PROTOTYPE_NAME pszDeviceTypeNum=$DEVICE_TYPE pszDeviceSerialNumber=$S[51;5H    case "$?" in                         [52;9H0)                                                  [53;9HUV_PRODUCT_NAME=$(cat /proc/driver/productname)[1;1H[54;1H[K- init.sh 27/237 11%[1;1H[1;1H[54;1H[K- init.sh 27/237 11%[1;1H[54;1H[K:q[1;1H[1;1H[54;1H[K- init.sh 27/237 11%[1;1H[54;1H[K[?1049lroot@(none):/program/bin# cd ..
root@(none):/program# cd ..
root@(none):~# ls
[1;34mbin[m          [1;34mhome[m         [1;36mlinuxrc[m      [1;34mprogram[m      [1;34mtmp[m
[1;34mcalibration[m  [1;36minit[m         [1;34mmnt[m          [1;34mroot[m         [1;34musr[m
[1;34mdev[m          [1;34mlib[m          [1;36mopt[m          [1;34msbin[m         [1;34mvar[m
[1;34metc[m          [1;36mlib64[m        [1;34mproc[m         [1;34msys[m          [1;36mwww[m
root@(none):~# cd etroot@(none):~# cd etc/[J
root@(none):/etc# ls
[1;32mKERNEL_VERSION[m         [1;34minit.d[m                 [1;32mprofile[m
[0;0max_syslog.conf[m         [1;32minittab[m                [1;32msd_card_add_remove.sh[m
[1;32mfstab[m                  [1;32mmdev.conf[m              [1;32mshells[m
[1;32mgroup[m                  [1;32mpasswd[m
[1;32mhostname[m               [1;32mpasswd-[m
root@(none):/etc# cd iniroot@(none):/etc# cd init.d/[J
root@(none):/etc/init.d# s
-/bin/sh: s: not found
root@(none):/etc/init.d# ls
[1;32mS11init[m     [1;32mS30ambrwfs[m  [1;32mS80network[m  [1;32maxklogd[m     [1;32maxsyslogd[m   [1;32mrcS[m
root@(none):/etc/init.d# [H[Jroot@(none):/etc/init.d# [Jls
[1;32mS11init[m     [1;32mS30ambrwfs[m  [1;32mS80network[m  [1;32maxklogd[m     [1;32maxsyslogd[m   [1;32mrcS[m
root@(none):/etc/init.d# cat S30root@(none):/etc/init.d# cat S30ambrwfs [Ja[J
#!/bin/sh

CONFIG_MTD=`cat /proc/mtd | grep config | sed 's/:.*//'`
CONFIG_BAK_MTD=`cat /proc/mtd | grep cfgbak | sed 's/:.*//'`
PROGRAM_MTD=`cat /proc/mtd | grep program | sed 's/:.*//'`
RUNTIME_MTD=`cat /proc/mtd | grep runtime | sed 's/:.*//'`
CLIINFO_MTD=`cat /proc/mtd | grep cliinfo | sed 's/:.*//'`
KERNEL_MTD=`cat /proc/mtd | grep kernel | sed 's/:.*//'`
UBOOT_MTD=`cat /proc/mtd | grep uboot | sed 's/:.*//'`
CALIBRATION_MTD=`cat /proc/mtd | grep calibration | sed 's/:.*//'`
CALIBRATION_MTD_BLOCK=`cat /proc/mtd | grep calibration | sed 's/mtd/mtdblock/' | sed 's/:.*//'`
UPDATEINFO_MTD=`cat /proc/mtd | grep update | sed 's/:.*//'`
SPL_MTD=`cat /proc/mtd | grep spl | sed 's/:.*//'`
DDRINIT_MTD=`cat /proc/mtd | grep ddrinit | sed 's/:.*//'`

/sbin/mdev -s

mkdir /tmp/.tmp_root
cp -a /root/* /tmp/.tmp_root
mount --bind /tmp/.tmp_root /root

echo /sbin/mdev >/proc/sys/kernel/hotplug


if [ -e "/dev/$RUNTIME_MTD" -a ! -e "/dev/mtd_runtime" ]; then
    ln -sf /dev/$RUNTIME_MTD /dev/mtd_runtime
fi

if [ -e "/dev/$CONFIG_MTD" -a ! -e "/dev/mtd_config" ]; then
    ln -sf /dev/$CONFIG_MTD /dev/mtd_config
fi

if [ -e "/dev/$CONFIG_BAK_MTD" -a ! -e "/dev/mtd_cfgbak" ]; then
    ln -sf /dev/$CONFIG_BAK_MTD /dev/mtd_cfgbak
fi

if [ -e "/dev/$CLIINFO_MTD" -a ! -e "/dev/mtd_clinfo" ]; then
    ln -sf /dev/$CLIINFO_MTD /dev/mtd_clinfo
fi

if [ -e "/dev/$KERNEL_MTD" -a ! -e "/dev/mtd_kernel" ]; then
    ln -sf /dev/$KERNEL_MTD /dev/mtd_kernel
fi

if [ -e "/dev/$PROGRAM_MTD" -a ! -e "/dev/mtd_program" ]; then
    ln -sf /dev/$PROGRAM_MTD /dev/mtd_program
fi

if [ -e "/dev/$UBOOT_MTD" -a ! -e "/dev/mtd_uboot" ]; then
    ln -sf /dev/$UBOOT_MTD /dev/mtd_uboot
fi

if [ -e "/dev/$UPDATEINFO_MTD" -a ! -e "/dev/mtd_updateinfo" ]; then
    ln -sf /dev/$UPDATEINFO_MTD /dev/mtd_updateinfo
fi

if [ -e "/dev/$CALIBRATION_MTD" -a ! -e "/dev/mtd_calibration" ]; then
    ln -sf /dev/$CALIBRATION_MTD /dev/mtd_calibration
fi

if [ -e "/dev/$SPL_MTD" -a ! -e "/dev/mtd_spl" ]; then
    ln -sf /dev/$SPL_MTD /dev/mtd_spl
fi

if [ -e "/dev/$DDRINIT_MTD" -a ! -e "/dev/mtd_ddrinit" ]; then
    ln -sf /dev/$DDRINIT_MTD /dev/mtd_ddrinit
fi

mkdir -p /var/run
mkdir -p /var/lib
mkdir -p /var/lock/iscsi

mount_ubifs()
{
    #### mount ubifs to sart fast ####
    # format
    if [ -r /dev/$DeviceName ]; then
        echo "    $DeviceName exists"
    else
        ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved
        Check_UBI=$?
        if [ $Check_UBI != "0" ]; then
            ATTACH_UBI=1
            ubidetach /dev/ubi_ctrl -d $UbiNum
            ubiformat /dev/mtd$MtdNum -y
            ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved
        fi
    fi

    if [ -r /dev/$DeviceName"_0" ]; then
        echo "$DeviceName"_0" exist."
    else
        ubimkvol /dev/$DeviceName -N $VolumeName -m
    fi

    #create Directory
    if [ -r $FolderName ]; then
        echo "    $FolderName exists"
    else
        echo "create Directory:$FolderName"
        mkdir $FolderName
    fi

    #mount
    if [    "` df | grep $DeviceName`"    != ""    ]; then
        echo "    $DeviceName was mounted"
    else
        echo "    mount -t ubifs $DeviceName:$VolumeName $FolderName "
        mount -t ubifs $DeviceName:$VolumeName -o sync $FolderName

        if [ $UbiNum != "0" ]; then
            Check_UBI=$?
            if [ $Check_UBI != "0" ]; then
                echo "Warning!! mount $DeviceName:$VolumeName failed, it may lost config info"
                ubidetach /dev/ubi_ctrl -d $UbiNum
                ubiformat /dev/mtd$MtdNum -y
                ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved
                ubimkvol /dev/$DeviceName -N $VolumeName -m
                Check_UBI=$?
                if [ $Check_UBI != "0" ]; then
                    echo "    $DeviceName ubimkvol failed second!"
                fi
                mount -t ubifs $DeviceName:$VolumeName -osync $FolderName
                Check_UBI=$?
                if [ $Check_UBI != "0" ]; then
                    echo "Recover config failed!" >> /config/ubi_config_info
                else
                    echo "Recover config succeed!" >> /config/ubi_config_info
                fi
            else
                if [ $ATTACH_UBI != "0" ]; then
                    echo "Config partition was erasured, recover succeed!" >> /config/ubi_config_info
                fi
            fi
        fi
    fi
}

PartitionName="program"
VolumeName="program"
DeviceName="ubi0"
FolderName="/program"
ATTACH_UBI=0
UbiNum=0
BabReserved=16
MtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/mtd// | sed -e s/\://`

mount_ubifs

PartitionName="config"
VolumeName="config"
DeviceName="ubi1"
FolderName="/config"
ATTACH_UBI=0
UbiNum=1
BabReserved=4
MtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`

mount_ubifs

PartitionName="cfgbak"
VolumeName="cfgbak"
DeviceName="ubi2"
FolderName="/cfgbak"
ATTACH_UBI=0
UbiNum=2
BabReserved=4
MtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`

mount_ubifs

PartitionName="calibration"
VolumeName="calibration"
DeviceName="ubi3"
FolderName="/calibration"
ATTACH_UBI=0
UbiNum=3
BabReserved=4
MtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`

mount_ubifs

mkdir -p /var/etc/
cp -a /etc/* /var/etc/
mount --bind /var/etc /etc

mkdir -p /tmp/bin
cp /program/bin/manuinfotool /tmp/bin/updateflag -rf
chmod +x /tmp/bin/updateflag

mount -o remount,ro,sync /program

root@(none):/etc/init.d# vi i[JS30root@(none):/etc/init.d# vi S30ambrwfs [J
[?1049h[999;999H[6n[H[J[1;1H#!/bin/sh[3;1HCONFIG_MTD=`cat /proc/mtd | grep config | sed 's/:.*//'`[4;1HCONFIG_BAK_MTD=`cat /proc/mtd | grep cfgbak | sed 's/:.*//'`[5;1HPROGRAM_MTD=`cat /proc/mtd | grep program | sed 's/:.*//'`[6;1HRUNTIME_MTD=`cat /proc/mtd | grep runtime | sed 's/:.*//'`[7;1HCLIINFO_MTD=`cat /proc/mtd | grep cliinfo | sed 's/:.*//'`[8;1HKERNEL_MTD=`cat /proc/mtd | grep kernel | sed 's/:.*//'`[9;1HUBOOT_MTD=`cat /proc/mtd | grep uboot | sed 's/:.*//'`[10;1HCALIBRATION_MTD=`cat /proc/mtd | grep calibration | sed 's/:.*//'`[11;1HCALIBRATION_MTD_BLOCK=`cat /proc/mtd | grep calibration | sed 's/mtd/mtdblock/' | sed 's/:.*//'`[12;1HUPDATEINFO_MTD=`cat /proc/mtd | grep update | sed 's/:.*//'`[13;1HSPL_MTD=`cat /proc/mtd | grep spl | sed 's/:.*//'`[14;1HDDRINIT_MTD=`cat /proc/mtd | grep ddrinit | sed 's/:.*//'`[16;1H/sbin/mdev -s[18;1Hmkdir /tmp/.tmp_root[19;1Hcp -a /root/* /tmp/.tmp_root[20;1Hmount --bind /tmp/.tmp_root /root[22;1Hecho /sbin/mdev >/proc/sys/kernel/hotplug[25;1Hif [ -e "/dev/$RUNTIME_MTD" -a ! -e "/dev/mtd_runtime" ]; then[26;5Hln -sf /dev/$RUNTIME_MTD /dev/mtd_runtime[27;1Hfi[29;1Hif [ -e "/dev/$CONFIG_MTD" -a ! -e "/dev/mtd_config" ]; then[30;5Hln -sf /dev/$CONFIG_MTD /dev/mtd_config[31;1Hfi[33;1Hif [ -e "/dev/$CONFIG_BAK_MTD" -a ! -e "/dev/mtd_cfgbak" ]; then[34;5Hln -sf /dev/$CONFIG_BAK_MTD /dev/mtd_cfgbak[35;1Hfi[37;1Hif [ -e "/dev/$CLIINFO_MTD" -a ! -e "/dev/mtd_clinfo" ]; then[38;5Hln -sf /dev/$CLIINFO_MTD /dev/mtd_clinfo[39;1Hfi[41;1Hif [ -e "/dev/$KERNEL_MTD" -a ! -e "/dev/mtd_kernel" ]; then[42;5Hln -sf /dev/$KERNEL_MTD /dev/mtd_kernel[43;1Hfi[45;1Hif [ -e "/dev/$PROGRAM_MTD" -a ! -e "/dev/mtd_program" ]; then[46;5Hln -sf /dev/$PROGRAM_MTD /dev/mtd_program[47;1Hfi[49;1Hif [ -e "/dev/$UBOOT_MTD" -a ! -e "/dev/mtd_uboot" ]; then[50;5Hln -sf /dev/$UBOOT_MTD /dev/mtd_uboot[51;1Hfi[53;1Hif [ -e "/dev/$UPDATEINFO_MTD" -a ! -e "/dev/mtd_updateinfo" ]; then[1;1H[54;1H[K- S30ambrwfs 1/192 0%[1;1H[1;1Hfi       [3;1Hif [ -e "/dev/$CONFIG_MTD" -a ! -e "/dev/mtd_config" ]; then[4;1H    ln -sf /dev/$CONFIG_MTD /dev/mtd_config                 [5;1Hfi                                                        [6;1H                                                          [7;1Hif [ -e "/dev/$CONFIG_BAK_MTD" -a ! -e "/dev/mtd_cfgbak" ]; then[8;1H    ln -sf /dev/$CONFIG_BAK_MTD /dev/mtd_cfgbak         [9;1Hfi                                                    [10;1H                                                                  [11;1Hif [ -e "/dev/$CLIINFO_MTD" -a ! -e "/dev/mtd_clinfo" ]; then                                   [12;1H    ln -sf /dev/$CLIINFO_MTD /dev/mtd_clinfo                [13;1Hfi                                                [14;1H                                                          [15;1Hif [ -e "/dev/$KERNEL_MTD" -a ! -e "/dev/mtd_kernel" ]; then[16;1H    ln -sf /dev/$KERNEL_MTD /dev/mtd_kernel[17;1Hfi[18;1H                    [19;1Hif [ -e "/dev/$PROGRAM_MTD" -a ! -e "/dev/mtd_program" ]; then[20;1H    ln -sf /dev/$PROGRAM_MTD /dev/mtd_program[21;1Hfi[22;1H                                         [23;1Hif [ -e "/dev/$UBOOT_MTD" -a ! -e "/dev/mtd_uboot" ]; then[24;5Hln -sf /dev/$UBOOT_MTD /dev/mtd_uboot[25;1Hfi                                                            [26;5H                                         [27;1Hif [ -e "/dev/$UPDATEINFO_MTD" -a ! -e "/dev/mtd_updateinfo" ]; then[28;5Hln -sf /dev/$UPDATEINFO_MTD /dev/mtd_updateinfo[29;1Hfi                                                          [30;5H                                       [31;1Hif [ -e "/dev/$CALIBRATION_MTD" -a ! -e "/dev/mtd_calibration" ]; then[32;5Hln -sf /dev/$CALIBRATION_MTD /dev/mtd_calibration[33;1Hfi                                                              [34;5H                                           [35;1Hif [ -e "/dev/$SPL_MTD" -a ! -e "/dev/mtd_spl" ]; then[36;5Hln -sf /dev/$SPL_MTD /dev/mtd_spl[37;1Hfi                                                           [38;5H                                        [39;1Hif [ -e "/dev/$DDRINIT_MTD" -a ! -e "/dev/mtd_ddrinit" ]; then[40;5Hln -sf /dev/$DDRINIT_MTD /dev/mtd_ddrinit[41;1Hfi                                                          [42;5H                                       [43;1Hmkdir -p /var/run[44;1Hmkdir -p /var/lib[45;1Hmkdir -p /var/lock/iscsi                                      [46;5H                                         [47;1Hmount_ubifs()[48;1H{[49;1H    #### mount ubifs to sart fast ####                    [50;5H# format                             [51;1H    if [ -r /dev/$DeviceName ]; then[52;9Hecho "    $DeviceName exists"[53;1H    else                                                            [1;1H[54;1H[K- S30ambrwfs 27/192 14%[1;1H[1;1Hif [ -e "/dev/$UPDATEINFO_MTD" -a ! -e "/dev/mtd_updateinfo" ]; then[2;5Hln -sf /dev/$UPDATEINFO_MTD /dev/mtd_updateinfo[3;1Hfi                                                          [4;5H                                       [5;1Hif [ -e "/dev/$CALIBRATION_MTD" -a ! -e "/dev/mtd_calibration" ]; then[6;5Hln -sf /dev/$CALIBRATION_MTD /dev/mtd_calibration[7;1Hfi                                                              [8;5H                                           [9;1Hif [ -e "/dev/$SPL_MTD" -a ! -e "/dev/mtd_spl" ]; then[10;5Hln -sf /dev/$SPL_MTD /dev/mtd_spl[11;1Hfi                                                           [12;5H                                        [13;1Hif [ -e "/dev/$DDRINIT_MTD" -a ! -e "/dev/mtd_ddrinit" ]; then[14;5Hln -sf /dev/$DDRINIT_MTD /dev/mtd_ddrinit[15;1Hfi                                                          [16;5H                                       [17;1Hmkdir -p /var/run[18;1Hmkdir -p /var/lib[19;1Hmkdir -p /var/lock/iscsi                                      [20;5H                                         [21;1Hmount_ubifs()[22;1H{[23;1H    #### mount ubifs to sart fast ####                    [24;5H# format                             [25;1H    if [ -r /dev/$DeviceName ]; then[26;9Hecho "    $DeviceName exists"[27;1H    else                                                            [28;5H    ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved[29;1H        Check_UBI=$?[30;9Hif [ $Check_UBI != "0" ]; then[31;1H            ATTACH_UBI=1                                              [32;5H        ubidetach /dev/ubi_ctrl -d $UbiNum       [33;1H            ubiformat /dev/mtd$MtdNum -y[34;13Hubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved[35;1H        fi                                            [36;5Hfi                               [37;1H  [38;5Hif [ -r /dev/$DeviceName"_0" ]; then[39;1H        echo "$DeviceName"_0" exist."                         [40;5Helse                                     [41;1H        ubimkvol /dev/$DeviceName -N $VolumeName -m[42;5Hfi[43;1H                 [44;1H    #create Directory[45;1H    if [ -r $FolderName ]; then[46;9Hecho "    $FolderName exists"[47;1H    else     [48;1H        echo "create Directory:$FolderName"[49;5H    mkdir $FolderName             [50;5Hfi      [51;5H                                [52;5H#mount                           [53;5Hif [    "` df | grep $DeviceName`"    != ""    ]; then[1;1H[54;1H[K- S30ambrwfs 53/192 27%[1;1H[1;1H    else                                                            [2;5H    ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved[3;1H        Check_UBI=$?[4;9Hif [ $Check_UBI != "0" ]; then[5;1H            ATTACH_UBI=1                                              [6;5H        ubidetach /dev/ubi_ctrl -d $UbiNum       [7;1H            ubiformat /dev/mtd$MtdNum -y[8;13Hubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved[9;1H        fi                                            [10;5Hfi                               [11;1H  [12;5Hif [ -r /dev/$DeviceName"_0" ]; then[13;1H        echo "$DeviceName"_0" exist."                         [14;5Helse                                     [15;1H        ubimkvol /dev/$DeviceName -N $VolumeName -m[16;5Hfi[17;1H                 [18;1H    #create Directory[19;1H    if [ -r $FolderName ]; then[20;9Hecho "    $FolderName exists"[21;1H    else     [22;1H        echo "create Directory:$FolderName"[23;5H    mkdir $FolderName             [24;5Hfi      [25;5H                                [26;5H#mount                           [27;5Hif [    "` df | grep $DeviceName`"    != ""    ]; then[28;9Hecho "    $DeviceName was mounted"                           [29;5Helse            [30;9Hecho "    mount -t ubifs $DeviceName:$VolumeName $FolderName "[31;9Hmount -t ubifs $DeviceName:$VolumeName -o sync $FolderName[32;13H                                  [33;9Hif [ $UbiNum != "0" ]; then     [34;13HCheck_UBI=$?                                                 [35;9H    if [ $Check_UBI != "0" ]; then[36;5H            echo "Warning!! mount $DeviceName:$VolumeName failed, it may lost config info"[37;17Hubidetach /dev/ubi_ctrl -d $UbiNum[38;5H            ubiformat /dev/mtd$MtdNum -y[39;9H        ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved[40;5H            ubimkvol /dev/$DeviceName -N $VolumeName -m[41;9H        Check_UBI=$?                       [42;5H            if [ $Check_UBI != "0" ]; then[43;21Hecho "    $DeviceName ubimkvol failed second!"[44;5H            fi   [45;5H            mount -t ubifs $DeviceName:$VolumeName -osync $FolderName[46;9H        Check_UBI=$?         [47;5H            if [ $Check_UBI != "0" ]; then[48;9H            echo "Recover config failed!" >> /config/ubi_config_info[49;9H        else     [50;5H                echo "Recover config succeed!" >> /config/ubi_config_info[51;17Hfi[52;5H        else[53;5H            if [ $ATTACH_UBI != "0" ]; then           [1;5H[54;1H[K- S30ambrwfs 79/192 41%[1;5H[1;5Hif [    "` df | grep $DeviceName`"    != ""    ]; then[2;9Hecho "    $DeviceName was mounted"                           [3;5Helse            [4;9Hecho "    mount -t ubifs $DeviceName:$VolumeName $FolderName "[5;9Hmount -t ubifs $DeviceName:$VolumeName -o sync $FolderName[6;13H                                  [7;9Hif [ $UbiNum != "0" ]; then     [8;13HCheck_UBI=$?                                                 [9;9H    if [ $Check_UBI != "0" ]; then[10;5H            echo "Warning!! mount $DeviceName:$VolumeName failed, it may lost config info"[11;17Hubidetach /dev/ubi_ctrl -d $UbiNum[12;5H            ubiformat /dev/mtd$MtdNum -y[13;9H        ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved[14;5H            ubimkvol /dev/$DeviceName -N $VolumeName -m[15;9H        Check_UBI=$?                       [16;5H            if [ $Check_UBI != "0" ]; then[17;21Hecho "    $DeviceName ubimkvol failed second!"[18;5H            fi   [19;5H            mount -t ubifs $DeviceName:$VolumeName -osync $FolderName[20;9H        Check_UBI=$?         [21;5H            if [ $Check_UBI != "0" ]; then[22;9H            echo "Recover config failed!" >> /config/ubi_config_info[23;9H        else     [24;5H                echo "Recover config succeed!" >> /config/ubi_config_info[25;17Hfi[26;5H        else[27;5H            if [ $ATTACH_UBI != "0" ]; then           [28;9H            echo "Config partition was erasured, recover succeed!" >> /config/ubi_config_info[29;5H            fi[30;9H    fi                                                        [31;9Hfi                                                        [32;5Hfi[33;1H}                                  [34;13H            [35;1HPartitionName="program"                   [36;1HVolumeName="program"                                                                          [37;1HDeviceName="ubi0"                                 [38;1HFolderName="/program"                       [39;1HATTACH_UBI=0                                                                 [40;1HUbiNum=0                                                   [41;1HBabReserved=16              [42;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/mtd// | sed -e s/\://`[43;21H                                              [44;1Hmount_ubifs       [45;17H                                                         [46;1HPartitionName="config"      [47;1HVolumeName="config"                           [48;1HDeviceName="ubi1"                                                           [49;1HFolderName="/config"[50;1HATTACH_UBI=0                                                                 [51;1HUbiNum=1          [52;1HBabReserved=4   [53;1HMtdNum=`cat /proc/mtd | grep $PartitionName | awk '{print $1}' | sed -e s/^mtd// | sed -e s/\://`[1;5H[54;1H[K- S30ambrwfs 105/192 54%[1;5H[2;5H[54;1H[K- S30ambrwfs 106/192 55%[2;5H[3;5H[54;1H[K- S30ambrwfs 107/192 55%[3;5H[4;5H[54;1H[K- S30ambrwfs 108/192 56%[4;5H[5;5H[54;1H[K- S30ambrwfs 109/192 56%[5;5H[6;1H[54;1H[K- S30ambrwfs 110/192 57%[6;1H[7;5H[54;1H[K- S30ambrwfs 111/192 57%[7;5H[8;5H[54;1H[K- S30ambrwfs 112/192 58%[8;5H[9;5H[54;1H[K- S30ambrwfs 113/192 58%[9;5H[10;5H[54;1H[K- S30ambrwfs 114/192 59%[10;5H[11;5H[54;1H[K- S30ambrwfs 115/192 59%[11;5H[12;5H[54;1H[K- S30ambrwfs 116/192 60%[12;5H[13;5H[54;1H[K- S30ambrwfs 117/192 60%[13;5H[14;5H[54;1H[K- S30ambrwfs 118/192 61%[14;5H[15;5H[54;1H[K- S30ambrwfs 119/192 61%[15;5H[16;5H[54;1H[K- S30ambrwfs 120/192 62%[16;5H[17;5H[54;1H[K- S30ambrwfs 121/192 63%[17;5H[18;5H[54;1H[K- S30ambrwfs 122/192 63%[18;5H[19;5H[54;1H[K- S30ambrwfs 123/192 64%[19;5H[20;5H[54;1H[K- S30ambrwfs 124/192 64%[20;5H[21;5H[54;1H[K- S30ambrwfs 125/192 65%[21;5H[22;5H[54;1H[K- S30ambrwfs 126/192 65%[22;5H[23;5H[54;1H[K- S30ambrwfs 127/192 66%[23;5H[24;5H[54;1H[K- S30ambrwfs 128/192 66%[24;5H[25;5H[54;1H[K- S30ambrwfs 129/192 67%[25;5H[26;5H[54;1H[K- S30ambrwfs 130/192 67%[26;5H[27;5H[54;1H[K- S30ambrwfs 131/192 68%[27;5H[28;5H[54;1H[K- S30ambrwfs 132/192 68%[28;5H[29;5H[54;1H[K- S30ambrwfs 133/192 69%[29;5H[30;5H[54;1H[K- S30ambrwfs 134/192 69%[30;5H[31;5H[54;1H[K- S30ambrwfs 135/192 70%[31;5H[32;5H[54;1H[K- S30ambrwfs 136/192 70%[32;5H[33;1H[54;1H[K- S30ambrwfs 137/192 71%[33;1H[34;1H[54;1H[K- S30ambrwfs 138/192 71%[34;1H[35;5H[54;1H[K- S30ambrwfs 139/192 72%[35;5H[36;5H[54;1H[K- S30ambrwfs 140/192 72%[36;5H[37;5H[54;1H[K- S30ambrwfs 141/192 73%[37;5H[38;5H[54;1H[K- S30ambrwfs 142/192 73%[38;5H[39;5H[54;1H[K- S30ambrwfs 143/192 74%[39;5H[40;5H[54;1H[K- S30ambrwfs 144/192 75%[40;5H[41;5H[54;1H[K- S30ambrwfs 145/192 75%[41;5H[42;5H[54;1H[K- S30ambrwfs 146/192 76%[42;5H[42;6H[42;8H[42;11H[42;13H[42;17H[42;18H[42;21H[42;23H[42;28H[42;30H[42;43H[42;45H[42;49H[42;52H[42;57H[42;59H[42;60H[42;62H[42;64H[42;68H[42;70H[42;71H[42;73H[42;74H[42;75H[42;75H[54;1H[KI S30ambrwfs 146/192 76%[42;75H[42;75H^mtd// | sed -e s/\://`[42;76H[42;75H[54;1H[K- S30ambrwfs [Modified] 146/192 76%[42;75H[54;1H[K:wq[42;75H[42;75H[54;1H[K'S30ambrwfs' 192L, 5584C[42;75H[54;1H[K[?1049lroot@(none):/etc/init.d# exit
root@(none):~# exit
root@(none):~# [  3  ýV3N2C0N2C0RS

U-Boot 2020.04-00011-gddf6f040-dirty (Jun 17 2024 - 18:12:02 +0800), Build: jenkins-Compile_64ä½(10.188.40.119)-7385

U-Boot code: 5C000400 -> 5C095BEC  BSS: -> 5C0BD52C
Model: AXERA AX620E_Qnand Board
DRAM:  Monitor len: 000BD12C
Ram size: 10000000
Ram top: 50000000
TLB table from 4fff0000 to 4fff4000
Reserving 756k for U-Boot at: 4ff32000
Reserving 3584k for malloc() at: 4fbb2000
Reserving 96 Bytes for Board Info at: 4fbb1fa0
Reserving 216 Bytes for Global Data at: 4fbb1ec8
Reserving 14400 Bytes for FDT at: 4fbae688

RAM Configuration:
Bank #0: 40000000 
DRAM:  256 MiB
New Stack Pointer is: 4fbae660
Relocation Offset is: f3f31c00
Relocating to 4ff32000, new gd at 4fbb1ec8, sp at 4fbae660
WARNING: Caches not enabled
ax_adc_probe
No available THERMAL device
MMC:   mmc@1B40000: 0, mmc@104E0000: 1
NAND:  128 MiB
Loading Environment from NAND... *** Warning - bad CRC, using default environment

Loading Environment from SPI Flash... unrecognized JEDEC id bytes: ff, a1, e4
uclass_get_device: Invalid bus 0 (err=-2)
In:    serial
Out:   serial
Err:   serial
Current chip type: AX620Q_CHIP
Current board type: AX620Q_LP4_DEMO_V1_1
boot_reason:0x0
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
selecting mode MMC legacy (freq : 0 MHz)
Card did not respond to voltage select!
mmc_init: -95, time 25
no sd card
enter normal boot mode
boot_info_data.mode = 7
Net:   
Warning: ethernet@0x104C0000 (eth0) using random MAC address - 66:f0:9a:a0:d6:6e
eth0: ethernet@0x104C0000  
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
Detected MACID:e4:f1:4c:77:66:ba
Detected ETH1 MACID:e4:f1:4c:77:66:ba
Press Ctrl+B to abort autoboot in 2 seconds
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
ax_shutdown_ephy:0x410021d1
enter do_axera_boot
reading kernel image size 0x700000 from spi nand flash ...
bondopt secureboot bit is enable:1, key_bits:2048
CACHE: Misaligned operation at range [4fbadb4c, 4fbadcd8]
total kernel image size = 6151640
>>> * kernel image verify success! * <<< 
header_info.blk_num=17, isize=6151640, osize=8629099, tile_cnt=12, last_tile_size=474568
boot cmd is :bootm 0x4e000000#conf-1
## Loading kernel from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'kernel' kernel subimage
     Description:  Axera Linux kernel
     Type:         Kernel Image
     Compression:  uncompressed
     Data Start:   0x4e0000e4
     Data Size:    8485640 Bytes = 8.1 MiB
     Architecture: ARM
     OS:           Linux
     Load Address: 0x40008000
     Entry Point:  0x40008000
   Verifying Hash Integrity ... OK
## Loading fdt from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'fdt-1' fdt subimage
     Description:  Flattened Device Tree blob
     Type:         Flat Device Tree
     Compression:  uncompressed
     Data Start:   0x4e817c9c
     Data Size:    141709 Bytes = 138.4 KiB
     Architecture: ARM
     Load Address: 0x42008000
   Verifying Hash Integrity ... OK
   Loading fdt from 0x4e817c9c to 0x42008000
   Booting using the fdt blob at 0x42008000
   Loading Kernel Image
   Using Device Tree in place at 42008000, end 4202d98c
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 4.19.125 (jenkins@root123) (gcc version 7.5.0 (Linaro GCC 7.5-2019.12)) #1 SMP PREEMPT Mon Jun 17 18:12:19 CST 2024
[    0.000000] CPU: ARMv7 Processor [410fd034] revision 4 (ARMv7), cr=50c5383d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: axera,ax620e
[    0.000000] ENC:0302C5TP;SEN:0302C4XQ;LENS:4801C0G2
[    0.000000] PROTOTYPE_NAME:IPC3624LE-ADF28K-WP
[    0.000000] chip type: 0x1
[    0.000000] memory total: 0x10000000, Media: 0x9000000
[    0.000000] earlycon: uart8250 at MMIO32 0x04880000 (options '')
[    0.000000] bootconsole [uart8250] enabled
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] On node 0 totalpages: 28672
[    0.000000]   Normal zone: 224 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 28672 pages, LIFO batch:7
[    0.000000] percpu: Embedded 18 pages/cpu s44236 r8192 d21300 u73728
[    0.000000] pcpu-alloc: s44236 r8192 d21300 u73728 alloc=18*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 28448
[    0.000000] Kernel command line: mem=112M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Memory: 104156K/114688K available (3967K kernel code, 222K rwdata, 1384K rodata, 2516K init, 396K bss, 10532K reserved, 0K cma-reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
[    0.000000]     vmalloc : 0xc7800000 - 0xff800000   ( 896 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xc7000000   ( 112 MB)
[    0.000000]     modules : 0xbf800000 - 0xc0000000   (   8 MB)
[    0.000000]       .text : 0x(ptrval) - 0x(ptrval)   (3969 kB)
[    0.000000]       .init : 0x(ptrval) - 0x(ptrval)   (2516 kB)
[    0.000000]       .data : 0x(ptrval) - 0x(ptrval)   ( 223 kB)
[    0.000000]        .bss : 0x(ptrval) - 0x(ptrval)   ( 397 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Tasks RCU enabled.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000005] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.008020] Switching to timer-based delay loop, resolution 41ns
[    0.016606] Console: colour dummy device 80x30
[    0.021083] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=120000)
[    0.031455] pid_max: default: 32768 minimum: 301
[    0.036170] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.042801] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.050253] CPU: Testing write buffer coherency: ok
[    0.055394] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091154] Setting up static identity map for 0x40008240 - 0x40008278
[    0.107719] rcu: Hierarchical SRCU implementation.
[    0.127749] smp: Bringing up secondary CPUs ...
[    0.157967] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.158063] smp: Brought up 1 node, 2 CPUs
[    0.167853] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.174047] CPU: All CPU(s) started in SVC mode.
[    0.179252] devtmpfs: initialized
[    0.210145] random: get_random_u32 called from bucket_table_alloc+0x63/0x118 with crng_init=0
[    0.218868] VFP support v0.3: implementor 41 architecture 3 part 40 variant 3 rev 4
[    0.226736] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 9556302231375000 ns
[    0.236506] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.242732] pinctrl core: initialized pinctrl subsystem
[    0.248222] NET: Registered protocol family 16
[    0.252958] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.260700] ax_pin_init ret 0 index 7
[    0.265919] console [pstore-1] enabled
[    0.269675] pstore: Registered ramoops as persistent store backend
[    0.275875] ramoops: attached 0x8000@0x41000000, ecc: 0/0
[    0.293974] SCSI subsystem initialized
[    0.297891] usbcore: registered new interface driver usbfs
[    0.303438] usbcore: registered new interface driver hub
[    0.308812] usbcore: registered new device driver usb
[    0.314508] pps_core: LinuxPPS API ver. 1 registered
[    0.319499] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.328660] PTP clock support registered
[    0.332803] Advanced Linux Sound Architecture Driver Initialized.
[    0.339993] dma_per 48a0000.dma_per: Axera DMA Peripherals Controller, 16 channels
[    0.348001] dma:ax_dma_probe:1605: done
[    0.352207] clocksource: Switched to clocksource arch_sys_counter
[    0.362860] NET: Registered protocol family 2
[    0.367693] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes)
[    0.375396] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.382391] TCP bind hash table entries: 1024 (order: 1, 8192 bytes)
[    0.388778] TCP: Hash tables configured (established 1024 bind 1024)
[    0.395200] UDP hash table entries: 256 (order: 1, 8192 bytes)
[    0.401065] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)
[    0.407444] NET: Registered protocol family 1
[    0.412097] RPC: Registered named UNIX socket transport module.
[    0.418045] RPC: Registered udp transport module.
[    0.422768] RPC: Registered tcp transport module.
[    0.427484] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.543061] workingset: timestamp_bits=30 max_order=15 bucket_order=0
[    0.553646] axera_logctl_init: of_find_compatible_node 'axera,logctl' success!!!
[    0.553653] axera_logctl_init: of_find_compatible_node config: /etc/ax_syslog.conf
[    0.561127] axera_logctl_init: logstate:1 1 len:2
[    0.573449] axera_logctl_init: loglevel:4 4 len:2
[    0.578403] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.584722] NFS: Registering the id_resolver key type
[    0.589814] Key type id_resolver registered
[    0.594011] Key type id_legacy registered
[    0.598056] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    0.606946] io scheduler noop registered (default)
[    0.611783] io scheduler mq-deadline registered
[    0.616332] io scheduler kyber registered
[    0.621567] axera-pinctrl 2300000.pinctrl: initialized pinctrl driver
[    0.631800] ax_os_mem_init
[    0.634625] [GZIP][D]: [     1][ax_gzipd_init : 730] enter ax_gzipd_init
[    0.642119] Serial: 8250/16550 driver, 5 ports, IRQ sharing disabled
[    0.649496] console [ttyS0] disabled
[    0.653142] 4880000.ax_uart: ttyS0 at MMIO 0x4880000 (irq = 20, base_baud = 13000000) is a 16550A
[    0.662062] console [ttyS0] enabled
[    0.662062] console [ttyS0] enabled
[    0.669049] bootconsole [uart8250] disabled
[    0.669049] bootconsole [uart8250] disabled
[    0.678630] null: module loaded
[    0.682351] ax_ramdisk_init:can't find ramdisk device tree node
[    0.689238] dw_spi_setup: rx_sample_dly_ns=0x6, chip->rx_sample_dly=0x3
[    0.696017] spi_master spi4: set clk_div=0x4, speed_hz=104000000, dws->max_freq=416000000
[    0.704216] spi_master spi4: set rx_sample_dly=0x3
[    0.709060] spi-nand spi4.0: FudanMicroelec SPI NAND was found.
[    0.714994] spi-nand spi4.0: 128 MiB, block size: 128 KiB, page size: 2048, OOB size: 64
[    0.723597] 13 cmdlinepart partitions found on MTD device spi4.0
[    0.729621] Creating 13 MTD partitions on "spi4.0":
[    0.734511] 0x000000000000-0x000000100000 : "spl"
[    0.740520] 0x000000100000-0x000000180000 : "ddrinit"
[    0.746395] 0x000000180000-0x000000380000 : "uboot"
[    0.753490] 0x000000380000-0x000000400000 : "env"
[    0.759019] 0x000000400000-0x000000a00000 : "calibration"
[    0.770251] 0x000000a00000-0x000000b00000 : "cliinfo"
[    0.776582] 0x000000b00000-0x000001300000 : "config"
[    0.789202] 0x000001300000-0x000001400000 : "runtime"
[    0.795553] 0x000001400000-0x000001a00000 : "cfgbak"
[    0.806352] 0x000001a00000-0x000002100000 : "kernel"
[    0.818069] 0x000002100000-0x000002180000 : "update"
[    0.823897] 0x000002180000-0x000007f80000 : "program"
[    0.915046] 0x000007f80000-0x000008000000 : "other"
[    0.921016] libphy: Fixed MDIO Bus: probed
[    0.925180] tun: Universal TUN/TAP device driver, 1.6
[    0.930472] stmmaceth 104c0000.ethernet: probe axera emac
[    0.935987] stmmaceth 104c0000.ethernet: phy-rst-gpio not configure
[    0.942295] stmmaceth 104c0000.ethernet: emac bus clock: 312MHz
[    0.948257] stmmaceth 104c0000.ethernet: emac phy clock: 25MHz
[    0.954135] stmmaceth 104c0000.ethernet: PTP rate: 50MHz
[    0.959478] stmmaceth 104c0000.ethernet: reset axera emac...
[    0.970160] stmmaceth 104c0000.ethernet: EMAC: select Inner RMII interface, value:0x00000000
[    0.978729] stmmaceth 104c0000.ethernet: User ID: 0x10, Synopsys ID: 0x52
[    0.985534] stmmaceth 104c0000.ethernet: 	DWMAC4/5
[    0.990337] stmmaceth 104c0000.ethernet: DMA HW capability register supported
[    0.997485] stmmaceth 104c0000.ethernet: RX Checksum Offload Engine supported
[    1.004631] stmmaceth 104c0000.ethernet: TX Checksum insertion supported
[    1.011341] stmmaceth 104c0000.ethernet: Wake-Up On Lan supported
[    1.017448] stmmaceth 104c0000.ethernet: TSO supported
[    1.022596] stmmaceth 104c0000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    1.030272] stmmaceth 104c0000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    1.037855] stmmaceth 104c0000.ethernet: USO feature enabled
[    1.043523] stmmaceth 104c0000.ethernet: TSO feature enabled
[    1.049273] libphy: stmmac: probed
[    1.055654] PPP generic driver version 2.4.2
[    1.060078] PPP BSD Compression module registered
[    1.064800] PPP Deflate Compression module registered
[    1.069864] NET: Registered protocol family 24
[    1.074674] axera dwc3 soc:axera_dwc3: axera usb probe
[    1.080002] axera dwc3 soc:axera_dwc3: usb bus clock: 312MHz
[    1.085692] axera dwc3 soc:axera_dwc3: axera usb clk set succeed.
[    1.091819] axera dwc3 soc:axera_dwc3: axera usb reset succeed.
[    1.098012] dwc3 8000000.dwc3: probe later.
[    1.102659] usbcore: registered new interface driver cdc_acm
[    1.108330] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters
[    1.116490] usbcore: registered new interface driver uas
[    1.121850] usbcore: registered new interface driver usb-storage
[    1.127927] usbcore: registered new interface driver usbserial_generic
[    1.134482] usbserial: USB Serial support registered for generic
[    1.176443] rtc_axera 23e0000.rtc-top: rtc core: registered 23e0000.rtc-top as rtc0
[    1.184208] i2c /dev entries driver
[    1.189174] ax_wdt:ax_wdt_drv_probe:346: done!
[    1.189517] sdhci: Secure Digital Host Controller Interface driver
[    1.200180] sdhci: Copyright(c) Pierre Ossman
[    1.204576] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.204664] sdhci-axera 104e0000.sdhc: axera sdhci probe
[    1.210908] usbcore: registered new interface driver usbhid
[    1.217865] get cd gpio failed
[    1.221149] usbhid: USB HID core driver
[    1.229887] dev->intr_type = 0
[    1.232979] dw_i2s_probe, hdmi_i2s: 0
[    1.236742] config pin_sd_misc to 0x300100
[    1.240867] dw_i2s_probe get irq is -6
[    1.244639] IIS get i2s_mclk: 12288000
[    1.248402] IIS get i2s_mclk: 12288000
[    1.252186] IIS probe OK
[    1.254776] dev->intr_type = 1
[    1.257841] dw_i2s_probe, hdmi_i2s: 0
[    1.261563] config pin_sd_misc to 0x300100
[    1.265677] dw_i2s_probe get irq is -6
[    1.269440] IIS get i2s_mclk: 12288000
[    1.273199] IIS get i2s_mclk: 12288000
[    1.276971] IIS probe OK
[    1.279860] ax_actt_probe
[    1.282545] designware-actt 23f2000.audio_codec: No cache used with register defaults set!
[    1.290920] oprofile: hardware counters not available
[    1.292292] mmc0: SDHCI controller on 104e0000.sdhc [104e0000.sdhc] using ADMA 64-bit
[    1.295992] oprofile: using timer interrupt.
[    1.303845] sdhci_cdns_read_phy_reg: phy lock successful
[    1.308737] NET: Registered protocol family 10
[    1.336431] Segment Routing with IPv6
[    1.340239] mip6: Mobile IPv6
[    1.343691] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.350359] NET: Registered protocol family 17
[    1.354895] l2tp_core: L2TP core driver, V2.0
[    1.359275] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[    1.364094] Key type dns_resolver registered
[    1.368544] Registering SWP/SWPB emulation handler
[    1.373350] chip type: AX620Q
[    1.376326] product init ok
[    1.379875] pstore: Using compression: deflate
[    1.385296] i2c_designware 4850000.i2c: running with gpio recovery mode! scl,sda
[    1.392871] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.399028] i2c_designware 4851000.i2c: running with gpio recovery mode! scl,sda
[    1.406562] i2c i2c-1: using pinctrl states for GPIO recovery
[    1.412682] dwc3 8000000.dwc3: dr_mode is 3 (1-host 2-device 3-otg)
[    1.418989] dwc3 8000000.dwc3: EP NUM:16
[    1.423224] actt_component_probe
[    1.423224]  
[    1.423363] bengin actt_set_sysclk
[    1.428171] actt_set_sysclk, freq: 12288000
[    1.435766] actt_set_dai_fmt, fmt: 0x1001
[    1.439784] actt_set_dai_fmt, actt rx only support master fmt_mode: 0x1000
[    1.446667] actt in I2S Format
[    1.449730] dw_i2s_set_fmt, fmt: 0x1001
[    1.454120] asoc-simple-card sound: 23f2000.audio_codec <-> 6051000.i2s_slv mapping ok
[    1.462049] bengin actt_set_sysclk
[    1.462051] actt_set_sysclk, freq: 12288000
[    1.469650] actt_set_dai_fmt, fmt: 0x4001
[    1.473668] actt_set_dai_fmt, actt tx only support salve .fmt_mode: 0x4000
[    1.480550] actt in I2S Format
[    1.483612] dw_i2s_set_fmt, fmt: 0x4001
[    1.487970] asoc-simple-card sound: 23f2000.audio_codec <-> 6050000.i2s_mst mapping ok
[    1.496082] dwc3 8000000.dwc3: axera usb gadget init
[    1.512758] rtc_axera 23e0000.rtc-top: setting system clock to 1970-01-01 08:00:00 UTC (28800)
[    1.521801] OF: fdt: not creating '/sys/firmware/fdt': CRC check failed
[    1.528694] ALSA device list:
[    1.531664]   #0: Axera Audio
[    1.534803] ttyS0 - failed to request DMA
[    1.540749] Freeing unused kernel memory: 2516K
[    1.545290] This architecture does not have kernel memory protection.
[    1.551739] Run /init as init process
[RCS]: /etc/init.d/S11init
mount: mounting debugfs on /sys/kernel/debug failed: No such file or directory
[RCS]: /etc/init.d/S30ambrwfs
cp: can't stat '/root/*': No such file or directory
[    1.854481] ubi0: default fastmap pool size: 35
[    1.859154] ubi0: default fastmap WL pool size: 17
[    1.864043] ubi0: attaching mtd12
[    1.911258] random: fast init done
[    2.143542] ubi0: scanning is finished
[    2.152679] ubi0: attached mtd12 (name "program", size 94 MiB)
[    2.158554] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.165448] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.172249] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.179222] ubi0: good PEBs: 751, bad PEBs: 1, corrupted PEBs: 0
[    2.185238] ubi0: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.192474] ubi0: max/mean erase counter: 4/1, WL threshold: 4096, image sequence number: 1390195764
[    2.201617] ubi0: available PEBs: 0, total reserved PEBs: 751, PEBs reserved for bad PEB handling: 15
[    2.210863] ubi0: background thread "ubi_bgt0d" started, PID 169
UBI device number 0, total 751 LEBs (95358976 bytes, 90.9 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
u[    2.227282] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" started, PID 176
bi0_0 exist.
create Directory:/program
df: /dev/pts: No such file or directory
    mount -t ubifs ubi0:program /program 
[    2.258065] UBIFS (ubi0:0): recovery needed
[    2.311959] UBIFS (ubi0:0): recovery completed
[    2.316447] UBIFS (ubi0:0): UBIFS: mounted UBI device 0, volume 0, name "program"
[    2.323945] UBIFS (ubi0:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.333874] UBIFS (ubi0:0): FS size: 91295744 bytes (87 MiB, 719 LEBs), journal size 9023488 bytes (8 MiB, 72 LEBs)
[    2.344321] UBIFS (ubi0:0): reserved for root: 0 bytes (0 KiB)
[    2.350166] UBIFS (ubi0:0): media format: w4/r0 (latest is w5/r0), UUID 5AA93821-CE3B-42DF-8B4C-323281550D45, small LPT model
[    2.374534] ubi1: default fastmap pool size: 8
[    2.379054] ubi1: default fastmap WL pool size: 4
[    2.383811] ubi1: attaching mtd7
[    2.410727] ubi1: scanning is finished
[    2.419326] ubi1: attached mtd7 (name "config", size 8 MiB)
[    2.424989] ubi1: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.431905] ubi1: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.438716] ubi1: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.445703] ubi1: good PEBs: 64, bad PEBs: 0, corrupted PEBs: 0
[    2.451643] ubi1: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.458893] ubi1: max/mean erase counter: 24/13, WL threshold: 4096, image sequence number: 3376025183
[    2.468222] ubi1: available PEBs: 0, total reserved PEBs: 64, PEBs reserved for bad PEB handling: 4
[    2.477300] ubi1: background thread "ubi_bgt1d" started, PID 186
UBI device number 1, total 64 LEBs (8126464 bytes, 7.7 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi1[    2.493721] UBIFS (ubi1:0): background thread "ubifs_bgt1_0" started, PID 193
_0 exist.
create Directory:/config
df: /dev/pts: No such file or directory
    mount -t ubifs ubi1:config /config 
[    2.525452] UBIFS (ubi1:0): recovery needed
[    2.620979] UBIFS (ubi1:0): recovery completed
[    2.625455] UBIFS (ubi1:0): UBIFS: mounted UBI device 1, volume 0, name "config"
[    2.632866] UBIFS (ubi1:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.642795] UBIFS (ubi1:0): FS size: 5586944 bytes (5 MiB, 44 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    2.652895] UBIFS (ubi1:0): reserved for root: 263884 bytes (257 KiB)
[    2.659347] UBIFS (ubi1:0): media format: w5/r0 (latest is w5/r0), UUID 6D0233DC-6B50-42EA-8560-1142E2371A7A, small LPT model
[    2.683496] ubi2: default fastmap pool size: 8
[    2.687993] ubi2: default fastmap WL pool size: 4
[    2.692846] ubi2: attaching mtd9
[    2.713782] ubi2: scanning is finished
[    2.727548] ubi2: attached mtd9 (name "cfgbak", size 6 MiB)
[    2.733151] ubi2: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.740041] ubi2: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.746842] ubi2: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.753820] ubi2: good PEBs: 48, bad PEBs: 0, corrupted PEBs: 0
[    2.759750] ubi2: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.766986] ubi2: max/mean erase counter: 24/13, WL threshold: 4096, image sequence number: 1034400906
[    2.776306] ubi2: available PEBs: 0, total reserved PEBs: 48, PEBs reserved for bad PEB handling: 4
[    2.785380] ubi2: background thread "ubi_bgt2d" started, PID 203
UBI device number 2, total 48 LEBs (6094848 bytes, 5.8 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi2[    2.801917] UBIFS (ubi2:0): background thread "ubifs_bgt2_0" started, PID 210
_0 exist.
create Directory:/cfgbak
df: /dev/pts: No such file or directory
    mount -t ubifs ubi2:cfgbak /cfgbak 
[    2.832436] UBIFS (ubi2:0): recovery needed
[    2.913026] UBIFS (ubi2:0): recovery completed
[    2.917532] UBIFS (ubi2:0): UBIFS: mounted UBI device 2, volume 0, name "cfgbak"
[    2.924955] UBIFS (ubi2:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.934887] UBIFS (ubi2:0): FS size: 3555328 bytes (3 MiB, 28 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    2.944988] UBIFS (ubi2:0): reserved for root: 167926 bytes (163 KiB)
[    2.951441] UBIFS (ubi2:0): media format: w5/r0 (latest is w5/r0), UUID 53E3460B-080A-4FEE-AEE2-4B0AFEB51CC3, small LPT model
[    2.975309] ubi3: default fastmap pool size: 8
[    2.979830] ubi3: default fastmap WL pool size: 4
[    2.984594] ubi3: attaching mtd5
[    3.005593] ubi3: scanning is finished
[    3.016972] ubi3: attached mtd5 (name "calibration", size 6 MiB)
[    3.023051] ubi3: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    3.029939] ubi3: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    3.036748] ubi3: VID header offset: 2048 (aligned 2048), data offset: 4096
[    3.043789] ubi3: good PEBs: 48, bad PEBs: 0, corrupted PEBs: 0
[    3.049721] ubi3: user volume: 1, internal volumes: 1, max. volumes count: 128
[    3.056967] ubi3: max/mean erase counter: 6/2, WL threshold: 4096, image sequence number: 3091558067
[    3.066125] ubi3: available PEBs: 0, total reserved PEBs: 48, PEBs reserved for bad PEB handling: 4
[    3.075203] ubi3: background thread "ubi_bgt3d" started, PID 220
UBI device number 3, total 48 LEBs (6094848 bytes, 5.8 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi3[    3.089524] UBIFS (ubi3:0): background thread "ubifs_bgt3_0" started, PID 226
_0 exist.
    /calibration exists
df: /dev/pts: No such file or directory
    mount -t ubifs ubi3:calibration /calibration 
[    3.122466] UBIFS (ubi3:0): recovery needed
[    3.181252] UBIFS (ubi3:0): recovery completed
[    3.188318] UBIFS (ubi3:0): UBIFS: mounted UBI device 3, volume 0, name "calibration"
[    3.196677] UBIFS (ubi3:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    3.206607] UBIFS (ubi3:0): FS size: 3555328 bytes (3 MiB, 28 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    3.216708] UBIFS (ubi3:0): reserved for root: 167926 bytes (163 KiB)
[    3.223162] UBIFS (ubi3:0): media format: w5/r0 (latest is w5/r0), UUID BF7BD558-BC9A-4D8D-B2C4-EE4F6925CECD, small LPT model
[    3.258909] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" stops
[    6.177238] random: crng init done
verify signature fail, exit!
[    6.209991] UBIFS (ubi0:0): un-mount UBI device 0
can't run '/program/bin/init.sh': No such file or directory

root login: root
Password: 
login[242]: root login on 'ttyS0'

User@/root>checkUser@/root>checksysready
sh: can't open '/program/bin/checksysready.sh': No such file or directory

User@/root>s
    systemreport.sh
    sdformat
    setrsa
    setlicense
    setmonocularid
User@/root>s
    systemreport.sh
    sdformat
    setrsa
    setlicense
    setmonocularid
User@/root>sysUser@/root>systemreport.sh

User@/root>ls  sd f  forUser@/root>sdformat
sh: sdformat: not found

User@/root>ls

User@/root>q
Not support cmd yet!

User@/root>exit
Bye bye!

User@/root>checkUser@/root>checksysready
sh: can't open '/program/bin/checksysready.sh': No such file or directory

User@/root>q exit
Bye bye!

root login: [  4  Ý2  à   `d   @s9€  ±  ú æF€  Ã› ýëÆ      Æ7©"  ÈV3N2C0N2C0RS

U-Boot 2020.04-00011-gddf6f040-dirty (Jun 17 2024 - 18:12:02 +0800), Build: jenkins-Compile_64ä½(10.188.40.119)-7385

U-Boot code: 5C000400 -> 5C095BEC  BSS: -> 5C0BD52C
Model: AXERA AX620E_Qnand Board
DRAM:  Monitor len: 000BD12C
Ram size: 10000000
Ram top: 50000000
TLB table from 4fff0000 to 4fff4000
Reserving 756k for U-Boot at: 4ff32000
Reserving 3584k for malloc() at: 4fbb2000
Reserving 96 Bytes for Board Info at: 4fbb1fa0
Reserving 216 Bytes for Global Data at: 4fbb1ec8
Reserving 14400 Bytes for FDT at: 4fbae688

RAM Configuration:
Bank #0: 40000000 
DRAM:  256 MiB
New Stack Pointer is: 4fbae660
Relocation Offset is: f3f31c00
Relocating to 4ff32000, new gd at 4fbb1ec8, sp at 4fbae660
WARNING: Caches not enabled
ax_adc_probe
No available THERMAL device
MMC:   mmc@1B40000: 0, mmc@104E0000: 1
NAND:  128 MiB
Loading Environment from NAND... *** Warning - bad CRC, using default environment

Loading Environment from SPI Flash... unrecognized JEDEC id bytes: ff, a1, e4
uclass_get_device: Invalid bus 0 (err=-2)
In:    serial
Out:   serial
Err:   serial
Current chip type: AX620Q_CHIP
Current board type: AX620Q_LP4_DEMO_V1_1
boot_reason:0x0
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
selecting mode MMC legacy (freq : 0 MHz)
Card did not respond to voltage select!
mmc_init: -95, time 25
no sd card
enter normal boot mode
boot_info_data.mode = 7
Net:   
Warning: ethernet@0x104C0000 (eth0) using random MAC address - ba:c0:45:e2:a4:e0
eth0: ethernet@0x104C0000  
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
Detected MACID:e4:f1:4c:77:66:ba
Detected ETH1 MACID:e4:f1:4c:77:66:ba
Press Ctrl+B to abort autoboot in 2 seconds
uboot # printl env
baudrate=115200
bootargs=mem=107M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
bootcmd=axera_boot
bootdelay=2
bootfile=uImage
ethaddr=e4:f1:4c:77:66:ba
fdtcontroladdr=4fbae688
ipaddr=192.168.0.13
netmask=255.255.255.0
serverip=192.168.0.10
stderr=serial
stdin=serial
stdout=serial

Environment size: 555/524284 bytes
uboot # setenv bootargs bootargs=mem=107M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc single mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
uboot # boot
ax_shutdown_ephy:0x410021d1
enter do_axera_boot
reading kernel image size 0x700000 from spi nand flash ...
bondopt secureboot bit is enable:1, key_bits:2048
CACHE: Misaligned operation at range [4fbad324, 4fbad4b0]
total kernel image size = 6151640
>>> * kernel image verify success! * <<< 
header_info.blk_num=17, isize=6151640, osize=8629099, tile_cnt=12, last_tile_size=474568
boot cmd is :bootm 0x4e000000#conf-1
## Loading kernel from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'kernel' kernel subimage
     Description:  Axera Linux kernel
     Type:         Kernel Image
     Compression:  uncompressed
     Data Start:   0x4e0000e4
     Data Size:    8485640 Bytes = 8.1 MiB
     Architecture: ARM
     OS:           Linux
     Load Address: 0x40008000
     Entry Point:  0x40008000
   Verifying Hash Integrity ... OK
## Loading fdt from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'fdt-1' fdt subimage
     Description:  Flattened Device Tree blob
     Type:         Flat Device Tree
     Compression:  uncompressed
     Data Start:   0x4e817c9c
     Data Size:    141709 Bytes = 138.4 KiB
     Architecture: ARM
     Load Address: 0x42008000
   Verifying Hash Integrity ... OK
   Loading fdt from 0x4e817c9c to 0x42008000
   Booting using the fdt blob at 0x42008000
   Loading Kernel Image
   Using Device Tree in place at 42008000, end 4202d98c
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 4.19.125 (jenkins@root123) (gcc version 7.5.0 (Linaro GCC 7.5-2019.12)) #1 SMP PREEMPT Mon Jun 17 18:12:19 CST 2024
[    0.000000] CPU: ARMv7 Processor [410fd034] revision 4 (ARMv7), cr=50c5383d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: axera,ax620e
[    0.000000] ENC:0302C5TP;SEN:0302C4XQ;LENS:4801C0G2
[    0.000000] PROTOTYPE_NAME:IPC3624LE-ADF28K-WP
[    0.000000] chip type: 0x1
[    0.000000] memory total: 0x10000000, Media: 0x9000000
[    0.000000] earlycon: uart8250 at MMIO32 0x04880000 (options '')
[    0.000000] bootconsole [uart8250] enabled
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] Ignoring RAM at 0x70000000-0x80000000
[    0.000000] Consider using a HIGHMEM enabled kernel.
[    0.000000] On node 0 totalpages: 196608
[    0.000000]   Normal zone: 1536 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 196608 pages, LIFO batch:63
[    0.000000] percpu: Embedded 18 pages/cpu s44236 r8192 d21300 u73728
[    0.000000] pcpu-alloc: s44236 r8192 d21300 u73728 alloc=18*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 195072
[    0.000000] Kernel command line: bootargs=mem=112M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc single mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
[    0.000000] Dentry cache hash table entries: 131072 (order: 7, 524288 bytes)
[    0.000000] Inode-cache hash table entries: 65536 (order: 6, 262144 bytes)
[    0.000000] Memory: 769980K/786432K available (3967K kernel code, 222K rwdata, 1384K rodata, 2516K init, 396K bss, 16452K reserved, 0K cma-reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
[    0.000000]     vmalloc : 0xf0800000 - 0xff800000   ( 240 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xf0000000   ( 768 MB)
[    0.000000]     modules : 0xbf800000 - 0xc0000000   (   8 MB)
[    0.000000]       .text : 0x(ptrval) - 0x(ptrval)   (3969 kB)
[    0.000000]       .init : 0x(ptrval) - 0x(ptrval)   (2516 kB)
[    0.000000]       .data : 0x(ptrval) - 0x(ptrval)   ( 223 kB)
[    0.000000]        .bss : 0x(ptrval) - 0x(ptrval)   ( 397 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Tasks RCU enabled.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000004] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.008019] Switching to timer-based delay loop, resolution 41ns
[    0.016624] Console: colour dummy device 80x30
[    0.021102] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=120000)
[    0.031474] pid_max: default: 32768 minimum: 301
[    0.036201] Mount-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.042834] Mountpoint-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.050294] CPU: Testing write buffer coherency: ok
[    0.055440] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091200] Setting up static identity map for 0x40008240 - 0x40008278
[    0.107766] rcu: Hierarchical SRCU implementation.
[    0.127795] smp: Bringing up secondary CPUs ...
[    0.158014] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.158113] smp: Brought up 1 node, 2 CPUs
[    0.167902] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.174097] CPU: All CPU(s) started in SVC mode.
[    0.179401] devtmpfs: initialized
[    0.210277] random: get_random_u32 called from bucket_table_alloc+0x63/0x118 with crng_init=0
[    0.219015] VFP support v0.3: implementor 41 architecture 3 part 40 variant 3 rev 4
[    0.226866] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 9556302231375000 ns
[    0.236634] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.242860] pinctrl core: initialized pinctrl subsystem
[    0.248351] NET: Registered protocol family 16
[    0.253113] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.260860] ax_pin_init ret 0 index 7
[    0.266079] console [pstore-1] enabled
[    0.269834] pstore: Registered ramoops as persistent store backend
[    0.276034] ramoops: attached 0x8000@0x41000000, ecc: 0/0
[    0.294130] SCSI subsystem initialized
[    0.298044] usbcore: registered new interface driver usbfs
[    0.303592] usbcore: registered new interface driver hub
[    0.308966] usbcore: registered new device driver usb
[    0.314657] pps_core: LinuxPPS API ver. 1 registered
[    0.319647] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.328809] PTP clock support registered
[    0.332950] Advanced Linux Sound Architecture Driver Initialized.
[    0.340137] dma_per 48a0000.dma_per: Axera DMA Peripherals Controller, 16 channels
[    0.348173] dma:ax_dma_probe:1605: done
[    0.352399] clocksource: Switched to clocksource arch_sys_counter
[    0.363050] NET: Registered protocol family 2
[    0.367878] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes)
[    0.375587] TCP established hash table entries: 8192 (order: 3, 32768 bytes)
[    0.382721] TCP bind hash table entries: 8192 (order: 4, 65536 bytes)
[    0.389291] TCP: Hash tables configured (established 8192 bind 8192)
[    0.395724] UDP hash table entries: 512 (order: 2, 16384 bytes)
[    0.401688] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
[    0.408164] NET: Registered protocol family 1
[    0.412821] RPC: Registered named UNIX socket transport module.
[    0.418763] RPC: Registered udp transport module.
[    0.423481] RPC: Registered tcp transport module.
[    0.428197] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.543871] workingset: timestamp_bits=30 max_order=18 bucket_order=0
[    0.554547] axera_logctl_init: of_find_compatible_node 'axera,logctl' success!!!
[    0.554554] axera_logctl_init: of_find_compatible_node config: /etc/ax_syslog.conf
[    0.562024] axera_logctl_init: logstate:1 1 len:2
[    0.574351] axera_logctl_init: loglevel:4 4 len:2
[    0.579307] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.585626] NFS: Registering the id_resolver key type
[    0.590719] Key type id_resolver registered
[    0.594915] Key type id_legacy registered
[    0.598960] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    0.607867] io scheduler noop registered (default)
[    0.612692] io scheduler mq-deadline registered
[    0.617229] io scheduler kyber registered
[    0.622500] axera-pinctrl 2300000.pinctrl: initialized pinctrl driver
[    0.632780] ax_os_mem_init
[    0.635568] [GZIP][D]: [     1][ax_gzipd_init : 730] enter ax_gzipd_init
[    0.643094] Serial: 8250/16550 driver, 5 ports, IRQ sharing disabled
[    0.650463] console [ttyS0] disabled
[    0.654107] 4880000.ax_uart: ttyS0 at MMIO 0x4880000 (irq = 20, base_baud = 13000000) is a 16550A
[    0.663031] console [ttyS0] enabled
[    0.663031] console [ttyS0] enabled
[    0.670016] bootconsole [uart8250] disabled
[    0.670016] bootconsole [uart8250] disabled
[    0.679589] null: module loaded
[    0.683291] ax_ramdisk_init:can't find ramdisk device tree node
[    0.690198] dw_spi_setup: rx_sample_dly_ns=0x6, chip->rx_sample_dly=0x3
[    0.696980] spi_master spi4: set clk_div=0x4, speed_hz=104000000, dws->max_freq=416000000
[    0.705179] spi_master spi4: set rx_sample_dly=0x3
[    0.710024] spi-nand spi4.0: FudanMicroelec SPI NAND was found.
[    0.715949] spi-nand spi4.0: 128 MiB, block size: 128 KiB, page size: 2048, OOB size: 64
[    0.724555] 13 cmdlinepart partitions found on MTD device spi4.0
[    0.730578] Creating 13 MTD partitions on "spi4.0":
[    0.735470] 0x000000000000-0x000000100000 : "spl"
[    0.741476] 0x000000100000-0x000000180000 : "ddrinit"
[    0.747354] 0x000000180000-0x000000380000 : "uboot"
[    0.754432] 0x000000380000-0x000000400000 : "env"
[    0.759958] 0x000000400000-0x000000a00000 : "calibration"
[    0.771187] 0x000000a00000-0x000000b00000 : "cliinfo"
[    0.777532] 0x000000b00000-0x000001300000 : "config"
[    0.790165] 0x000001300000-0x000001400000 : "runtime"
[    0.796500] 0x000001400000-0x000001a00000 : "cfgbak"
[    0.807316] 0x000001a00000-0x000002100000 : "kernel"
[    0.819066] 0x000002100000-0x000002180000 : "update"
[    0.824918] 0x000002180000-0x000007f80000 : "program"
[    0.916030] 0x000007f80000-0x000008000000 : "other"
[    0.922003] libphy: Fixed MDIO Bus: probed
[    0.926168] tun: Universal TUN/TAP device driver, 1.6
[    0.931461] stmmaceth 104c0000.ethernet: probe axera emac
[    0.936975] stmmaceth 104c0000.ethernet: phy-rst-gpio not configure
[    0.943278] stmmaceth 104c0000.ethernet: emac bus clock: 312MHz
[    0.949240] stmmaceth 104c0000.ethernet: emac phy clock: 25MHz
[    0.955118] stmmaceth 104c0000.ethernet: PTP rate: 50MHz
[    0.960460] stmmaceth 104c0000.ethernet: reset axera emac...
[    0.971142] stmmaceth 104c0000.ethernet: EMAC: select Inner RMII interface, value:0x00000000
[    0.979710] stmmaceth 104c0000.ethernet: User ID: 0x10, Synopsys ID: 0x52
[    0.986515] stmmaceth 104c0000.ethernet: 	DWMAC4/5
[    0.991318] stmmaceth 104c0000.ethernet: DMA HW capability register supported
[    0.998467] stmmaceth 104c0000.ethernet: RX Checksum Offload Engine supported
[    1.005616] stmmaceth 104c0000.ethernet: TX Checksum insertion supported
[    1.012328] stmmaceth 104c0000.ethernet: Wake-Up On Lan supported
[    1.018434] stmmaceth 104c0000.ethernet: TSO supported
[    1.023582] stmmaceth 104c0000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    1.031258] stmmaceth 104c0000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    1.038842] stmmaceth 104c0000.ethernet: USO feature enabled
[    1.044510] stmmaceth 104c0000.ethernet: TSO feature enabled
[    1.050255] libphy: stmmac: probed
[    1.056608] PPP generic driver version 2.4.2
[    1.061030] PPP BSD Compression module registered
[    1.065752] PPP Deflate Compression module registered
[    1.070815] NET: Registered protocol family 24
[    1.075620] axera dwc3 soc:axera_dwc3: axera usb probe
[    1.080946] axera dwc3 soc:axera_dwc3: usb bus clock: 312MHz
[    1.086636] axera dwc3 soc:axera_dwc3: axera usb clk set succeed.
[    1.092767] axera dwc3 soc:axera_dwc3: axera usb reset succeed.
[    1.098957] dwc3 8000000.dwc3: probe later.
[    1.103610] usbcore: registered new interface driver cdc_acm
[    1.109280] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters
[    1.117446] usbcore: registered new interface driver uas
[    1.122805] usbcore: registered new interface driver usb-storage
[    1.128880] usbcore: registered new interface driver usbserial_generic
[    1.135439] usbserial: USB Serial support registered for generic
[    1.177408] rtc_axera 23e0000.rtc-top: rtc core: registered 23e0000.rtc-top as rtc0
[    1.185164] i2c /dev entries driver
[    1.190116] ax_wdt:ax_wdt_drv_probe:346: done!
[    1.190460] sdhci: Secure Digital Host Controller Interface driver
[    1.201125] sdhci: Copyright(c) Pierre Ossman
[    1.205516] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.205603] sdhci-axera 104e0000.sdhc: axera sdhci probe
[    1.211840] usbcore: registered new interface driver usbhid
[    1.218807] get cd gpio failed
[    1.222089] usbhid: USB HID core driver
[    1.230812] dev->intr_type = 0
[    1.233904] dw_i2s_probe, hdmi_i2s: 0
[    1.237683] config pin_sd_misc to 0x300100
[    1.241793] dw_i2s_probe get irq is -6
[    1.245567] IIS get i2s_mclk: 12288000
[    1.249329] IIS get i2s_mclk: 12288000
[    1.253122] IIS probe OK
[    1.255703] dev->intr_type = 1
[    1.258769] dw_i2s_probe, hdmi_i2s: 0
[    1.262499] config pin_sd_misc to 0x300100
[    1.266604] dw_i2s_probe get irq is -6
[    1.270369] IIS get i2s_mclk: 12288000
[    1.274127] IIS get i2s_mclk: 12288000
[    1.277904] IIS probe OK
[    1.280781] ax_actt_probe
[    1.283463] designware-actt 23f2000.audio_codec: No cache used with register defaults set!
[    1.291838] oprofile: hardware counters not available
[    1.292481] mmc0: SDHCI controller on 104e0000.sdhc [104e0000.sdhc] using ADMA 64-bit
[    1.296910] oprofile: using timer interrupt.
[    1.304764] sdhci_cdns_read_phy_reg: phy lock successful
[    1.309657] NET: Registered protocol family 10
[    1.336457] Segment Routing with IPv6
[    1.340266] mip6: Mobile IPv6
[    1.343722] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.350393] NET: Registered protocol family 17
[    1.354932] l2tp_core: L2TP core driver, V2.0
[    1.359310] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[    1.364131] Key type dns_resolver registered
[    1.368598] Registering SWP/SWPB emulation handler
[    1.373404] chip type: AX620Q
[    1.376380] product init ok
[    1.379921] pstore: Using compression: deflate
[    1.385326] i2c_designware 4850000.i2c: running with gpio recovery mode! scl,sda
[    1.392905] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.399058] i2c_designware 4851000.i2c: running with gpio recovery mode! scl,sda
[    1.406587] i2c i2c-1: using pinctrl states for GPIO recovery
[    1.412712] dwc3 8000000.dwc3: dr_mode is 3 (1-host 2-device 3-otg)
[    1.419014] dwc3 8000000.dwc3: EP NUM:16
[    1.423252] actt_component_probe
[    1.423252]  
[    1.423389] bengin actt_set_sysclk
[    1.428196] actt_set_sysclk, freq: 12288000
[    1.435789] actt_set_dai_fmt, fmt: 0x1001
[    1.439808] actt_set_dai_fmt, actt rx only support master fmt_mode: 0x1000
[    1.446690] actt in I2S Format
[    1.449752] dw_i2s_set_fmt, fmt: 0x1001
[    1.454139] asoc-simple-card sound: 23f2000.audio_codec <-> 6051000.i2s_slv mapping ok
[    1.462066] bengin actt_set_sysclk
[    1.462069] actt_set_sysclk, freq: 12288000
[    1.469667] actt_set_dai_fmt, fmt: 0x4001
[    1.473684] actt_set_dai_fmt, actt tx only support salve .fmt_mode: 0x4000
[    1.480566] actt in I2S Format
[    1.483628] dw_i2s_set_fmt, fmt: 0x4001
[    1.487983] asoc-simple-card sound: 23f2000.audio_codec <-> 6050000.i2s_mst mapping ok
[    1.496096] dwc3 8000000.dwc3: axera usb gadget init
[    1.512757] rtc_axera 23e0000.rtc-top: setting system clock to 1970-01-01 08:00:00 UTC (28800)
[    1.521798] OF: fdt: not creating '/sys/firmware/fdt': CRC check failed
[    1.528689] ALSA device list:
[    1.531659]   #0: Axera Audio
[    1.534796] ttyS0 - failed to request DMA
[    1.540661] Freeing unused kernel memory: 2516K
[    1.545201] This architecture does not have kernel memory protection.
[    1.551651] Run /init as init process
root@(none):~# cd ..
root@(none):~# mkdir -p /dev/shm
ts
mount -a

/sbin/mdev -sroot@(none):~# mkdir -p /dev/pts
cat /proc/mtd | grep "prograroot@(none):~# mount -a
m" | awk '{print $1}' | sed -e s/mtd// | sed -emount: mounting debugfs on /sys/kernel/debug failed: No such file or directory
root@(none):~# 
root@(none):~# /sbin/mdev -s
 s/\://)
UbiNum=0
BabReserved=16

ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved

mkdir /program
mount -t ubifs ubi0:program -o sync /programroot@(none):~# 
root@(none):~# MtdNum=$(cat /proc/mtd | grep "program" | awk '{print $1}' | sed 
-e s/mtd// | sed -e s/\://)
root@(none):~# UbiNum=0
root@(none):~# BabReserved=16
root@(no[   10.957964] ubi0: default fastmap pool size: 35
ne):~# 
root@(none):~# ubiattach /dev/ubi_ctrl -m $MtdNum -d $U[   10.965100] ubi0: default fastmap WL pool size: 17
biNum -b $BabReserved
[   10.975317] ubi0: attaching mtd12
[   11.005815] random: fast init done
[   11.251581] ubi0: scanning is finished
[   11.260636] ubi0: attached mtd12 (name "program", size 94 MiB)
[   11.266501] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[   11.273391] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[   11.280190] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096
[   11.287162] ubi0: good PEBs: 751, bad PEBs: 1, corrupted PEBs: 0
[   11.293181] ubi0: user volume: 1, internal volumes: 1, max. volumes count: 128
[   11.300414] ubi0: max/mean erase counter: 4/1, WL threshold: 4096, image sequence number: 1390195764
[   11.309560] ubi0: available PEBs: 0, total reserved PEBs: 751, PEBs reserved for bad PEB handling: 15
[   11.318801] ubi0: background thread "ubi_bgt0d" started, PID 94
UBI device number 0, total 751 LEBs (95358976 bytes, 90.9 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
root@(none):~# 
root@(none):~# mkdir /program
root@(none):~# mount -t ubifs ubi0:program -o sync /program
[   12.060366] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" started, PID 97
[   12.126781] UBIFS (ubi0:0): UBIFS: mounted UBI device 0, volume 0, name "program"
[   12.134296] UBIFS (ubi0:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[   12.144226] UBIFS (ubi0:0): FS size: 91295744 bytes (87 MiB, 719 LEBs), journal size 9023488 bytes (8 MiB, 72 LEBs)
[   12.154673] UBIFS (ubi0:0): reserved for root: 0 bytes (0 KiB)
[   12.160517] UBIFS (ubi0:0): media format: w4/r0 (latest is w5/r0), UUID 5AA93821-CE3B-42DF-8B4C-323281550D45, small LPT model
root@(none):~# cd ../program
root@(none):/program# ls
[1;34mbin[m      [1;34mfactory[m  [1;34mlib[m      [1;34mmodules[m  [1;34mopt[m      [1;34mserver[m   [1;34mwww[m
root@(none):/program# cd binroot@(none):/program# cd bin/[J
root@(none):/program/bin# ls
[1;32mCalibPoly_new.bin[m
[1;32mDelConfig.sh[m
[1;32mM=EISSw=Move=+0000,+0216,Rotate=+000,RI=3840x2160,RO=3072x1728,Grid=32x32.json[m
[1;32mMainFrame_sawtooth_optimize.txt[m
[1;32mSubFrame_Divp_sawtooth_optimize.txt[m
[1;32mSubFrame_sawtooth_optimize.txt[m
[1;32m_hide[m
[1;36marptables-compat[m
[1;32mauto_load_all_drv.sh[m
[1;32mautotest[m
[1;32mautotestlog.sh[m
[1;32mcfgtool[m
[1;32mcheck_isp_int.sh[m
[1;32mchecksysready.sh[m
[1;32mcleancfg.sh[m
[1;32mcomm_init[m
[1;32mconfig.cfg[m
[1;32mcontrolgpio.sh[m
[1;32mcreathwinfo.sh[m
[1;32mdaemon[m
[1;32mdhcpcd_mware[m
[1;32mdrop_caches.sh[m
[1;32mdt[m
[1;36mebtables-compat[m
[1;32mfactorymode[m
[1;32mfc95G1.10_SWLUT.txt[m
[1;32mfilelist.txt[m
[1;32mgatherlog.sh[m
[1;32mgetmanuinfo[m
[1;32minit.sh[m
[1;32misp_tool[m
[1;32mittb_control[m
[1;32mkernelsendbuff.sh[m
[1;34mlibs[m
[1;32mloadlensdata[m
[1;32mlocaltime[m
[1;32mmactool[m
[1;32mmaintain[m
[1;32mmanuinfotool[m
[1;32mmma_release.sh[m
[1;32mmountnfs.sh[m
[1;32mmware_init.sh[m
[1;32mmwarecmd.sh[m
[1;32mmwareserver[m
[1;32mnet-snmp-config[m
[1;32mnewvermanuinfo[m
[1;32mnpu_set_bw_limiter.sh[m
[1;32mpanel[m
[1;32mpasswd.sh[m
[1;32mpppd[m
[1;32mprepare_hide.sh[m
[1;32mreboot.sh[m
[1;32mresetconfig.sh[m
[1;32msdformat[m
[1;32msdk_update[m
[1;32msecure_boot[m
[1;32msetconfig.sh[m
[0;0msignature.bin[m
[0;0mspl.bin[m
[1;32mssl_cert.pem[m
[1;32mssl_cert_nobrand.pem[m
[1;32msystemreport.sh[m
[1;32mtmp_update[m
[1;32mtop[m
[1;32mudhcpc_mware[m
[1;32mupdate_http[m
[1;32mupdate_move[m
[1;32mupdatecpld.sh[m
[1;32mupdatespl.sh[m
[1;32mwpa_supplicant[m
root@(none):/program/bin# cat checkroot@(none):/program/bin# cat check[Jsysroot@(none):/program/bin# cat checksysready.sh [J
#!/bin/sh

/bin/sh

result="fail"

echo "@"

while [ 1 ]
do 
    if [ -r /tmp/stateofmware ]; then
        mw_state=`cat /tmp/stateofmware |grep state|awk -F '[][]' '{print $2}'`
        if [ $mw_state = 1 ]; then
        echo "mware ready"
        else
            echo "mware not ready"
            break
        fi
    else
        echo "mware not ready"
        break
    fi

    if [ -x /program/bin/check_isp_int.sh ]; then
        isp_state=`sh /program/bin/check_isp_int.sh |grep status|awk -F '[][]' '{print $2}'`
        isp_sum_int0=`sh /program/bin/check_isp_int.sh |grep interrupts|awk -F '[][]' '{print $2}'`
        if [ $isp_sum_int0 ]; then
            #echo $isp_sum_int0
            isp_sum_int0=$isp_sum_int0
            #echo $isp_sum_int0
        else
            #echo $isp_sum_int0
            isp_sum_int0=0
            #echo $isp_sum_int0
        fi
        sleep 1
        isp_sum_int1=`sh /program/bin/check_isp_int.sh |grep interrupts|awk -F '[][]' '{print $2}'`
        if [ $isp_sum_int1 ]; then
            #echo $isp_sum_int1
            isp_sum_int1=$isp_sum_int1
            #echo $isp_sum_int1
        else
            #echo $isp_sum_int1
            isp_sum_int1=0
            #echo $isp_sum_int1
        fi
        #echo $isp_sum_int0
        #echo $isp_sum_int1
        isp_sum_int=`expr $isp_sum_int1 - $isp_sum_int0`
        #echo $isp_sum_int
        if [ $isp_state = 1 -a $isp_sum_int -gt 0 ]; then
            echo "isp interrupts ready"
        else
            echo "isp interrupts not ready"
            break
        fi
    else
        echo "check isp interrupt fail"
        break
    fi
    
    result="pass"
    break
done

echo ""
echo "test result:"$result
echo "\$\$"root@(none):/program/bin# [  208.517560] random: crng init done
^C

root@(none):/program/bin# ls
[1;32mCalibPoly_new.bin[m
[1;32mDelConfig.sh[m
[1;32mM=EISSw=Move=+0000,+0216,Rotate=+000,RI=3840x2160,RO=3072x1728,Grid=32x32.json[m
[1;32mMainFrame_sawtooth_optimize.txt[m
[1;32mSubFrame_Divp_sawtooth_optimize.txt[m
[1;32mSubFrame_sawtooth_optimize.txt[m
[1;32m_hide[m
[1;36marptables-compat[m
[1;32mauto_load_all_drv.sh[m
[1;32mautotest[m
[1;32mautotestlog.sh[m
[1;32mcfgtool[m
[1;32mcheck_isp_int.sh[m
[1;32mchecksysready.sh[m
[1;32mcleancfg.sh[m
[1;32mcomm_init[m
[1;32mconfig.cfg[m
[1;32mcontrolgpio.sh[m
[1;32mcreathwinfo.sh[m
[1;32mdaemon[m
[1;32mdhcpcd_mware[m
[1;32mdrop_caches.sh[m
[1;32mdt[m
[1;36mebtables-compat[m
[1;32mfactorymode[m
[1;32mfc95G1.10_SWLUT.txt[m
[1;32mfilelist.txt[m
[1;32mgatherlog.sh[m
[1;32mgetmanuinfo[m
[1;32minit.sh[m
[1;32misp_tool[m
[1;32mittb_control[m
[1;32mkernelsendbuff.sh[m
[1;34mlibs[m
[1;32mloadlensdata[m
[1;32mlocaltime[m
[1;32mmactool[m
[1;32mmaintain[m
[1;32mmanuinfotool[m
[1;32mmma_release.sh[m
[1;32mmountnfs.sh[m
[1;32mmware_init.sh[m
[1;32mmwarecmd.sh[m
[1;32mmwareserver[m
[1;32mnet-snmp-config[m
[1;32mnewvermanuinfo[m
[1;32mnpu_set_bw_limiter.sh[m
[1;32mpanel[m
[1;32mpasswd.sh[m
[1;32mpppd[m
[1;32mprepare_hide.sh[m
[1;32mreboot.sh[m
[1;32mresetconfig.sh[m
[1;32msdformat[m
[1;32msdk_update[m
[1;32msecure_boot[m
[1;32msetconfig.sh[m
[0;0msignature.bin[m
[0;0mspl.bin[m
[1;32mssl_cert.pem[m
[1;32mssl_cert_nobrand.pem[m
[1;32msystemreport.sh[m
[1;32mtmp_update[m
[1;32mtop[m
[1;32mudhcpc_mware[m
[1;32mupdate_http[m
[1;32mupdate_move[m
[1;32mupdatecpld.sh[m
[1;32mupdatespl.sh[m
[1;32mwpa_supplicant[m
root@(none):/program/bin# cd ..
root@(none):/program# cd ..
root@(none):~# ls
[1;34mbin[m          [1;34mhome[m         [1;36mlinuxrc[m      [1;34mprogram[m      [1;34mtmp[m
[1;34mcalibration[m  [1;36minit[m         [1;34mmnt[m          [1;34mroot[m         [1;34musr[m
[1;34mdev[m          [1;34mlib[m          [1;36mopt[m          [1;34msbin[m         [1;34mvar[m
[1;34metc[m          [1;36mlib64[m        [1;34mproc[m         [1;34msys[m          [1;36mwww[m
root@(none):~# cd m[Jproroot@(none):~# cd pro[J
-/bin/sh: cd: can't cd to pro: No such file or directory
root@(none):~# cd program
root@(none):/program# cd mwa[J[J[Jbinroot@(none):/program# cd bin/[J
root@(none):/program/bin# ls
[1;32mCalibPoly_new.bin[m
[1;32mDelConfig.sh[m
[1;32mM=EISSw=Move=+0000,+0216,Rotate=+000,RI=3840x2160,RO=3072x1728,Grid=32x32.json[m
[1;32mMainFrame_sawtooth_optimize.txt[m
[1;32mSubFrame_Divp_sawtooth_optimize.txt[m
[1;32mSubFrame_sawtooth_optimize.txt[m
[1;32m_hide[m
[1;36marptables-compat[m
[1;32mauto_load_all_drv.sh[m
[1;32mautotest[m
[1;32mautotestlog.sh[m
[1;32mcfgtool[m
[1;32mcheck_isp_int.sh[m
[1;32mchecksysready.sh[m
[1;32mcleancfg.sh[m
[1;32mcomm_init[m
[1;32mconfig.cfg[m
[1;32mcontrolgpio.sh[m
[1;32mcreathwinfo.sh[m
[1;32mdaemon[m
[1;32mdhcpcd_mware[m
[1;32mdrop_caches.sh[m
[1;32mdt[m
[1;36mebtables-compat[m
[1;32mfactorymode[m
[1;32mfc95G1.10_SWLUT.txt[m
[1;32mfilelist.txt[m
[1;32mgatherlog.sh[m
[1;32mgetmanuinfo[m
[1;32minit.sh[m
[1;32misp_tool[m
[1;32mittb_control[m
[1;32mkernelsendbuff.sh[m
[1;34mlibs[m
[1;32mloadlensdata[m
[1;32mlocaltime[m
[1;32mmactool[m
[1;32mmaintain[m
[1;32mmanuinfotool[m
[1;32mmma_release.sh[m
[1;32mmountnfs.sh[m
[1;32mmware_init.sh[m
[1;32mmwarecmd.sh[m
[1;32mmwareserver[m
[1;32mnet-snmp-config[m
[1;32mnewvermanuinfo[m
[1;32mnpu_set_bw_limiter.sh[m
[1;32mpanel[m
[1;32mpasswd.sh[m
[1;32mpppd[m
[1;32mprepare_hide.sh[m
[1;32mreboot.sh[m
[1;32mresetconfig.sh[m
[1;32msdformat[m
[1;32msdk_update[m
[1;32msecure_boot[m
[1;32msetconfig.sh[m
[0;0msignature.bin[m
[0;0mspl.bin[m
[1;32mssl_cert.pem[m
[1;32mssl_cert_nobrand.pem[m
[1;32msystemreport.sh[m
[1;32mtmp_update[m
[1;32mtop[m
[1;32mudhcpc_mware[m
[1;32mupdate_http[m
[1;32mupdate_move[m
[1;32mupdatecpld.sh[m
[1;32mupdatespl.sh[m
[1;32mwpa_supplicant[m
root@(none):/program/bin# cd mw[J[J[J[J[Jvi mware_init.sh
[?1049h[999;999H[6n[H[J[1;1Hcd /[2;1Hmkdir -p /var/lib/[3;1Hmkdir -p /var/run/[4;1Hmkdir -p /etc/iscsi[5;1Hmkdir -p /tmp/bin[7;1Hmkdir -p /tmp/custom[8;1Hln -sf /program/bin/update_move /tmp/bin/update[9;1Hchmod a+x /tmp/bin/update[10;1Hcp -rf /usr/sbin/nandwrite_move /tmp/bin/nandwrite[11;1Hchmod a+x /tmp/bin/nandwrite[12;1Hcp -rf /usr/sbin/flashwrite_move /tmp/bin/flashwrite[13;1Hchmod a+x /tmp/bin/flashwrite[14;1Hecho kill -9 `pidof watchdog` "&" > /tmp/bin/killwatchdog.sh[15;1Hecho killall -9 watchdog "&" >> /tmp/bin/killwatchdog.sh[16;1Hchmod 777 /tmp/bin/killwatchdog.sh[17;1Hmkdir -p /tmp/update[18;1Hmkdir -p /config/flashlog[19;1Hln /program/www -sf /www[20;1Hln -fs /config/flashlog /var/[21;1Hif [ -z "`/bin/ls -l /var/log | /bin/grep 'tmp'`" ]; then[22;5Hln -fs /tmp/ /var/log[23;1Hfi[24;1Hmkdir -p /config/customize/lang[25;1Hmkdir -p /config/customize/language[26;1Hulimit -c unlimited[27;1Hulimit -HSn 10000[28;1Hecho 1 > /proc/sys/vm/overcommit_memory[29;1Hecho "1" > /proc/sys/kernel/core_uses_pid[30;1Hecho 3 4 1 3 > /proc/sys/kernel/printk[31;1H#....OSD....................MW................IW,......................[32;1Hecho 16384 > /proc/sys/kernel/msgmax[33;1Hif [ -f "/program/www/ActiveX/Setup_NB.exe" ]; then[34;4Hln -sf /program/www/ActiveX/Setup_NB.exe /tmp/Setup.exe[35;1Hfi[36;1Hif [ -f "/program/www/ActiveX/Setup_NB_64.exe" ]; then[37;4Hln -sf /program/www/ActiveX/Setup_NB_64.exe /tmp/Setup64.exe[38;1Hfi[39;1Hif [ ! -f /program/www/ActiveX/Setup.exe ]; then[40;9Hln -sf /tmp/Setup.exe /program/www/ActiveX/Setup.exe[41;1Hfi[42;1Hif [ ! -f /program/www/ActiveX/Setup64.exe ]; then[43;9Hln -sf /tmp/Setup64.exe /program/www/ActiveX/Setup64.exe[44;1Hfi[45;1Hif [ ! -f /config/ca.cer ]; then[46;9Hcp /program/bin/ca.cer /config/ca.cer -f[47;1Hfi[48;1Hif [ -f /config/ca.cer ]; then[49;9Hmkdir -p /tmp/sslvpn[50;9Hchmod a+x /config/ca.cer[51;9Hln -sf /config/ca.cer /tmp/sslvpn/ca.cer[52;1Hfi[53;1Hcp /program/bin/reboot.sh /tmp/bin/reboot.sh[1;1H[54;1H[K- mware_init.sh 1/139 0%[1;1H[2;1H[54;1H[K- mware_init.sh 2/139 1%[2;1H[3;1H[54;1H[K- mware_init.sh 3/139 2%[3;1H[4;1H[54;1H[K- mware_init.sh 4/139 2%[4;1H[5;1H[54;1H[K- mware_init.sh 5/139 3%[5;1H[4;1H[54;1H[K- mware_init.sh 4/139 2%[4;1H[3;1H[54;1H[K- mware_init.sh 3/139 2%[3;1H[2;1H[54;1H[K- mware_init.sh 2/139 1%[2;1H[1;1H[54;1H[K- mware_init.sh 1/139 0%[1;1H[1;1H[1;1H[1;1H[1;1H[1;1H[2;1H[54;1H[K- mware_init.sh 2/139 1%[2;1H[3;1H[54;1H[K- mware_init.sh 3/139 2%[3;1H[4;1H[54;1H[K- mware_init.sh 4/139 2%[4;1H[3;1H[54;1H[K- mware_init.sh 3/139 2%[3;1H[2;1H[54;1H[K- mware_init.sh 2/139 1%[2;1H[1;1H[54;1H[K- mware_init.sh 1/139 0%[1;1H[1;1H[54;1H[K[7m'v' is not implemented[m[1;1H[54;1H[K- mware_init.sh 1/139 0%[1;1H[1;4H[1;1H        #............[2;1H        CPUTYPE=`cat /proc/driver/gpiodev_info | head -1 | awk -F ':' '{print $2}' | awk '{print $1}'`[3;1H        echo "CPU type is $CPUTYPE"[4;1H        if [ "$CPUTYPE" = "mstar" ]; then[5;1H                mwareserver 1>>/tmp/mstar00.log 2>&1 &[6;17Hlimit_size_log.sh /tmp/mstar00.log 64 &[7;1H        else        [8;1H                mwareserver &                  [9;1H        fi               [10;1H        sleep 2                                   [11;1H        #..................maintain[12;1H        if [ -f "/program/bin/maintain" ];then      [13;1H                maintain &   [14;1H        fi                                                  [15;1H        #..........Mware/Demo/Daemon/Enable..................0........daemon[16;1H        if [ "0" != "$(sed -n '/<Demo>/,/<\/Demo>/p' /config/config_a.xml |sed -n '/<Daemon>/,/<\/Daemon>/p' | grep '<Enable>'|sed 's/\(.*\)<Enable>\(.*\)<\/Enable>\(.*\)/[17;1H                daemon /program/www/daemon.cfg &[18;1H        fi               [19;1H        if [ ! -f /config/ssl_cert.pem ]; then[20;1H                cp /program/bin/ssl_cert.pem /config/ssl_cert.pem -f[21;1H        fi                                               [22;5H    if [ ! -f /config/ssl_cert_nobrand.pem ]; then[23;1H                cp /program/bin/ssl_cert_nobrand.pem /config/ssl_cert_nobrand.pem -f[24;1H        fi                     [25;1H        echo 0 > /proc/sys/net/ipv4/tcp_timestamps[26;1Hfi                 [27;1Hsh /program/bin/autotestlog.sh &[28;1H~                                      [29;1H~                                        [30;1H~                                     [31;1H~                                                                      [32;1H~                                   [33;1H~                                                  [34;1H~                                                         [35;1H~ [36;1H~                                                     [37;1H~                                                              [38;1H~ [39;1H~                                               [40;1H~                                                           [41;1H~ [42;1H~                                                 [43;1H~                                                               [44;1H~ [45;1H~                               [46;1H~                                               [47;1H~ [48;1H~                             [49;1H~                           [50;1H~                               [51;1H~                                               [52;1H~ [53;1H~                                           [27;1H[54;1H[K- mware_init.sh 139/139 100%[27;1H[27;32H[27;32H[26;2H[54;1H[K- mware_init.sh 138/139 99%[26;2H[27;32H[54;1H[K- mware_init.sh 139/139 100%[27;32H[27;32H[54;1H[K[7m'v' is not implemented[m[27;32H[54;1H[K- mware_init.sh 139/139 100%[27;32H[27;32H[54;1H[K- mware_init.sh 139/139 100%[27;32H[26;2H[54;1H[K- mware_init.sh 138/139 99%[26;2H[27;32H[54;1H[K- mware_init.sh 139/139 100%[27;32H[27;32H[54;1H[K[7m'v' is not implemented[m[27;32H[54;1H[K- mware_init.sh 139/139 100%[27;32H[26;2H[54;1H[K- mware_init.sh 138/139 99%[26;2H[1;1Hcd /                 [2;1Hmkdir -p /var/lib/                                                                                    [3;1Hmkdir -p /var/run/                 [4;1Hmkdir -p /etc/iscsi                      [5;1Hmkdir -p /tmp/bin                                     [6;17H                                       [7;1Hmkdir -p /tmp/custom[8;1Hln -sf /program/bin/update_move /tmp/bin/update[9;1Hchmod a+x /tmp/bin/update[10;1Hcp -rf /usr/sbin/nandwrite_move /tmp/bin/nandwrite[11;1Hchmod a+x /tmp/bin/nandwrite       [12;1Hcp -rf /usr/sbin/flashwrite_move /tmp/bin/flashwrite[13;1Hchmod a+x /tmp/bin/flashwrite[14;1Hecho kill -9 `pidof watchdog` "&" > /tmp/bin/killwatchdog.sh[15;1Hecho killall -9 watchdog "&" >> /tmp/bin/killwatchdog.sh                    [16;1Hchmod 777 /tmp/bin/killwatchdog.sh                                                                                                                                         [17;1Hmkdir -p /tmp/update                            [18;1Hmkdir -p /config/flashlog[19;1Hln /program/www -sf /www                      [20;1Hln -fs /config/flashlog /var/                                       [21;1Hif [ -z "`/bin/ls -l /var/log | /bin/grep 'tmp'`" ]; then[22;5Hln -fs /tmp/ /var/log                             [23;1Hfi                                                                                  [24;1Hmkdir -p /config/customize/lang[25;1Hmkdir -p /config/customize/language               [26;1Hulimit -c unlimited[27;1Hulimit -HSn 10000               [28;1Hecho 1 > /proc/sys/vm/overcommit_memory[29;1Hecho "1" > /proc/sys/kernel/core_uses_pid[30;1Hecho 3 4 1 3 > /proc/sys/kernel/printk[31;1H#....OSD....................MW................IW,......................[32;1Hecho 16384 > /proc/sys/kernel/msgmax[33;1Hif [ -f "/program/www/ActiveX/Setup_NB.exe" ]; then[34;1H   ln -sf /program/www/ActiveX/Setup_NB.exe /tmp/Setup.exe[35;1Hfi[36;1Hif [ -f "/program/www/ActiveX/Setup_NB_64.exe" ]; then[37;1H   ln -sf /program/www/ActiveX/Setup_NB_64.exe /tmp/Setup64.exe[38;1Hfi[39;1Hif [ ! -f /program/www/ActiveX/Setup.exe ]; then[40;1H        ln -sf /tmp/Setup.exe /program/www/ActiveX/Setup.exe[41;1Hfi[42;1Hif [ ! -f /program/www/ActiveX/Setup64.exe ]; then[43;1H        ln -sf /tmp/Setup64.exe /program/www/ActiveX/Setup64.exe[44;1Hfi[45;1Hif [ ! -f /config/ca.cer ]; then[46;1H        cp /program/bin/ca.cer /config/ca.cer -f[47;1Hfi[48;1Hif [ -f /config/ca.cer ]; then[49;1H        mkdir -p /tmp/sslvpn[50;1H        chmod a+x /config/ca.cer[51;1H        ln -sf /config/ca.cer /tmp/sslvpn/ca.cer[52;1Hfi[53;1Hcp /program/bin/reboot.sh /tmp/bin/reboot.sh[1;1H[54;1H[K- mware_init.sh 1/139 0%[1;1H[1;1H[54;1H[K[7m'v' is not implemented[m[1;1H[54;1H[K- mware_init.sh 1/139 0%[1;1H[1;2H[1;3H[1;4H[1;4H[54;1H[K- mware_init.sh 1/139 0%[1;4H[1;4H[54;1H[K- mware_init.sh 1/139 0%[1;4H[54;1H[K:q[1;4H[1;4H[54;1H[K- mware_init.sh 1/139 0%[1;4H[54;1H[K[?1049lroot@(none):/program/bin# vim mwroot@(none):/program/bin# vim mware[J_root@(none):/program/bin# vim mware_init.sh [J
-/bin/sh: vim: not found
root@(none):/program/bin# vi mwareroot@(none):/program/bin# vi mware[J_root@(none):/program/bin# vi mware_init.sh [J
[?1049h[999;999H[6n[H[J[1;1Hcd /[2;1Hmkdir -p /var/lib/[3;1Hmkdir -p /var/run/[4;1Hmkdir -p /etc/iscsi[5;1Hmkdir -p /tmp/bin[7;1Hmkdir -p /tmp/custom[8;1Hln -sf /program/bin/update_move /tmp/bin/update[9;1Hchmod a+x /tmp/bin/update[10;1Hcp -rf /usr/sbin/nandwrite_move /tmp/bin/nandwrite[11;1Hchmod a+x /tmp/bin/nandwrite[12;1Hcp -rf /usr/sbin/flashwrite_move /tmp/bin/flashwrite[13;1Hchmod a+x /tmp/bin/flashwrite[14;1Hecho kill -9 `pidof watchdog` "&" > /tmp/bin/killwatchdog.sh[15;1Hecho killall -9 watchdog "&" >> /tmp/bin/killwatchdog.sh[16;1Hchmod 777 /tmp/bin/killwatchdog.sh[17;1Hmkdir -p /tmp/update[18;1Hmkdir -p /config/flashlog[19;1Hln /program/www -sf /www[20;1Hln -fs /config/flashlog /var/[21;1Hif [ -z "`/bin/ls -l /var/log | /bin/grep 'tmp'`" ]; then[22;5Hln -fs /tmp/ /var/log[23;1Hfi[24;1Hmkdir -p /config/customize/lang[25;1Hmkdir -p /config/customize/language[26;1Hulimit -c unlimited[27;1Hulimit -HSn 10000[28;1Hecho 1 > /proc/sys/vm/overcommit_memory[29;1Hecho "1" > /proc/sys/kernel/core_uses_pid[30;1Hecho 3 4 1 3 > /proc/sys/kernel/printk[31;1H#....OSD....................MW................IW,......................[32;1Hecho 16384 > /proc/sys/kernel/msgmax[33;1Hif [ -f "/program/www/ActiveX/Setup_NB.exe" ]; then[34;4Hln -sf /program/www/ActiveX/Setup_NB.exe /tmp/Setup.exe[35;1Hfi[36;1Hif [ -f "/program/www/ActiveX/Setup_NB_64.exe" ]; then[37;4Hln -sf /program/www/ActiveX/Setup_NB_64.exe /tmp/Setup64.exe[38;1Hfi[39;1Hif [ ! -f /program/www/ActiveX/Setup.exe ]; then[40;9Hln -sf /tmp/Setup.exe /program/www/ActiveX/Setup.exe[41;1Hfi[42;1Hif [ ! -f /program/www/ActiveX/Setup64.exe ]; then[43;9Hln -sf /tmp/Setup64.exe /program/www/ActiveX/Setup64.exe[44;1Hfi[45;1Hif [ ! -f /config/ca.cer ]; then[46;9Hcp /program/bin/ca.cer /config/ca.cer -f[47;1Hfi[48;1Hif [ -f /config/ca.cer ]; then[49;9Hmkdir -p /tmp/sslvpn[50;9Hchmod a+x /config/ca.cer[51;9Hln -sf /config/ca.cer /tmp/sslvpn/ca.cer[52;1Hfi[53;1Hcp /program/bin/reboot.sh /tmp/bin/reboot.sh[1;1H[54;1H[K- mware_init.sh 1/139 0%[1;1H[1;1H[54;1H[K- mware_init.sh 1/139 0%[1;1H[54;1H[K:q[1;1H[1;1H[54;1H[K- mware_init.sh 1/139 0%[1;1H[54;1H[K[?1049lroot@(none):/program/bin# cat mware_root@(none):/program/bin# cat mware_init.sh [J
cd /
mkdir -p /var/lib/
mkdir -p /var/run/
mkdir -p /etc/iscsi
mkdir -p /tmp/bin

mkdir -p /tmp/custom
ln -sf /program/bin/update_move /tmp/bin/update
chmod a+x /tmp/bin/update  
cp -rf /usr/sbin/nandwrite_move /tmp/bin/nandwrite
chmod a+x /tmp/bin/nandwrite 
cp -rf /usr/sbin/flashwrite_move /tmp/bin/flashwrite
chmod a+x /tmp/bin/flashwrite
echo kill -9 `pidof watchdog` "&" > /tmp/bin/killwatchdog.sh
echo killall -9 watchdog "&" >> /tmp/bin/killwatchdog.sh
chmod 777 /tmp/bin/killwatchdog.sh 
mkdir -p /tmp/update
mkdir -p /config/flashlog
ln /program/www -sf /www
ln -fs /config/flashlog /var/
if [ -z "`/bin/ls -l /var/log | /bin/grep 'tmp'`" ]; then
    ln -fs /tmp/ /var/log
fi
mkdir -p /config/customize/lang
mkdir -p /config/customize/language
ulimit -c unlimited
ulimit -HSn 10000
echo 1 > /proc/sys/vm/overcommit_memory
echo "1" > /proc/sys/kernel/core_uses_pid 
echo 3 4 1 3 > /proc/sys/kernel/printk
#Ä¿Ç°OSD½á¹¹Ìå¹ý´ó£¬ÇÒÐèÒª´ÓMWÍ¨¹ýÏûÏ¢¶ÓÁÐ·¢ÍùIW,ËùÒÔÔö´óÏûÏ¢¶ÓÁÐ´óÐ¡¡£
echo 16384 > /proc/sys/kernel/msgmax
if [ -f "/program/www/ActiveX/Setup_NB.exe" ]; then
   ln -sf /program/www/ActiveX/Setup_NB.exe /tmp/Setup.exe
fi
if [ -f "/program/www/ActiveX/Setup_NB_64.exe" ]; then
   ln -sf /program/www/ActiveX/Setup_NB_64.exe /tmp/Setup64.exe
fi
if [ ! -f /program/www/ActiveX/Setup.exe ]; then
	ln -sf /tmp/Setup.exe /program/www/ActiveX/Setup.exe
fi
if [ ! -f /program/www/ActiveX/Setup64.exe ]; then
	ln -sf /tmp/Setup64.exe /program/www/ActiveX/Setup64.exe
fi
if [ ! -f /config/ca.cer ]; then
	cp /program/bin/ca.cer /config/ca.cer -f
fi
if [ -f /config/ca.cer ]; then
	mkdir -p /tmp/sslvpn
	chmod a+x /config/ca.cer
	ln -sf /config/ca.cer /tmp/sslvpn/ca.cer
fi
cp /program/bin/reboot.sh /tmp/bin/reboot.sh
chmod a+x /tmp/bin/reboot.sh
echo export LD_LIBRARY_PATH=/program/lib >> /etc/profile
echo PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/bin/X11:/usr/local/bin:/usr/local/sbin:/program/bin:/tmp/bin >> /etc/profile
source /etc/profile  1>/dev/null 2>&1
PATH=/program/bin:$PATH
comm_init
cp -f /program/bin/localtime /etc/
if [ -f /config/localtime ]; then
	if [ ! -f /cfgbak/localtime ]; then
		cp /config/localtime /cfgbak/localtime -f  1>/dev/null 2>&1
	fi
else
	if [ -f /cfgbak/localtime ]; then
		cp /cfgbak/localtime /config/localtime -f  1>/dev/null 2>&1
	fi
fi
if [ -f /config/TZ ]; then
	if [ ! -f /cfgbak/TZ ]; then
		cp /config/TZ /cfgbak/TZ -f  1>/dev/null 2>&1
	fi
else
	if [ -f /cfgbak/TZ ]; then
		cp /cfgbak/TZ /config/TZ -f  1>/dev/null 2>&1
	fi
fi
cp /config/localtime /etc/localtime -f  1>/dev/null 2>&1
cp /config/TZ /etc/TZ -rf  1>/dev/null 2>&1
cp /program/bin/mwarecmd.sh /tmp/bin/mwarecmd.sh -f
chmod a+x /tmp/bin/mwarecmd.sh
/tmp/bin/mwarecmd.sh unpacklog
cp /var/flashlog/update.log /var/log/updatei.log 1>/dev/null 2>&1
cp -f /program/www/skin/default_1/images/no_logo.png /tmp/logo.png 
cd /program/www/skin/default_1/images/
rm -rf logo.png
ln -sf /tmp/logo.png logo.png
#½ÚÔ¼OSÄÚ´æ£¬½ö±£ÁôÉÏ´ÎÔËÐÐºÍ±¾´ÎÔËÐÐµÄËã·¨ÈÕÖ¾,Â·¾¶±ØÐëÓë´úÂëÖÐ IW_FACE2_ISF_LOG_PATH£¬IW_ISF_LOG_PATH ºê±£³ÖÒ»ÖÂ
cd /var/log/
rm -rf IntelligentSystemLogs/IntelligentSystemLogs_bak.tgz
tar czvf IntelligentSystemLogs_bak.tgz IntelligentSystemLogs  1>/dev/null 2>&1
rm -rf IntelligentSystemLogs
mkdir IntelligentSystemLogs
mv IntelligentSystemLogs_bak.tgz /var/log/IntelligentSystemLogs/
cd -
cfgtool
chmod a+x /program/bin/kernelsendbuff.sh
/program/bin/kernelsendbuff.sh
if [ -f /config/calibration ];then
	echo "state: [1]"  > /tmp/stateofmware
else
	rm /config/flashlog/dmesg.log
	date >> /config/flashlog/dmesg.log
	uptime >> /config/flashlog/dmesg.log
	dmesg | tail -n 300 >> /config/flashlog/dmesg.log
	if [ -r /sys/class/mstar/msys/REBOOT_TYPE ]; then
	cat /sys/class/mstar/msys/REBOOT_TYPE >> /config/flashlog/dmesg.log
	fi
	export LD_LIBRARY_PATH=/program/lib:$LD_LIBRARY_PATH
	ifconfig lo up 
	cd /program/lib/
	#»ñÈ¡Æ½Ì¨ÐÅÏ¢
	CPUTYPE=`cat /proc/driver/gpiodev_info | head -1 | awk -F ':' '{print $2}' | awk '{print $1}'`
	echo "CPU type is $CPUTYPE"
	if [ "$CPUTYPE" = "mstar" ]; then
		mwareserver 1>>/tmp/mstar00.log 2>&1 &
		limit_size_log.sh /tmp/mstar00.log 64 &
	else
		mwareserver &
	fi
	sleep 2
	#Êý×Ö»úÐ¾²»ÐèÒªÆô¶¯maintain
	if [ -f "/program/bin/maintain" ];then 
		maintain &
	fi
	#ÅäÖÃÎÄ¼þÎÞMware/Demo/Daemon/Enable½Úµã»ò¸Ã½ÚµãÖµ²»Îª0Ê±£¬Æô¶¯daemon
	if [ "0" != "$(sed -n '/<Demo>/,/<\/Demo>/p' /config/config_a.xml |sed -n '/<Daemon>/,/<\/Daemon>/p' | grep '<Enable>'|sed 's/\(.*\)<Enable>\(.*\)<\/Enable>\(.*\)/\2/')" ];then
		daemon /program/www/daemon.cfg &		
	fi
	if [ ! -f /config/ssl_cert.pem ]; then
		cp /program/bin/ssl_cert.pem /config/ssl_cert.pem -f
	fi
	if [ ! -f /config/ssl_cert_nobrand.pem ]; then
		cp /program/bin/ssl_cert_nobrand.pem /config/ssl_cert_nobrand.pem -f
	fi
	echo 0 > /proc/sys/net/ipv4/tcp_timestamps
fi
sh /program/bin/autotestlog.sh &
root@(none):/program/bin# md5sum /program/bin/mware_init.sh
88c9954c3e8c8450ecdffb5f823d2193  /program/bin/mware_init.sh
root@(none):/program/bin# an[J[Jman md5sum
-/bin/sh: man: not found
root@(none):/program/bin# ls -la /program/bin/.mware_init.sh.swp
ls: /program/bin/.mware_init.sh.swp: No such file or directory
root@(none):/program/bin# ls -al /program/bin/.root@(none):/program/bin# ls -al /program/bin/.[J
../  ./
root@(none):/program/bin# ls -al /program/bin/.[J
../  ./
root@(none):/program/bin# ls -al /program/bin/.[J
../  ./
root@(none):/program/bin# ls -al /program/bin/.[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[J[Jstrings /program/bin/signature.bin | head -50
9?f>
root@(none):/program/bin# root@(none):/program/bin# strings /program/bin/signature.bin | head -50[Jroot@(none):/program/bin# ls -la /program/bin/.mware_init.sh.swp[Jroot@(none):/program/bin# man md5sum[Jroot@(none):/program/bin# md5sum /program/bin/mware_init.sh[Jroot@(none):/program/bin# man md5sum[Jroot@(none):/program/bin# md5sum /program/bin/mware_init.sh[J
88c9954c3e8c8450ecdffb5f823d2193  /program/bin/mware_init.sh
root@(none):/program/bin# [H[Jroot@(none):/program/bin# [Jls -la /program/bin/mware_init.sh /program/bin/checksy
sready.sh
-rwxr-xr-x    1 1001     1001          1724 Dec  1  2011 [1;32m/program/bin/checksysready.sh[m
-rwxr-xr-x    1 1001     1001          4809 Dec  1  2011 [1;32m/program/bin/mware_init.sh[m
root@(none):/program/bin# vi m[Jchroot@(none):/program/bin# vi check[Jsyroot@(none):/program/bin# vi checksysready.sh [J
[?1049h[999;999H[6n[H[J[1;1H#!/bin/sh[3;1H/bin/sh[5;1Hresult="fail"[7;1Hecho "@"[9;1Hwhile [ 1 ][10;1Hdo[11;5Hif [ -r /tmp/stateofmware ]; then[12;9Hmw_state=`cat /tmp/stateofmware |grep state|awk -F '[][]' '{print $2}'`[13;9Hif [ $mw_state = 1 ]; then[14;9Hecho "mware ready"[15;9Helse[16;13Hecho "mware not ready"[17;13Hbreak[18;9Hfi[19;5Helse[20;9Hecho "mware not ready"[21;9Hbreak[22;5Hfi[24;5Hif [ -x /program/bin/check_isp_int.sh ]; then[25;9Hisp_state=`sh /program/bin/check_isp_int.sh |grep status|awk -F '[][]' '{print $2}'`[26;9Hisp_sum_int0=`sh /program/bin/check_isp_int.sh |grep interrupts|awk -F '[][]' '{print $2}'`[27;9Hif [ $isp_sum_int0 ]; then[28;13H#echo $isp_sum_int0[29;13Hisp_sum_int0=$isp_sum_int0[30;13H#echo $isp_sum_int0[31;9Helse[32;13H#echo $isp_sum_int0[33;13Hisp_sum_int0=0[34;13H#echo $isp_sum_int0[35;9Hfi[36;9Hsleep 1[37;9Hisp_sum_int1=`sh /program/bin/check_isp_int.sh |grep interrupts|awk -F '[][]' '{print $2}'`[38;9Hif [ $isp_sum_int1 ]; then[39;13H#echo $isp_sum_int1[40;13Hisp_sum_int1=$isp_sum_int1[41;13H#echo $isp_sum_int1[42;9Helse[43;13H#echo $isp_sum_int1[44;13Hisp_sum_int1=0[45;13H#echo $isp_sum_int1[46;9Hfi[47;9H#echo $isp_sum_int0[48;9H#echo $isp_sum_int1[49;9Hisp_sum_int=`expr $isp_sum_int1 - $isp_sum_int0`[50;9H#echo $isp_sum_int[51;9Hif [ $isp_state = 1 -a $isp_sum_int -gt 0 ]; then[52;13Hecho "isp interrupts ready"[53;9Helse[1;1H[54;1H[K- checksysready.sh 1/67 1%[1;1H[2;1H[54;1H[K- checksysready.sh 2/67 2%[2;1H[3;1H[54;1H[K- checksysready.sh 3/67 4%[3;1H[3;1H       [4;1Hresult="fail"[5;1H             [6;1Hecho "@"[7;1H        [8;1Hwhile [ 1 ][9;1Hdo         [10;1H    if [ -r /tmp/stateofmware ]; then[11;5H    mw_state=`cat /tmp/stateofmware |grep state|awk -F '[][]' '{print $2}'`[12;9Hif [ $mw_state = 1 ]; then                                             [13;9Hecho "mware ready"        [14;10Hlse              [15;9H    echo "mware not ready"[16;13Hbreak                 [17;9Hfi       [18;5Helse  [19;5H    echo "mware not ready"[20;9Hbreak                 [21;5Hfi       [22;5H  [23;5Hif [ -x /program/bin/check_isp_int.sh ]; then[24;5H    isp_state=`sh /program/bin/check_isp_int.sh |grep status|awk -F '[][]' '{print $2}'`[25;14Hum_int0=`sh /program/bin/check_isp_int.sh |grep interrupts|awk -F '[][]' '{print $2}'`[26;10Hf [ $isp_sum_int0 ]; then                                                                 [27;9H    #echo $isp_sum_int0   [28;13Hisp_sum_int0=$isp_sum_int0[29;13H#echo $isp_sum_int0       [30;9Helse                   [31;9H    #echo $isp_sum_int0[32;13Hisp_sum_int0=0     [33;13H#echo $isp_sum_int0[34;9Hfi                     [35;9Hsleep 1[36;9Hisp_sum_int1=`sh /program/bin/check_isp_int.sh |grep interrupts|awk -F '[][]' '{print $2}'`[37;10Hf [ $isp_sum_int1 ]; then                                                                 [38;9H    #echo $isp_sum_int1   [39;13Hisp_sum_int1=$isp_sum_int1[40;13H#echo $isp_sum_int1       [41;9Helse                   [42;9H    #echo $isp_sum_int1[43;13Hisp_sum_int1=0     [44;13H#echo $isp_sum_int1[45;9Hfi                     [46;9H#echo $isp_sum_int0[47;27H1[48;9Hisp_sum_int=`expr $isp_sum_int1 - $isp_sum_int0`[49;9H#echo $isp_sum_int                              [50;9Hif [ $isp_state = 1 -a $isp_sum_int -gt 0 ]; then[51;9H    echo "isp interrupts ready"                  [52;9Helse                           [53;9H    echo "isp interrupts not ready"[3;1H[54;1H[KDelete 1 lines (8 chars) from [D][3;1H[54;1H[K- checksysready.sh [Modified] 3/66 4%[3;1H[3;1H[54;1H[K- checksysready.sh [Modified] 3/66 4%[3;1H[54;1H[K:wq[3;1H[3;1H[54;1H[K'checksysready.sh' 66L, 1716C[3;1H[54;1H[K[?1049lroot@(none):/program/bin# eboot[J[J[J[J[Jreboot
The system is going down NOW!
Sent SIGTERM to all processes
root@(none):/program/bin# Sent SIGKILL to all processes
[  901.608061] axera dwc3 soc:axera_dwc3: axera usb reset succeed.
[  901.614106] reboot: Restarting system
[  903.117825] Reboot failed -- System halted
  €V3N2C0N2C0RS

U-Boot 2020.04-00011-gddf6f040-dirty (Jun 17 2024 - 18:12:02 +0800), Build: jenkins-Compile_64ä½(10.188.40.119)-7385

U-Boot code: 5C000400 -> 5C095BEC  BSS: -> 5C0BD52C
Model: AXERA AX620E_Qnand Board
DRAM:  Monitor len: 000BD12C
Ram size: 10000000
Ram top: 50000000
TLB table from 4fff0000 to 4fff4000
Reserving 756k for U-Boot at: 4ff32000
Reserving 3584k for malloc() at: 4fbb2000
Reserving 96 Bytes for Board Info at: 4fbb1fa0
Reserving 216 Bytes for Global Data at: 4fbb1ec8
Reserving 14400 Bytes for FDT at: 4fbae688

RAM Configuration:
Bank #0: 40000000 
DRAM:  256 MiB
New Stack Pointer is: 4fbae660
Relocation Offset is: f3f31c00
Relocating to 4ff32000, new gd at 4fbb1ec8, sp at 4fbae660
WARNING: Caches not enabled
ax_adc_probe
No available THERMAL device
MMC:   mmc@1B40000: 0, mmc@104E0000: 1
NAND:  128 MiB
Loading Environment from NAND... *** Warning - bad CRC, using default environment

Loading Environment from SPI Flash... unrecognized JEDEC id bytes: ff, a1, e4
uclass_get_device: Invalid bus 0 (err=-2)
In:    serial
Out:   serial
Err:   serial
Current chip type: AX620Q_CHIP
Current board type: AX620Q_LP4_DEMO_V1_1
boot_reason:0x0
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
selecting mode MMC legacy (freq : 0 MHz)
Card did not respond to voltage select!
mmc_init: -95, time 24
no sd card
enter normal boot mode
boot_info_data.mode = 7
Net:   
Warning: ethernet@0x104C0000 (eth0) using random MAC address - 3e:14:21:c6:1c:5c
eth0: ethernet@0x104C0000  
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
Detected MACID:e4:f1:4c:77:66:ba
Detected ETH1 MACID:e4:f1:4c:77:66:ba
Press Ctrl+B to abort autoboot in 2 seconds
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
ax_shutdown_ephy:0x410021d1
enter do_axera_boot
reading kernel image size 0x700000 from spi nand flash ...
bondopt secureboot bit is enable:1, key_bits:2048
CACHE: Misaligned operation at range [4fbadb4c, 4fbadcd8]
total kernel image size = 6151640
>>> * kernel image verify success! * <<< 
header_info.blk_num=17, isize=6151640, osize=8629099, tile_cnt=12, last_tile_size=474568
boot cmd is :bootm 0x4e000000#conf-1
## Loading kernel from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'kernel' kernel subimage
     Description:  Axera Linux kernel
     Type:         Kernel Image
     Compression:  uncompressed
     Data Start:   0x4e0000e4
     Data Size:    8485640 Bytes = 8.1 MiB
     Architecture: ARM
     OS:           Linux
     Load Address: 0x40008000
     Entry Point:  0x40008000
   Verifying Hash Integrity ... OK
## Loading fdt from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'fdt-1' fdt subimage
     Description:  Flattened Device Tree blob
     Type:         Flat Device Tree
     Compression:  uncompressed
     Data Start:   0x4e817c9c
     Data Size:    141709 Bytes = 138.4 KiB
     Architecture: ARM
     Load Address: 0x42008000
   Verifying Hash Integrity ... OK
   Loading fdt from 0x4e817c9c to 0x42008000
   Booting using the fdt blob at 0x42008000
   Loading Kernel Image
   Using Device Tree in place at 42008000, end 4202d98c
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 4.19.125 (jenkins@root123) (gcc version 7.5.0 (Linaro GCC 7.5-2019.12)) #1 SMP PREEMPT Mon Jun 17 18:12:19 CST 2024
[    0.000000] CPU: ARMv7 Processor [410fd034] revision 4 (ARMv7), cr=50c5383d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: axera,ax620e
[    0.000000] ENC:0302C5TP;SEN:0302C4XQ;LENS:4801C0G2
[    0.000000] PROTOTYPE_NAME:IPC3624LE-ADF28K-WP
[    0.000000] chip type: 0x1
[    0.000000] memory total: 0x10000000, Media: 0x9000000
[    0.000000] earlycon: uart8250 at MMIO32 0x04880000 (options '')
[    0.000000] bootconsole [uart8250] enabled
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] On node 0 totalpages: 28672
[    0.000000]   Normal zone: 224 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 28672 pages, LIFO batch:7
[    0.000000] percpu: Embedded 18 pages/cpu s44236 r8192 d21300 u73728
[    0.000000] pcpu-alloc: s44236 r8192 d21300 u73728 alloc=18*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 28448
[    0.000000] Kernel command line: mem=112M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Memory: 104156K/114688K available (3967K kernel code, 222K rwdata, 1384K rodata, 2516K init, 396K bss, 10532K reserved, 0K cma-reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
[    0.000000]     vmalloc : 0xc7800000 - 0xff800000   ( 896 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xc7000000   ( 112 MB)
[    0.000000]     modules : 0xbf800000 - 0xc0000000   (   8 MB)
[    0.000000]       .text : 0x(ptrval) - 0x(ptrval)   (3969 kB)
[    0.000000]       .init : 0x(ptrval) - 0x(ptrval)   (2516 kB)
[    0.000000]       .data : 0x(ptrval) - 0x(ptrval)   ( 223 kB)
[    0.000000]        .bss : 0x(ptrval) - 0x(ptrval)   ( 397 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Tasks RCU enabled.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000005] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.008020] Switching to timer-based delay loop, resolution 41ns
[    0.016590] Console: colour dummy device 80x30
[    0.021066] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=120000)
[    0.031439] pid_max: default: 32768 minimum: 301
[    0.036155] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.042787] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.050239] CPU: Testing write buffer coherency: ok
[    0.055378] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091138] Setting up static identity map for 0x40008240 - 0x40008278
[    0.107703] rcu: Hierarchical SRCU implementation.
[    0.127733] smp: Bringing up secondary CPUs ...
[    0.157953] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.158051] smp: Brought up 1 node, 2 CPUs
[    0.167841] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.174035] CPU: All CPU(s) started in SVC mode.
[    0.179239] devtmpfs: initialized
[    0.210122] random: get_random_u32 called from bucket_table_alloc+0x63/0x118 with crng_init=0
[    0.218845] VFP support v0.3: implementor 41 architecture 3 part 40 variant 3 rev 4
[    0.226708] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 9556302231375000 ns
[    0.236477] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.242705] pinctrl core: initialized pinctrl subsystem
[    0.248195] NET: Registered protocol family 16
[    0.252931] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.260671] ax_pin_init ret 0 index 7
[    0.265895] console [pstore-1] enabled
[    0.269651] pstore: Registered ramoops as persistent store backend
[    0.275851] ramoops: attached 0x8000@0x41000000, ecc: 0/0
[    0.293924] SCSI subsystem initialized
[    0.297839] usbcore: registered new interface driver usbfs
[    0.303386] usbcore: registered new interface driver hub
[    0.308761] usbcore: registered new device driver usb
[    0.314458] pps_core: LinuxPPS API ver. 1 registered
[    0.319447] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.328609] PTP clock support registered
[    0.332753] Advanced Linux Sound Architecture Driver Initialized.
[    0.339948] dma_per 48a0000.dma_per: Axera DMA Peripherals Controller, 16 channels
[    0.347953] dma:ax_dma_probe:1605: done
[    0.352161] clocksource: Switched to clocksource arch_sys_counter
[    0.362822] NET: Registered protocol family 2
[    0.367657] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes)
[    0.375360] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.382355] TCP bind hash table entries: 1024 (order: 1, 8192 bytes)
[    0.388743] TCP: Hash tables configured (established 1024 bind 1024)
[    0.395166] UDP hash table entries: 256 (order: 1, 8192 bytes)
[    0.401032] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)
[    0.407410] NET: Registered protocol family 1
[    0.412066] RPC: Registered named UNIX socket transport module.
[    0.418013] RPC: Registered udp transport module.
[    0.422734] RPC: Registered tcp transport module.
[    0.427451] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.543014] workingset: timestamp_bits=30 max_order=15 bucket_order=0
[    0.553611] axera_logctl_init: of_find_compatible_node 'axera,logctl' success!!!
[    0.553617] axera_logctl_init: of_find_compatible_node config: /etc/ax_syslog.conf
[    0.561090] axera_logctl_init: logstate:1 1 len:2
[    0.573412] axera_logctl_init: loglevel:4 4 len:2
[    0.578361] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.584685] NFS: Registering the id_resolver key type
[    0.589773] Key type id_resolver registered
[    0.593969] Key type id_legacy registered
[    0.598014] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    0.606893] io scheduler noop registered (default)
[    0.611729] io scheduler mq-deadline registered
[    0.616279] io scheduler kyber registered
[    0.621503] axera-pinctrl 2300000.pinctrl: initialized pinctrl driver
[    0.631723] ax_os_mem_init
[    0.634550] [GZIP][D]: [     1][ax_gzipd_init : 730] enter ax_gzipd_init
[    0.642047] Serial: 8250/16550 driver, 5 ports, IRQ sharing disabled
[    0.649420] console [ttyS0] disabled
[    0.653064] 4880000.ax_uart: ttyS0 at MMIO 0x4880000 (irq = 20, base_baud = 13000000) is a 16550A
[    0.661984] console [ttyS0] enabled
[    0.661984] console [ttyS0] enabled
[    0.668972] bootconsole [uart8250] disabled
[    0.668972] bootconsole [uart8250] disabled
[    0.678554] null: module loaded
[    0.682253] ax_ramdisk_init:can't find ramdisk device tree node
[    0.689139] dw_spi_setup: rx_sample_dly_ns=0x6, chip->rx_sample_dly=0x3
[    0.695917] spi_master spi4: set clk_div=0x4, speed_hz=104000000, dws->max_freq=416000000
[    0.704116] spi_master spi4: set rx_sample_dly=0x3
[    0.708960] spi-nand spi4.0: FudanMicroelec SPI NAND was found.
[    0.714894] spi-nand spi4.0: 128 MiB, block size: 128 KiB, page size: 2048, OOB size: 64
[    0.723497] 13 cmdlinepart partitions found on MTD device spi4.0
[    0.729521] Creating 13 MTD partitions on "spi4.0":
[    0.734412] 0x000000000000-0x000000100000 : "spl"
[    0.740427] 0x000000100000-0x000000180000 : "ddrinit"
[    0.746303] 0x000000180000-0x000000380000 : "uboot"
[    0.753386] 0x000000380000-0x000000400000 : "env"
[    0.758917] 0x000000400000-0x000000a00000 : "calibration"
[    0.770165] 0x000000a00000-0x000000b00000 : "cliinfo"
[    0.776494] 0x000000b00000-0x000001300000 : "config"
[    0.789146] 0x000001300000-0x000001400000 : "runtime"
[    0.795486] 0x000001400000-0x000001a00000 : "cfgbak"
[    0.806308] 0x000001a00000-0x000002100000 : "kernel"
[    0.818037] 0x000002100000-0x000002180000 : "update"
[    0.823873] 0x000002180000-0x000007f80000 : "program"
[    0.915052] 0x000007f80000-0x000008000000 : "other"
[    0.921028] libphy: Fixed MDIO Bus: probed
[    0.925193] tun: Universal TUN/TAP device driver, 1.6
[    0.930486] stmmaceth 104c0000.ethernet: probe axera emac
[    0.936005] stmmaceth 104c0000.ethernet: phy-rst-gpio not configure
[    0.942311] stmmaceth 104c0000.ethernet: emac bus clock: 312MHz
[    0.948274] stmmaceth 104c0000.ethernet: emac phy clock: 25MHz
[    0.954153] stmmaceth 104c0000.ethernet: PTP rate: 50MHz
[    0.959495] stmmaceth 104c0000.ethernet: reset axera emac...
[    0.970177] stmmaceth 104c0000.ethernet: EMAC: select Inner RMII interface, value:0x00000000
[    0.978746] stmmaceth 104c0000.ethernet: User ID: 0x10, Synopsys ID: 0x52
[    0.985551] stmmaceth 104c0000.ethernet: 	DWMAC4/5
[    0.990354] stmmaceth 104c0000.ethernet: DMA HW capability register supported
[    0.997502] stmmaceth 104c0000.ethernet: RX Checksum Offload Engine supported
[    1.004647] stmmaceth 104c0000.ethernet: TX Checksum insertion supported
[    1.011357] stmmaceth 104c0000.ethernet: Wake-Up On Lan supported
[    1.017463] stmmaceth 104c0000.ethernet: TSO supported
[    1.022611] stmmaceth 104c0000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    1.030287] stmmaceth 104c0000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    1.037871] stmmaceth 104c0000.ethernet: USO feature enabled
[    1.043540] stmmaceth 104c0000.ethernet: TSO feature enabled
[    1.049287] libphy: stmmac: probed
[    1.055606] PPP generic driver version 2.4.2
[    1.060030] PPP BSD Compression module registered
[    1.064753] PPP Deflate Compression module registered
[    1.069816] NET: Registered protocol family 24
[    1.074623] axera dwc3 soc:axera_dwc3: axera usb probe
[    1.079953] axera dwc3 soc:axera_dwc3: usb bus clock: 312MHz
[    1.085644] axera dwc3 soc:axera_dwc3: axera usb clk set succeed.
[    1.091772] axera dwc3 soc:axera_dwc3: axera usb reset succeed.
[    1.097965] dwc3 8000000.dwc3: probe later.
[    1.102609] usbcore: registered new interface driver cdc_acm
[    1.108280] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters
[    1.116440] usbcore: registered new interface driver uas
[    1.121800] usbcore: registered new interface driver usb-storage
[    1.127880] usbcore: registered new interface driver usbserial_generic
[    1.134434] usbserial: USB Serial support registered for generic
[    1.176396] rtc_axera 23e0000.rtc-top: rtc core: registered 23e0000.rtc-top as rtc0
[    1.184161] i2c /dev entries driver
[    1.189126] ax_wdt:ax_wdt_drv_probe:346: done!
[    1.189466] sdhci: Secure Digital Host Controller Interface driver
[    1.200130] sdhci: Copyright(c) Pierre Ossman
[    1.204525] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.204613] sdhci-axera 104e0000.sdhc: axera sdhci probe
[    1.210857] usbcore: registered new interface driver usbhid
[    1.217810] get cd gpio failed
[    1.221098] usbhid: USB HID core driver
[    1.229852] dev->intr_type = 0
[    1.232943] dw_i2s_probe, hdmi_i2s: 0
[    1.236709] config pin_sd_misc to 0x300100
[    1.240832] dw_i2s_probe get irq is -6
[    1.244604] IIS get i2s_mclk: 12288000
[    1.248367] IIS get i2s_mclk: 12288000
[    1.252162] IIS probe OK
[    1.254742] dev->intr_type = 1
[    1.257808] dw_i2s_probe, hdmi_i2s: 0
[    1.261528] config pin_sd_misc to 0x300100
[    1.265642] dw_i2s_probe get irq is -6
[    1.269406] IIS get i2s_mclk: 12288000
[    1.273164] IIS get i2s_mclk: 12288000
[    1.276934] IIS probe OK
[    1.279820] ax_actt_probe
[    1.282504] designware-actt 23f2000.audio_codec: No cache used with register defaults set!
[    1.290880] oprofile: hardware counters not available
[    1.292246] mmc0: SDHCI controller on 104e0000.sdhc [104e0000.sdhc] using ADMA 64-bit
[    1.295951] oprofile: using timer interrupt.
[    1.303807] sdhci_cdns_read_phy_reg: phy lock successful
[    1.308700] NET: Registered protocol family 10
[    1.336416] Segment Routing with IPv6
[    1.340225] mip6: Mobile IPv6
[    1.343683] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.350360] NET: Registered protocol family 17
[    1.354899] l2tp_core: L2TP core driver, V2.0
[    1.359279] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[    1.364102] Key type dns_resolver registered
[    1.368554] Registering SWP/SWPB emulation handler
[    1.373359] chip type: AX620Q
[    1.376335] product init ok
[    1.379887] pstore: Using compression: deflate
[    1.385309] i2c_designware 4850000.i2c: running with gpio recovery mode! scl,sda
[    1.392889] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.399040] i2c_designware 4851000.i2c: running with gpio recovery mode! scl,sda
[    1.406574] i2c i2c-1: using pinctrl states for GPIO recovery
[    1.412699] dwc3 8000000.dwc3: dr_mode is 3 (1-host 2-device 3-otg)
[    1.419007] dwc3 8000000.dwc3: EP NUM:16
[    1.423247] actt_component_probe
[    1.423247]  
[    1.423385] bengin actt_set_sysclk
[    1.428192] actt_set_sysclk, freq: 12288000
[    1.435786] actt_set_dai_fmt, fmt: 0x1001
[    1.439804] actt_set_dai_fmt, actt rx only support master fmt_mode: 0x1000
[    1.446688] actt in I2S Format
[    1.449751] dw_i2s_set_fmt, fmt: 0x1001
[    1.454142] asoc-simple-card sound: 23f2000.audio_codec <-> 6051000.i2s_slv mapping ok
[    1.462069] bengin actt_set_sysclk
[    1.462072] actt_set_sysclk, freq: 12288000
[    1.469671] actt_set_dai_fmt, fmt: 0x4001
[    1.473687] actt_set_dai_fmt, actt tx only support salve .fmt_mode: 0x4000
[    1.480568] actt in I2S Format
[    1.483630] dw_i2s_set_fmt, fmt: 0x4001
[    1.487987] asoc-simple-card sound: 23f2000.audio_codec <-> 6050000.i2s_mst mapping ok
[    1.496102] dwc3 8000000.dwc3: axera usb gadget init
[    1.512770] rtc_axera 23e0000.rtc-top: setting system clock to 1970-01-01 08:00:00 UTC (28800)
[    1.521812] OF: fdt: not creating '/sys/firmware/fdt': CRC check failed
[    1.528702] ALSA device list:
[    1.531673]   #0: Axera Audio
[    1.534812] ttyS0 - failed to request DMA
[    1.540756] Freeing unused kernel memory: 2516K
[    1.545298] This architecture does not have kernel memory protection.
[    1.551747] Run /init as init process
[RCS]: /etc/init.d/S11init
mount: mounting debugfs on /sys/kernel/debug failed: No such file or directory
[RCS]: /etc/init.d/S30ambrwfs
cp: can't stat '/root/*': No such file or directory
[    1.855846] ubi0: default fastmap pool size: 35
[    1.860438] ubi0: default fastmap WL pool size: 17
[    1.865516] ubi0: attaching mtd12
[    1.911864] random: fast init done
[    2.139068] ubi0: scanning is finished
[    2.153385] ubi0: attached mtd12 (name "program", size 94 MiB)
[    2.159253] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.166144] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.172949] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.179923] ubi0: good PEBs: 751, bad PEBs: 1, corrupted PEBs: 0
[    2.185941] ubi0: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.193180] ubi0: max/mean erase counter: 4/1, WL threshold: 4096, image sequence number: 1390195764
[    2.202327] ubi0: available PEBs: 0, total reserved PEBs: 751, PEBs reserved for bad PEB handling: 15
[    2.211599] ubi0: background thread "ubi_bgt0d" started, PID 169
UBI device number 0, total 751 LEBs (95358976 bytes, 90.9 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
u[    2.228101] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" started, PID 176
bi0_0 exist.
create Directory:/program
df: /dev/pts: No such file or directory
    mount -t ubifs ubi0:program /program 
[    2.258697] UBIFS (ubi0:0): recovery needed
[    2.317191] UBIFS (ubi0:0): recovery completed
[    2.321666] UBIFS (ubi0:0): UBIFS: mounted UBI device 0, volume 0, name "program"
[    2.329170] UBIFS (ubi0:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.339102] UBIFS (ubi0:0): FS size: 91295744 bytes (87 MiB, 719 LEBs), journal size 9023488 bytes (8 MiB, 72 LEBs)
[    2.349551] UBIFS (ubi0:0): reserved for root: 0 bytes (0 KiB)
[    2.355397] UBIFS (ubi0:0): media format: w4/r0 (latest is w5/r0), UUID 5AA93821-CE3B-42DF-8B4C-323281550D45, small LPT model
[    2.383982] ubi1: default fastmap pool size: 8
[    2.388520] ubi1: default fastmap WL pool size: 4
[    2.393243] ubi1: attaching mtd7
[    2.419647] ubi1: scanning is finished
[    2.433389] ubi1: attached mtd7 (name "config", size 8 MiB)
[    2.438998] ubi1: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.445905] ubi1: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.452718] ubi1: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.459700] ubi1: good PEBs: 64, bad PEBs: 0, corrupted PEBs: 0
[    2.465638] ubi1: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.472884] ubi1: max/mean erase counter: 24/14, WL threshold: 4096, image sequence number: 3376025183
[    2.482212] ubi1: available PEBs: 0, total reserved PEBs: 64, PEBs reserved for bad PEB handling: 4
[    2.491283] ubi1: background thread "ubi_bgt1d" started, PID 186
UBI device number 1, total 64 LEBs (8126464 bytes, 7.7 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi1[    2.507830] UBIFS (ubi1:0): background thread "ubifs_bgt1_0" started, PID 193
_0 exist.
create Directory:/config
df: /dev/pts: No such file or directory
    mount -t ubifs ubi1:config /config 
[    2.539345] UBIFS (ubi1:0): recovery needed
[    2.637188] UBIFS (ubi1:0): recovery completed
[    2.641663] UBIFS (ubi1:0): UBIFS: mounted UBI device 1, volume 0, name "config"
[    2.649106] UBIFS (ubi1:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.659037] UBIFS (ubi1:0): FS size: 5586944 bytes (5 MiB, 44 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    2.669139] UBIFS (ubi1:0): reserved for root: 263884 bytes (257 KiB)
[    2.675593] UBIFS (ubi1:0): media format: w5/r0 (latest is w5/r0), UUID 6D0233DC-6B50-42EA-8560-1142E2371A7A, small LPT model
[    2.703929] ubi2: default fastmap pool size: 8
[    2.708464] ubi2: default fastmap WL pool size: 4
[    2.713343] ubi2: attaching mtd9
[    2.733826] ubi2: scanning is finished
[    2.747550] ubi2: attached mtd9 (name "cfgbak", size 6 MiB)
[    2.753155] ubi2: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.760045] ubi2: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.766846] ubi2: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.773824] ubi2: good PEBs: 48, bad PEBs: 0, corrupted PEBs: 0
[    2.779754] ubi2: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.786990] ubi2: max/mean erase counter: 24/13, WL threshold: 4096, image sequence number: 1034400906
[    2.796311] ubi2: available PEBs: 0, total reserved PEBs: 48, PEBs reserved for bad PEB handling: 4
[    2.805385] ubi2: background thread "ubi_bgt2d" started, PID 203
UBI device number 2, total 48 LEBs (6094848 bytes, 5.8 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi2[    2.822003] UBIFS (ubi2:0): background thread "ubifs_bgt2_0" started, PID 210
_0 exist.
create Directory:/cfgbak
df: /dev/pts: No such file or directory
    mount -t ubifs ubi2:cfgbak /cfgbak 
[    2.852418] UBIFS (ubi2:0): recovery needed
[    2.933035] UBIFS (ubi2:0): recovery completed
[    2.937516] UBIFS (ubi2:0): UBIFS: mounted UBI device 2, volume 0, name "cfgbak"
[    2.944925] UBIFS (ubi2:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.954855] UBIFS (ubi2:0): FS size: 3555328 bytes (3 MiB, 28 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    2.964956] UBIFS (ubi2:0): reserved for root: 167926 bytes (163 KiB)
[    2.971410] UBIFS (ubi2:0): media format: w5/r0 (latest is w5/r0), UUID 53E3460B-080A-4FEE-AEE2-4B0AFEB51CC3, small LPT model
[    2.999683] ubi3: default fastmap pool size: 8
[    3.004221] ubi3: default fastmap WL pool size: 4
[    3.008945] ubi3: attaching mtd5
[    3.029647] ubi3: scanning is finished
[    3.040857] ubi3: attached mtd5 (name "calibration", size 6 MiB)
[    3.046909] ubi3: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    3.053804] ubi3: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    3.060604] ubi3: VID header offset: 2048 (aligned 2048), data offset: 4096
[    3.067581] ubi3: good PEBs: 48, bad PEBs: 0, corrupted PEBs: 0
[    3.073556] ubi3: user volume: 1, internal volumes: 1, max. volumes count: 128
[    3.080793] ubi3: max/mean erase counter: 6/2, WL threshold: 4096, image sequence number: 3091558067
[    3.089941] ubi3: available PEBs: 0, total reserved PEBs: 48, PEBs reserved for bad PEB handling: 4
[    3.099015] ubi3: background thread "ubi_bgt3d" started, PID 220
UBI device number 3, total 48 LEBs (6094848 bytes, 5.8 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi3[    3.113283] UBIFS (ubi3:0): background thread "ubifs_bgt3_0" started, PID 226
_0 exist.
    /calibration exists
df: /dev/pts: No such file or directory
    mount -t ubifs ubi3:calibration /calibration 
[    3.145943] UBIFS (ubi3:0): recovery needed
[    3.203069] UBIFS (ubi3:0): recovery completed
[    3.207550] UBIFS (ubi3:0): UBIFS: mounted UBI device 3, volume 0, name "calibration"
[    3.215393] UBIFS (ubi3:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    3.225323] UBIFS (ubi3:0): FS size: 3555328 bytes (3 MiB, 28 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    3.235424] UBIFS (ubi3:0): reserved for root: 167926 bytes (163 KiB)
[    3.241878] UBIFS (ubi3:0): media format: w5/r0 (latest is w5/r0), UUID BF7BD558-BC9A-4D8D-B2C4-EE4F6925CECD, small LPT model
[    3.277725] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" stops
[    6.217193] random: crng init done
verify signature fail, exit!
[    6.249919] UBIFS (ubi0:0): un-mount UBI device 0
can't run '/program/bin/init.sh': No such file or directory

root login: q q [    äV3N2C0N2C0RS

U-Boot 2020.04-00011-gddf6f040-dirty (Jun 17 2024 - 18:12:02 +0800), Build: jenkins-Compile_64ä½(10.188.40.119)-7385

U-Boot code: 5C000400 -> 5C095BEC  BSS: -> 5C0BD52C
Model: AXERA AX620E_Qnand Board
DRAM:  Monitor len: 000BD12C
Ram size: 10000000
Ram top: 50000000
TLB table from 4fff0000 to 4fff4000
Reserving 756k for U-Boot at: 4ff32000
Reserving 3584k for malloc() at: 4fbb2000
Reserving 96 Bytes for Board Info at: 4fbb1fa0
Reserving 216 Bytes for Global Data at: 4fbb1ec8
Reserving 14400 Bytes for FDT at: 4fbae688

RAM Configuration:
Bank #0: 40000000 
DRAM:  256 MiB
New Stack Pointer is: 4fbae660
Relocation Offset is: f3f31c00
Relocating to 4ff32000, new gd at 4fbb1ec8, sp at 4fbae660
WARNING: Caches not enabled
ax_adc_probe
No available THERMAL device
MMC:   mmc@1B40000: 0, mmc@104E0000: 1
NAND:  128 MiB
Loading Environment from NAND... *** Warning - bad CRC, using default environment

Loading Environment from SPI Flash... unrecognized JEDEC id bytes: ff, a1, e4
uclass_get_device: Invalid bus 0 (err=-2)
In:    serial
Out:   serial
Err:   serial
Current chip type: AX620Q_CHIP
Current board type: AX620Q_LP4_DEMO_V1_1
boot_reason:0x0
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
selecting mode MMC legacy (freq : 0 MHz)
Card did not respond to voltage select!
mmc_init: -95, time 25
no sd card
enter normal boot mode
boot_info_data.mode = 7
Net:   
Warning: ethernet@0x104C0000 (eth0) using random MAC address - 26:db:a8:f0:90:a5
eth0: ethernet@0x104C0000  
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
Detected MACID:e4:f1:4c:77:66:ba
Detected ETH1 MACID:e4:f1:4c:77:66:ba
Press Ctrl+B to abort autoboot in 2 seconds
uboot #  setenv bootargs bootargs=mem=107M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc single mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
uboot # boot
ax_shutdown_ephy:0x410021d1
enter do_axera_boot
reading kernel image size 0x700000 from spi nand flash ...
bondopt secureboot bit is enable:1, key_bits:2048
CACHE: Misaligned operation at range [4fbad324, 4fbad4b0]
total kernel image size = 6151640
>>> * kernel image verify success! * <<< 
header_info.blk_num=17, isize=6151640, osize=8629099, tile_cnt=12, last_tile_size=474568
boot cmd is :bootm 0x4e000000#conf-1
## Loading kernel from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'kernel' kernel subimage
     Description:  Axera Linux kernel
     Type:         Kernel Image
     Compression:  uncompressed
     Data Start:   0x4e0000e4
     Data Size:    8485640 Bytes = 8.1 MiB
     Architecture: ARM
     OS:           Linux
     Load Address: 0x40008000
     Entry Point:  0x40008000
   Verifying Hash Integrity ... OK
## Loading fdt from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'fdt-1' fdt subimage
     Description:  Flattened Device Tree blob
     Type:         Flat Device Tree
     Compression:  uncompressed
     Data Start:   0x4e817c9c
     Data Size:    141709 Bytes = 138.4 KiB
     Architecture: ARM
     Load Address: 0x42008000
   Verifying Hash Integrity ... OK
   Loading fdt from 0x4e817c9c to 0x42008000
   Booting using the fdt blob at 0x42008000
   Loading Kernel Image
   Using Device Tree in place at 42008000, end 4202d98c
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 4.19.125 (jenkins@root123) (gcc version 7.5.0 (Linaro GCC 7.5-2019.12)) #1 SMP PREEMPT Mon Jun 17 18:12:19 CST 2024
[    0.000000] CPU: ARMv7 Processor [410fd034] revision 4 (ARMv7), cr=50c5383d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: axera,ax620e
[    0.000000] ENC:0302C5TP;SEN:0302C4XQ;LENS:4801C0G2
[    0.000000] PROTOTYPE_NAME:IPC3624LE-ADF28K-WP
[    0.000000] chip type: 0x1
[    0.000000] memory total: 0x10000000, Media: 0x9000000
[    0.000000] earlycon: uart8250 at MMIO32 0x04880000 (options '')
[    0.000000] bootconsole [uart8250] enabled
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] Ignoring RAM at 0x70000000-0x80000000
[    0.000000] Consider using a HIGHMEM enabled kernel.
[    0.000000] On node 0 totalpages: 196608
[    0.000000]   Normal zone: 1536 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 196608 pages, LIFO batch:63
[    0.000000] percpu: Embedded 18 pages/cpu s44236 r8192 d21300 u73728
[    0.000000] pcpu-alloc: s44236 r8192 d21300 u73728 alloc=18*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 195072
[    0.000000] Kernel command line: bootargs=mem=112M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc single mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
[    0.000000] Dentry cache hash table entries: 131072 (order: 7, 524288 bytes)
[    0.000000] Inode-cache hash table entries: 65536 (order: 6, 262144 bytes)
[    0.000000] Memory: 769980K/786432K available (3967K kernel code, 222K rwdata, 1384K rodata, 2516K init, 396K bss, 16452K reserved, 0K cma-reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
[    0.000000]     vmalloc : 0xf0800000 - 0xff800000   ( 240 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xf0000000   ( 768 MB)
[    0.000000]     modules : 0xbf800000 - 0xc0000000   (   8 MB)
[    0.000000]       .text : 0x(ptrval) - 0x(ptrval)   (3969 kB)
[    0.000000]       .init : 0x(ptrval) - 0x(ptrval)   (2516 kB)
[    0.000000]       .data : 0x(ptrval) - 0x(ptrval)   ( 223 kB)
[    0.000000]        .bss : 0x(ptrval) - 0x(ptrval)   ( 397 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Tasks RCU enabled.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000004] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.008019] Switching to timer-based delay loop, resolution 41ns
[    0.016603] Console: colour dummy device 80x30
[    0.021079] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=120000)
[    0.031451] pid_max: default: 32768 minimum: 301
[    0.036176] Mount-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.042810] Mountpoint-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.050267] CPU: Testing write buffer coherency: ok
[    0.055410] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091171] Setting up static identity map for 0x40008240 - 0x40008278
[    0.107737] rcu: Hierarchical SRCU implementation.
[    0.127766] smp: Bringing up secondary CPUs ...
[    0.157984] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.158082] smp: Brought up 1 node, 2 CPUs
[    0.167873] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.174068] CPU: All CPU(s) started in SVC mode.
[    0.179372] devtmpfs: initialized
[    0.210242] random: get_random_u32 called from bucket_table_alloc+0x63/0x118 with crng_init=0
[    0.218984] VFP support v0.3: implementor 41 architecture 3 part 40 variant 3 rev 4
[    0.226850] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 9556302231375000 ns
[    0.236619] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.242844] pinctrl core: initialized pinctrl subsystem
[    0.248332] NET: Registered protocol family 16
[    0.253097] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.260852] ax_pin_init ret 0 index 7
[    0.266069] console [pstore-1] enabled
[    0.269825] pstore: Registered ramoops as persistent store backend
[    0.276024] ramoops: attached 0x8000@0x41000000, ecc: 0/0
[    0.294118] SCSI subsystem initialized
[    0.298035] usbcore: registered new interface driver usbfs
[    0.303581] usbcore: registered new interface driver hub
[    0.308955] usbcore: registered new device driver usb
[    0.314645] pps_core: LinuxPPS API ver. 1 registered
[    0.319634] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.328796] PTP clock support registered
[    0.332936] Advanced Linux Sound Architecture Driver Initialized.
[    0.340124] dma_per 48a0000.dma_per: Axera DMA Peripherals Controller, 16 channels
[    0.348147] dma:ax_dma_probe:1605: done
[    0.352371] clocksource: Switched to clocksource arch_sys_counter
[    0.363025] NET: Registered protocol family 2
[    0.367855] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes)
[    0.375565] TCP established hash table entries: 8192 (order: 3, 32768 bytes)
[    0.382698] TCP bind hash table entries: 8192 (order: 4, 65536 bytes)
[    0.389267] TCP: Hash tables configured (established 8192 bind 8192)
[    0.395700] UDP hash table entries: 512 (order: 2, 16384 bytes)
[    0.401664] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
[    0.408142] NET: Registered protocol family 1
[    0.412805] RPC: Registered named UNIX socket transport module.
[    0.418751] RPC: Registered udp transport module.
[    0.423468] RPC: Registered tcp transport module.
[    0.428184] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.543791] workingset: timestamp_bits=30 max_order=18 bucket_order=0
[    0.554374] axera_logctl_init: of_find_compatible_node 'axera,logctl' success!!!
[    0.554380] axera_logctl_init: of_find_compatible_node config: /etc/ax_syslog.conf
[    0.561849] axera_logctl_init: logstate:1 1 len:2
[    0.574176] axera_logctl_init: loglevel:4 4 len:2
[    0.579131] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.585438] NFS: Registering the id_resolver key type
[    0.590524] Key type id_resolver registered
[    0.594720] Key type id_legacy registered
[    0.598764] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    0.607657] io scheduler noop registered (default)
[    0.612480] io scheduler mq-deadline registered
[    0.617018] io scheduler kyber registered
[    0.622254] axera-pinctrl 2300000.pinctrl: initialized pinctrl driver
[    0.632525] ax_os_mem_init
[    0.635316] [GZIP][D]: [     1][ax_gzipd_init : 730] enter ax_gzipd_init
[    0.642836] Serial: 8250/16550 driver, 5 ports, IRQ sharing disabled
[    0.650206] console [ttyS0] disabled
[    0.653849] 4880000.ax_uart: ttyS0 at MMIO 0x4880000 (irq = 20, base_baud = 13000000) is a 16550A
[    0.662772] console [ttyS0] enabled
[    0.662772] console [ttyS0] enabled
[    0.669757] bootconsole [uart8250] disabled
[    0.669757] bootconsole [uart8250] disabled
[    0.679334] null: module loaded
[    0.683015] ax_ramdisk_init:can't find ramdisk device tree node
[    0.689916] dw_spi_setup: rx_sample_dly_ns=0x6, chip->rx_sample_dly=0x3
[    0.696697] spi_master spi4: set clk_div=0x4, speed_hz=104000000, dws->max_freq=416000000
[    0.704896] spi_master spi4: set rx_sample_dly=0x3
[    0.709739] spi-nand spi4.0: FudanMicroelec SPI NAND was found.
[    0.715673] spi-nand spi4.0: 128 MiB, block size: 128 KiB, page size: 2048, OOB size: 64
[    0.724285] 13 cmdlinepart partitions found on MTD device spi4.0
[    0.730307] Creating 13 MTD partitions on "spi4.0":
[    0.735199] 0x000000000000-0x000000100000 : "spl"
[    0.741221] 0x000000100000-0x000000180000 : "ddrinit"
[    0.747096] 0x000000180000-0x000000380000 : "uboot"
[    0.754186] 0x000000380000-0x000000400000 : "env"
[    0.759717] 0x000000400000-0x000000a00000 : "calibration"
[    0.770942] 0x000000a00000-0x000000b00000 : "cliinfo"
[    0.777281] 0x000000b00000-0x000001300000 : "config"
[    0.789923] 0x000001300000-0x000001400000 : "runtime"
[    0.796273] 0x000001400000-0x000001a00000 : "cfgbak"
[    0.807081] 0x000001a00000-0x000002100000 : "kernel"
[    0.818809] 0x000002100000-0x000002180000 : "update"
[    0.824657] 0x000002180000-0x000007f80000 : "program"
[    0.915858] 0x000007f80000-0x000008000000 : "other"
[    0.921832] libphy: Fixed MDIO Bus: probed
[    0.925996] tun: Universal TUN/TAP device driver, 1.6
[    0.931287] stmmaceth 104c0000.ethernet: probe axera emac
[    0.936800] stmmaceth 104c0000.ethernet: phy-rst-gpio not configure
[    0.943104] stmmaceth 104c0000.ethernet: emac bus clock: 312MHz
[    0.949067] stmmaceth 104c0000.ethernet: emac phy clock: 25MHz
[    0.954946] stmmaceth 104c0000.ethernet: PTP rate: 50MHz
[    0.960288] stmmaceth 104c0000.ethernet: reset axera emac...
[    0.970973] stmmaceth 104c0000.ethernet: EMAC: select Inner RMII interface, value:0x00000000
[    0.979542] stmmaceth 104c0000.ethernet: User ID: 0x10, Synopsys ID: 0x52
[    0.986347] stmmaceth 104c0000.ethernet: 	DWMAC4/5
[    0.991151] stmmaceth 104c0000.ethernet: DMA HW capability register supported
[    0.998299] stmmaceth 104c0000.ethernet: RX Checksum Offload Engine supported
[    1.005444] stmmaceth 104c0000.ethernet: TX Checksum insertion supported
[    1.012155] stmmaceth 104c0000.ethernet: Wake-Up On Lan supported
[    1.018261] stmmaceth 104c0000.ethernet: TSO supported
[    1.023410] stmmaceth 104c0000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    1.031086] stmmaceth 104c0000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    1.038670] stmmaceth 104c0000.ethernet: USO feature enabled
[    1.044339] stmmaceth 104c0000.ethernet: TSO feature enabled
[    1.050085] libphy: stmmac: probed
[    1.056397] PPP generic driver version 2.4.2
[    1.060817] PPP BSD Compression module registered
[    1.065539] PPP Deflate Compression module registered
[    1.070603] NET: Registered protocol family 24
[    1.075405] axera dwc3 soc:axera_dwc3: axera usb probe
[    1.080734] axera dwc3 soc:axera_dwc3: usb bus clock: 312MHz
[    1.086424] axera dwc3 soc:axera_dwc3: axera usb clk set succeed.
[    1.092560] axera dwc3 soc:axera_dwc3: axera usb reset succeed.
[    1.098748] dwc3 8000000.dwc3: probe later.
[    1.103392] usbcore: registered new interface driver cdc_acm
[    1.109064] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters
[    1.117224] usbcore: registered new interface driver uas
[    1.122586] usbcore: registered new interface driver usb-storage
[    1.128662] usbcore: registered new interface driver usbserial_generic
[    1.135216] usbserial: USB Serial support registered for generic
[    1.177172] rtc_axera 23e0000.rtc-top: rtc core: registered 23e0000.rtc-top as rtc0
[    1.184932] i2c /dev entries driver
[    1.189876] ax_wdt:ax_wdt_drv_probe:346: done!
[    1.190218] sdhci: Secure Digital Host Controller Interface driver
[    1.200882] sdhci: Copyright(c) Pierre Ossman
[    1.205272] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.205360] sdhci-axera 104e0000.sdhc: axera sdhci probe
[    1.211594] usbcore: registered new interface driver usbhid
[    1.218563] get cd gpio failed
[    1.221844] usbhid: USB HID core driver
[    1.230585] dev->intr_type = 0
[    1.233676] dw_i2s_probe, hdmi_i2s: 0
[    1.237454] config pin_sd_misc to 0x300100
[    1.241564] dw_i2s_probe get irq is -6
[    1.245336] IIS get i2s_mclk: 12288000
[    1.249100] IIS get i2s_mclk: 12288000
[    1.252893] IIS probe OK
[    1.255473] dev->intr_type = 1
[    1.258539] dw_i2s_probe, hdmi_i2s: 0
[    1.262257] config pin_sd_misc to 0x300100
[    1.266372] dw_i2s_probe get irq is -6
[    1.270136] IIS get i2s_mclk: 12288000
[    1.273894] IIS get i2s_mclk: 12288000
[    1.277671] IIS probe OK
[    1.280546] ax_actt_probe
[    1.283230] designware-actt 23f2000.audio_codec: No cache used with register defaults set!
[    1.291605] oprofile: hardware counters not available
[    1.292455] mmc0: SDHCI controller on 104e0000.sdhc [104e0000.sdhc] using ADMA 64-bit
[    1.296675] oprofile: using timer interrupt.
[    1.304530] sdhci_cdns_read_phy_reg: phy lock successful
[    1.309420] NET: Registered protocol family 10
[    1.336485] Segment Routing with IPv6
[    1.340294] mip6: Mobile IPv6
[    1.343747] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.350412] NET: Registered protocol family 17
[    1.354951] l2tp_core: L2TP core driver, V2.0
[    1.359329] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[    1.364149] Key type dns_resolver registered
[    1.368615] Registering SWP/SWPB emulation handler
[    1.373421] chip type: AX620Q
[    1.376397] product init ok
[    1.379937] pstore: Using compression: deflate
[    1.385349] i2c_designware 4850000.i2c: running with gpio recovery mode! scl,sda
[    1.392921] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.399072] i2c_designware 4851000.i2c: running with gpio recovery mode! scl,sda
[    1.406604] i2c i2c-1: using pinctrl states for GPIO recovery
[    1.412725] dwc3 8000000.dwc3: dr_mode is 3 (1-host 2-device 3-otg)
[    1.419032] dwc3 8000000.dwc3: EP NUM:16
[    1.423267] actt_component_probe
[    1.423267]  
[    1.423404] bengin actt_set_sysclk
[    1.428211] actt_set_sysclk, freq: 12288000
[    1.435805] actt_set_dai_fmt, fmt: 0x1001
[    1.439824] actt_set_dai_fmt, actt rx only support master fmt_mode: 0x1000
[    1.446706] actt in I2S Format
[    1.449768] dw_i2s_set_fmt, fmt: 0x1001
[    1.454158] asoc-simple-card sound: 23f2000.audio_codec <-> 6051000.i2s_slv mapping ok
[    1.462087] bengin actt_set_sysclk
[    1.462090] actt_set_sysclk, freq: 12288000
[    1.469688] actt_set_dai_fmt, fmt: 0x4001
[    1.473706] actt_set_dai_fmt, actt tx only support salve .fmt_mode: 0x4000
[    1.480587] actt in I2S Format
[    1.483649] dw_i2s_set_fmt, fmt: 0x4001
[    1.488004] asoc-simple-card sound: 23f2000.audio_codec <-> 6050000.i2s_mst mapping ok
[    1.496115] dwc3 8000000.dwc3: axera usb gadget init
[    1.512774] rtc_axera 23e0000.rtc-top: setting system clock to 1970-01-01 08:00:00 UTC (28800)
[    1.521818] OF: fdt: not creating '/sys/firmware/fdt': CRC check failed
[    1.528711] ALSA device list:
[    1.531681]   #0: Axera Audio
[    1.534818] ttyS0 - failed to request DMA
[    1.540682] Freeing unused kernel memory: 2516K
[    1.545225] This architecture does not have kernel memory protection.
[    1.551674] Run /init as init process
root@(none):~# cd ..
root@(none):~# ls
[1;34mbin[m          [1;34mhome[m         [1;36mlinuxrc[m      [1;34mroot[m         [1;34musr[m
[1;34mcalibration[m  [1;36minit[m         [1;34mmnt[m          [1;34msbin[m         [1;34mvar[m
[1;34mdev[m          [1;34mlib[m          [1;36mopt[m          [1;34msys[m          [1;36mwww[m
[1;34metc[m          [1;36mlib64[m        [1;34mproc[m         [1;34mtmp[m
root@(none):~# cd caliroot@(none):~# cd calibration/[J
root@(none):/calibration# ls
root@(none):/calibration# cd ..
root@(none):~# cd [J[J[J[   19.247823] random: fast init done
^C

root@(none):~# mkdir -p /dev/shm
ts
mount -a

/sbin/mdev -sroot@(none):~# mkdir -p /dev/pts
root@(none):~# mount -a
cat /proc/mtd | grep "program" | awk '{print $1}' | sed -e s/mtd// | sed -emount: mounting debugfs on /sys/kernel/debug failed: No such file or directory
root@(none):~# 
root@(none):~# /sbin/mdev -s
 s/\://)
UbiNum=0
BabReserved=16

ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved

mkdir /program
mount -t ubifs ubi0:program -o sync /programroot@(none):~# 
root@(none):~# MtdNum=$(cat /proc/mtd | grep "program" | awk '{print $1}' | sed 
-e s/mtd// | sed -e s/\://)
root@(none):~# UbiNum=0
root@(none):~# BabReserved=16
[   24.904637] ubi0: default fastmap pool size: 35
root@(none):~# 
root@(none):~# ubiattach /dev/ubi_ctrl -m $MtdN[   24.910824] ubi0: default fastmap WL pool size: 17
um -d $UbiNum -b $BabReserved
[   24.921142] ubi0: attaching mtd12
[   25.194397] ubi0: scanning is finished
[   25.203479] ubi0: attached mtd12 (name "program", size 94 MiB)
[   25.209345] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[   25.216232] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[   25.223033] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096
[   25.230005] ubi0: good PEBs: 751, bad PEBs: 1, corrupted PEBs: 0
[   25.236021] ubi0: user volume: 1, internal volumes: 1, max. volumes count: 128
[   25.243257] ubi0: max/mean erase counter: 4/1, WL threshold: 4096, image sequence number: 1390195764
[   25.252404] ubi0: available PEBs: 0, total reserved PEBs: 751, PEBs reserved for bad PEB handling: 15
[   25.261642] ubi0: background thread "ubi_bgt0d" started, PID 96
UBI device number 0, total 751 LEBs (95358976 bytes, 90.9 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
root@(none):~# 
root@(none):~# mkdir /program
root@(none):~# mount -t ubifs ubi0:program -o sync /program
[   26.015623] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" started, PID 99
[   26.073078] UBIFS (ubi0:0): UBIFS: mounted UBI device 0, volume 0, name "program"
[   26.080592] UBIFS (ubi0:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[   26.090523] UBIFS (ubi0:0): FS size: 91295744 bytes (87 MiB, 719 LEBs), journal size 9023488 bytes (8 MiB, 72 LEBs)
[   26.100971] UBIFS (ubi0:0): reserved for root: 0 bytes (0 KiB)
[   26.106817] UBIFS (ubi0:0): media format: w4/r0 (latest is w5/r0), UUID 5AA93821-CE3B-42DF-8B4C-323281550D45, small LPT model
root@(none):~# cd proroot@(none):~# cd pro[J
-/bin/sh: cd: can't cd to pro: No such file or directory
root@(none):~# cd p[J/proroot@(none):~# cd /pro[Jgram
root@(none):/program# ^C

root@(none):/program# ls
[1;34mbin[m      [1;34mfactory[m  [1;34mlib[m      [1;34mmodules[m  [1;34mopt[m      [1;34mserver[m   [1;34mwww[m
root@(none):/program# cd binroot@(none):/program# cd bin/[J
root@(none):/program/bin# ls
[1;32mCalibPoly_new.bin[m
[1;32mDelConfig.sh[m
[1;32mM=EISSw=Move=+0000,+0216,Rotate=+000,RI=3840x2160,RO=3072x1728,Grid=32x32.json[m
[1;32mMainFrame_sawtooth_optimize.txt[m
[1;32mSubFrame_Divp_sawtooth_optimize.txt[m
[1;32mSubFrame_sawtooth_optimize.txt[m
[1;32m_hide[m
[1;36marptables-compat[m
[1;32mauto_load_all_drv.sh[m
[1;32mautotest[m
[1;32mautotestlog.sh[m
[1;32mcfgtool[m
[1;32mcheck_isp_int.sh[m
[1;32mchecksysready.sh[m
[1;32mcleancfg.sh[m
[1;32mcomm_init[m
[1;32mconfig.cfg[m
[1;32mcontrolgpio.sh[m
[1;32mcreathwinfo.sh[m
[1;32mdaemon[m
[1;32mdhcpcd_mware[m
[1;32mdrop_caches.sh[m
[1;32mdt[m
[1;36mebtables-compat[m
[1;32mfactorymode[m
[1;32mfc95G1.10_SWLUT.txt[m
[1;32mfilelist.txt[m
[1;32mgatherlog.sh[m
[1;32mgetmanuinfo[m
[1;32minit.sh[m
[1;32misp_tool[m
[1;32mittb_control[m
[1;32mkernelsendbuff.sh[m
[1;34mlibs[m
[1;32mloadlensdata[m
[1;32mlocaltime[m
[1;32mmactool[m
[1;32mmaintain[m
[1;32mmanuinfotool[m
[1;32mmma_release.sh[m
[1;32mmountnfs.sh[m
[1;32mmware_init.sh[m
[1;32mmwarecmd.sh[m
[1;32mmwareserver[m
[1;32mnet-snmp-config[m
[1;32mnewvermanuinfo[m
[1;32mnpu_set_bw_limiter.sh[m
[1;32mpanel[m
[1;32mpasswd.sh[m
[1;32mpppd[m
[1;32mprepare_hide.sh[m
[1;32mreboot.sh[m
[1;32mresetconfig.sh[m
[1;32msdformat[m
[1;32msdk_update[m
[1;32msecure_boot[m
[1;32msetconfig.sh[m
[0;0msignature.bin[m
[0;0mspl.bin[m
[1;32mssl_cert.pem[m
[1;32mssl_cert_nobrand.pem[m
[1;32msystemreport.sh[m
[1;32mtmp_update[m
[1;32mtop[m
[1;32mudhcpc_mware[m
[1;32mupdate_http[m
[1;32mupdate_move[m
[1;32mupdatecpld.sh[m
[1;32mupdatespl.sh[m
[1;32mwpa_supplicant[m
root@(none):/program/bin# [H[Jroot@(none):/program/bin# [Jls
[1;32mCalibPoly_new.bin[m
[1;32mDelConfig.sh[m
[1;32mM=EISSw=Move=+0000,+0216,Rotate=+000,RI=3840x2160,RO=3072x1728,Grid=32x32.json[m
[1;32mMainFrame_sawtooth_optimize.txt[m
[1;32mSubFrame_Divp_sawtooth_optimize.txt[m
[1;32mSubFrame_sawtooth_optimize.txt[m
[1;32m_hide[m
[1;36marptables-compat[m
[1;32mauto_load_all_drv.sh[m
[1;32mautotest[m
[1;32mautotestlog.sh[m
[1;32mcfgtool[m
[1;32mcheck_isp_int.sh[m
[1;32mchecksysready.sh[m
[1;32mcleancfg.sh[m
[1;32mcomm_init[m
[1;32mconfig.cfg[m
[1;32mcontrolgpio.sh[m
[1;32mcreathwinfo.sh[m
[1;32mdaemon[m
[1;32mdhcpcd_mware[m
[1;32mdrop_caches.sh[m
[1;32mdt[m
[1;36mebtables-compat[m
[1;32mfactorymode[m
[1;32mfc95G1.10_SWLUT.txt[m
[1;32mfilelist.txt[m
[1;32mgatherlog.sh[m
[1;32mgetmanuinfo[m
[1;32minit.sh[m
[1;32misp_tool[m
[1;32mittb_control[m
[1;32mkernelsendbuff.sh[m
[1;34mlibs[m
[1;32mloadlensdata[m
[1;32mlocaltime[m
[1;32mmactool[m
[1;32mmaintain[m
[1;32mmanuinfotool[m
[1;32mmma_release.sh[m
[1;32mmountnfs.sh[m
[1;32mmware_init.sh[m
[1;32mmwarecmd.sh[m
[1;32mmwareserver[m
[1;32mnet-snmp-config[m
[1;32mnewvermanuinfo[m
[1;32mnpu_set_bw_limiter.sh[m
[1;32mpanel[m
[1;32mpasswd.sh[m
[1;32mpppd[m
[1;32mprepare_hide.sh[m
[1;32mreboot.sh[m
[1;32mresetconfig.sh[m
[1;32msdformat[m
[1;32msdk_update[m
[1;32msecure_boot[m
[1;32msetconfig.sh[m
[0;0msignature.bin[m
[0;0mspl.bin[m
[1;32mssl_cert.pem[m
[1;32mssl_cert_nobrand.pem[m
[1;32msystemreport.sh[m
[1;32mtmp_update[m
[1;32mtop[m
[1;32mudhcpc_mware[m
[1;32mupdate_http[m
[1;32mupdate_move[m
[1;32mupdatecpld.sh[m
[1;32mupdatespl.sh[m
[1;32mwpa_supplicant[m
root@(none):/program/bin# vi sysroot@(none):/program/bin# vi systemreport.sh [J
[?1049h[999;999H[6n[H[J[1;1H#! /bin/sh[2;1H/bin/sh[3;1H#this shell is used in ALL-device[5;1HINFODIR=/tmp[6;1HCOMMONLOG=$INFODIR/diagnosesinfo.log[7;1Hconfigname="config.tgz"[8;1HBDLKLOG=/tmp/BDLKLogs[9;1HCUSTOMDIR=/calibration/customize[11;1Hrm -rf /tmp/log.tgz[12;1Hrm -rf /tmp/*config.tgz /tmp/config_a.*[13;1Hrm -rf /tmp/ipcsystemreport.tgz[14;1Hrm -rf /tmp/config_all.tgz[16;1Hcorepath=`df|grep /dev/mmcblk0p1|awk '{print $6}'`[18;1Hif [ -z "${corepath}" ]; then[19;6Hcorepath="/tmp/"[20;1Helse[21;6Hcorepath=`df|grep /dev/mmcblk0p1|awk '{print $6}'`/[22;1Hfi[24;1H#---------- proc core file -------[25;1Hexec_get_core()[26;1H{[27;9Hecho "find in $1"[28;9Hfor corenewfilename in `ls ${1}core-*`[29;9Hdo[30;17Hif [ -z "$corefilename" ]; then[31;25Hcorefilename=${corenewfilename}[32;17Helse[33;25Hif [ "$corenewfilename" -ot "$corefilename" ]; then[34;33Hcorefilename="$corenewfilename"[35;25Hfi[36;17Hfi[37;9Hdone[38;1H}[40;1Hexec_core_proc()[41;1H{[42;9Hecho "[1]Try to find core file!"[43;9Hif [ -e ${corepath} ]; then[44;17Hcorebakfilename=$(find ${corepath}* -name "corefile-*" -maxdepth 1 -print0)[46;17Hexec_get_core "${corepath}"[48;17Hif [ -z "$corefilename" ]; then[49;25Hcorefilename=${corebakfilename}[50;17Hfi[51;9Hfi[53;9Hif [ -z "$corefilename" ]; then[1;1H[54;1H[K- systemreport.sh 1/447 0%[1;1H[1;1H[54;1H[K- systemreport.sh 1/447 0%[1;1H[54;1H[K:q[1;1H[1;1H[54;1H[K- systemreport.sh 1/447 0%[1;1H[54;1H[K[?1049lroot@(none):/program/bin# vi initroot@(none):/program/bin# vi init.sh [J
[?1049h[999;999H[6n[H[J[1;1H#!/bin/sh[3;1H#FLASH................manuinfotool......bad block................................[4;1H#....manuinfotool....../tmp/..........manuinfo..........manuinfotool..............[5;1H/program/bin/manuinfotool get LENS >/dev/null[7;1Hkernel_ver=$(uname -r)[9;1H#updateflag check[10;1HUPDATE_FLAG=`/tmp/bin/updateflag get | grep updateflag |cut -d : -f 2`[11;1Hif [ "$UPDATE_FLAG" = "set" ]; then[12;5H/tmp/bin/updateflag clear[13;5HTIME=0[14;5Hif [ -e /config/powerofftime ][15;5Hthen[16;9HTIME=$(cat /config/powerofftime | awk '{if(NR==1)print $0;}')[17;5Hfi[19;5Htouch /config/powerofftime[20;5Hecho $((TIME+1)) > /config/powerofftime[21;5Hdate >> /config/powerofftime[22;1Hfi[24;1Hif [ -r /dev/watchdog ];then[25;5Hwatchdog -t 10 -T 30 /dev/watchdog[26;1Hfi[28;1H/program/bin/updatespl.sh[30;1H#............................dhcp................[31;1H#check manuinfo[32;1HDEVICENAME=`/program/bin/manuinfotool | grep PROTOTYPE_NAME|cut -d : -f 2`[33;1Hif [ -z "$DEVICENAME" ]; then[34;5H#restart udhcpc & exit[35;5Hecho "-----------------------------------------------------------"[36;5Hecho "----------------begin to start udhcpc----------------------"[37;5Hecho "-----------------------------------------------------------"[39;5H#............ ....update ....../tmp/bin ............[40;9Hdropbear.sh start[41;5Hcd /[42;5Hmkdir -p /tmp/bin[43;5Hcp -rf /program/bin/update_move /tmp/bin/update[44;5Hchmod a+x /tmp/bin/update[46;5Hif [ -r /usr/sbin/nandwrite_move ]; then[47;9Hcp -rf /usr/sbin/nandwrite_move /tmp/bin/nandwrite[48;9Hchmod a+x /tmp/bin/nandwrite[49;5Hfi[51;5Hif [ -r /usr/sbin/flashwrite_move ]; then[52;9Hcp -rf /usr/sbin/flashwrite_move /tmp/bin/flashwrite[53;9Hchmod a+x /tmp/bin/flashwrite[1;1H[54;1H[K- init.sh 1/237 0%[1;1H[2;1H[54;1H[K- init.sh 2/237 0%[2;1H[3;1H[54;1H[K- init.sh 3/237 1%[3;1H[4;1H[54;1H[K- init.sh 4/237 1%[4;1H[5;1H[54;1H[K- init.sh 5/237 2%[5;1H[5;1H[54;1H[K- init.sh 5/237 2%[5;1H[54;1H[K:q[5;1H[5;1H[54;1H[K- init.sh 5/237 2%[5;1H[54;1H[K[?1049lroot@(none):/program/bin# vi reboroot@(none):/program/bin# vi reboot.sh [J
[?1049h[999;999H[6n[H[J[1;1Hecho "System will reboot normally by software now"[2;1H#-----------......------[3;1Hcd /var/log[4;1Hecho '****************************dmesg****************************' >sysinfo.log[5;1Hdate >> sysinfo.log[6;1Huptime >> sysinfo.log[7;1Hdmesg | tail -n 500 >>sysinfo.log[8;1Hecho '*****************************ps*****************************' >>sysinfo.log[9;1Hps >>sysinfo.log[10;1Hecho '**************************ifconfig**************************' >>sysinfo.log[11;1Hifconfig >>sysinfo.log[12;1Hecho '**********************cat /proc/meminfo**********************' >>sysinfo.log[13;1Hcat /proc/meminfo  >>sysinfo.log[14;1Hsleep 3[15;1Hwatchdog -t 60 -T 180 /dev/watchdog[16;1H/tmp/bin/killwatchdog.sh[17;1Hkillall -9 daemon 1>/dev/null 2>&1[18;1Hkillall -9 thttpd 1>/dev/null 2>&1[19;1Hsleep 3[20;1Hkillall -9 mwareserver   1>/dev/null 2>&1[21;1Hkillall -9 iwareserver   1>/dev/null 2>&1[22;1Hkillall -2 avserver      1>/dev/null 2>&1[23;1Hkillall -9 syslogd       1>/dev/null 2>&1[24;1Hcd /[25;1Hrm -f /tmp/ThreadInfo\[*\].log[26;1H/tmp/bin/mwarecmd.sh packlog[27;1Hsleep 5[29;1Hreboot -f[30;1H~[31;1H~[32;1H~[33;1H~[34;1H~[35;1H~[36;1H~[37;1H~[38;1H~[39;1H~[40;1H~[41;1H~[42;1H~[43;1H~[44;1H~[45;1H~[46;1H~[47;1H~[48;1H~[49;1H~[50;1H~[51;1H~[52;1H~[53;1H~[1;1H[54;1H[K- reboot.sh 1/29 3%[1;1H[1;1H[54;1H[K- reboot.sh 1/29 3%[1;1H[54;1H[K:q[1;1H[1;1H[54;1H[K- reboot.sh 1/29 3%[1;1H[54;1H[K[?1049lroot@(none):/program/bin# strings /program/bin/secure_boot | grep -E '\.(sh|bin|
cfg)' | head -30
_boot | grep '/program' | head -30.shstrtab
root@(none):/program/bin# strings /program/bin/secure_boot | grep '/program' | h
ead -30
root@(none):/program/bin# strings /program/bin/secure_boot | grep -E '\.(sh|bin|
cfg)' | head -30
.shstrtab
root@(none):/program/bin# grep -r "secure_boot" /program/bin/*.sh
root@(none):/program/bin# find /program -name "*.list" -o -name "*.manifest" -o 
-name "filelist*" -o -name "checklist*" 2>/dev/null
/program/bin/filelist.txt
root@(none):/program/bin# cd file[J[J[J[J[J[J[Jvi firoot@(none):/program/bin# vi filelist.txt [J
[?1049h[999;999H[6n[H[J[1;1H/program/bin/mwareserver[2;1H/program/bin/init.sh[3;1H/program/bin/mware_init.sh[4;1H~[5;1H~[6;1H~[7;1H~[8;1H~[9;1H~[10;1H~[11;1H~[12;1H~[13;1H~[14;1H~[15;1H~[16;1H~[17;1H~[18;1H~[19;1H~[20;1H~[21;1H~[22;1H~[23;1H~[24;1H~[25;1H~[26;1H~[27;1H~[28;1H~[29;1H~[30;1H~[31;1H~[32;1H~[33;1H~[34;1H~[35;1H~[36;1H~[37;1H~[38;1H~[39;1H~[40;1H~[41;1H~[42;1H~[43;1H~[44;1H~[45;1H~[46;1H~[47;1H~[48;1H~[49;1H~[50;1H~[51;1H~[52;1H~[53;1H~[1;1H[54;1H[K- filelist.txt 1/3 33%[1;1H[1;1H[54;1H[K[7m'v' is not implemented[m[1;1H[54;1H[K- filelist.txt 1/3 33%[1;1H[2;1H[54;1H[K- filelist.txt 2/3 66%[2;1H[3;1H[54;1H[K- filelist.txt 3/3 100%[3;1H[3;2H[54;1H[K:q[3;2H[3;2H[54;1H[K- filelist.txt 3/3 100%[3;2H[54;1H[K[?1049lroot@(none):/program/bin# cat c[Jfilroot@(none):/program/bin# cat filelist.txt [J
/program/bin/mwareserver
/program/bin/init.sh
/program/bin/mware_init.sh
root@(none):/program/bin# [  150.317533] random: crng init done
^C

root@(none):/program/bin# ls | grep "version"
root@(none):/program/bin# cat /config/config_a.xml | grep -i version | head -5
cat: can't open '/config/config_a.xml': No such file or directory
root@(none):/program/bin# cat c[J/croot@(none):/program/bin# cat /calibration/[J[J[J[J[J[J[J[J[J[J[J[Jojf[Jnf[J[Jnf[J[J[Jnf[J[J[J[J[J[J[J[J[Jcat initroot@(none):/program/bin# cat init.sh [J
#!/bin/sh

#FLASH´æÔÚ»µ¿éÊ±£¬Ê¹ÓÃmanuinfotool»á´òÓ¡bad blockµÈ×Ö¶Îµ¼ÖÂ½âÎö´íÎó¡£¹ÊÔÚ´ËÏÈµ÷ÓÃ
#Ò»´Îmanuinfotool£¬»áÔÚ/tmp/Ä¿Â¼ÏÂÉú³ÉmanuinfoÎÄ¼þ£¬ºóÐømanuinfotoolÓÅÏÈ·ÃÎÊ¸ÃÎÄ¼þ
/program/bin/manuinfotool get LENS >/dev/null

kernel_ver=$(uname -r)

#updateflag check
UPDATE_FLAG=`/tmp/bin/updateflag get | grep updateflag |cut -d : -f 2`
if [ "$UPDATE_FLAG" = "set" ]; then
    /tmp/bin/updateflag clear
    TIME=0
    if [ -e /config/powerofftime ]
    then
        TIME=$(cat /config/powerofftime | awk '{if(NR==1)print $0;}')
    fi

    touch /config/powerofftime
    echo $((TIME+1)) > /config/powerofftime
    date >> /config/powerofftime
fi

if [ -r /dev/watchdog ];then
    watchdog -t 10 -T 30 /dev/watchdog
fi

/program/bin/updatespl.sh

#ÎÞµç×Ó±êÇ©Æô¶¯ÖÐÖ¹£¬×Ô¶¯Æô¶¯dhcpµÈ´ýÐ´Èëµç×Ó±êÇ©
#check manuinfo
DEVICENAME=`/program/bin/manuinfotool | grep PROTOTYPE_NAME|cut -d : -f 2`
if [ -z "$DEVICENAME" ]; then
    #restart udhcpc & exit
    echo "-----------------------------------------------------------"
    echo "----------------begin to start udhcpc----------------------"
    echo "-----------------------------------------------------------"

    #ÎÞµç×Ó±êÇ©Ê± ¿½±´update ³ÌÐòÖÁ/tmp/bin Ö§³Ö°æ±¾Éý¼¶
	dropbear.sh start
    cd /
    mkdir -p /tmp/bin
    cp -rf /program/bin/update_move /tmp/bin/update
    chmod a+x /tmp/bin/update

    if [ -r /usr/sbin/nandwrite_move ]; then
        cp -rf /usr/sbin/nandwrite_move /tmp/bin/nandwrite
        chmod a+x /tmp/bin/nandwrite
    fi

    if [ -r /usr/sbin/flashwrite_move ]; then
        cp -rf /usr/sbin/flashwrite_move /tmp/bin/flashwrite
        chmod a+x /tmp/bin/flashwrite
    fi

    cp -rf /program/bin/reboot.sh  /tmp/bin/reboot.sh
    chmod a+x /tmp/bin/reboot.sh

    cp /program/bin/mwarecmd.sh /tmp/bin/mwarecmd.sh -f
    chmod a+x /tmp/bin/mwarecmd.sh

    killall -9 udhcpc

    udhcpc -s /usr/share/udhcpc/udhcpc.script > /dev/null &

    exit 1
fi

#µ¥°åÀàÐÍÐèÒªÓÃµç×Ó±êÇ©»ñµÃ
BUILD_INFO=`/program/bin/manuinfotool | grep BUILD_INFO|cut -d : -f 2`
PROTOTYPE_NAME=`/program/bin/manuinfotool | grep PROTOTYPE_NAME|cut -d : -f 2`
SERIAL_NUMBER=`/program/bin/manuinfotool | grep SERIAL | cut -d : -f 2`
DEVICE_TYPE=`echo ${SERIAL_NUMBER:0:6}`

if [ -r /lib/modules/$kernel_ver/extra/kmanuparse.ko ]; then
    insmod /lib/modules/$kernel_ver/extra/kmanuparse.ko  pszBuildInfo=$BUILD_INFO pszProductTypeName=$PROTOTYPE_NAME pszDeviceTypeNum=$DEVICE_TYPE pszDeviceSerialNumber=$SERIAL_NUMBER pszLensFlag=$LENSFLAG
        case "$?" in
        0)
        UV_PRODUCT_NAME=$(cat /proc/driver/productname)
        UV_SENSOR_TYPE=$(cat /proc/driver/sensortype)
        IS_HCM_IN_MIDPTZ=` cat /proc/driver/Manuparse_info | grep "DEVICE_SHAPE" |  cut -d : -f 2 | awk '{print $1}'`
        ;;
        *)
        echo "insmod kmanuparse failed!"
        ;;
    esac
fi

# ¼ì²âº¯ÊýÈë²ÎÊÇ·ñÎª´¿Êý×Ö£¬Ö»Ö§³ÖÊ®½øÖÆ
is_digital()
{
	echo "$1" | [ -n "`sed -n '/^[0-9][0-9]*$/p'`" ] && echo "yes" || echo "no"
}

/program/bin/creathwinfo.sh

MANU_ENC=`/program/bin/manuinfotool get ENC`
MANU_LENS=`/program/bin/manuinfotool get LENS`

# ¾µÍ·µç»úÄ£¿éÏà¹Ø
motor_load()
{
    # ¶ÁÈ¡µç»úµôµç¼ÇÒäÎ»ÖÃ
    if [ -r /config/motorpos ];then
        zoompos=`cat /config/motorpos | grep ZOOM | awk -F ':' '{print $2}'`
        focuspos=`cat /config/motorpos | grep FOCUS | awk -F ':' '{print $4}'`
        status=`cat /config/motorpos | grep STATUS | awk -F ':' '{print $6}'`
    fi

    #ÒÔÏÂ3ÖÖÇé¿öÉ¾³ýmotorposÎÄ¼þ£¬Çý¶¯¸´Î»µç»ú£¬AF´¥·¢¾Û½¹£º
    #1. Î»ÖÃºÍ×´Ì¬²ÎÊý²»ÊÇ´¿Êý×Ö(Îª¿Õor·Ç·¨Öµ)
    #2. µ±Ç°´¦ÓÚ¹¤³§Ä£Ê½¡£
    #3. µç»úÎ´´¦ÓÚ¾²Ö¹×´Ì¬Ê±ÏµÍ³±»¸´Î»(or ¶Ïµç)¡£
    if [ "$(is_digital $zoompos)" = "no" -o "$(is_digital $focuspos)" = "no" -o "$(is_digital $status)" = "no" -o \
            -r /calibration/factory.txt -o \
            "$status" != "0" ]; then

        echo "reset motor position axes, zoompos=[$zoompos] focuspos=[$focuspos] status=[$status]"
        rm -rf /config/motorpos
        zoompos=0xffffffff
        focuspos=0xffffffff
        status=0xffffffff
    fi

    LoadCM=`cat /proc/driver/Manuparse_info | grep "Lens Chn0 Class" | grep -E "hcm|therma"`
    if [ -n "$LoadCM" ];then
    # »úÐ¾ºÍÈÈ³ÉÏñ´óÀà¾µÍ·¼ÓÔØ±ä±¶¸úËæ¾µÍ·Ä£¿é(kmotorcm.ko)
        if [ -r /lib/modules/$kernel_ver/extra/kmotorcm.ko ]; then
            insmod  /lib/modules/$kernel_ver/extra/kmotorcm.ko guiZoomPos=$zoompos guiFocusPos=$focuspos g_uiStatus=$status
        fi
    elif [ "$UV_PRODUCT_NAME" = "difev2r5b01" ];then
        if [ -r /lib/modules/$kernel_ver/extra/kmotorcm.ko ]; then
            insmod  /lib/modules/$kernel_ver/extra/kmotorcm.ko guiZoomPos=$zoompos guiFocusPos=$focuspos g_uiStatus=$status
        fi
    else
    # ¶¨½¹»òÎÞ±ä±¶¸úËæ¼ÓÔØkmotor.ko
        if [ "$zoompos" = "0xffffffff" -o "$focuspos" = "0xffffffff" ];then
            zoompos=0xfffffff
            focuspos=0xfffffff
        fi

        if [ -r /lib/modules/$kernel_ver/extra/kmotor.ko ]; then
            insmod /lib/modules/$kernel_ver/extra/kmotor.ko  glZoomPos=$zoompos glFocusPos=$focuspos
        fi
    fi
}

motor_pt_load()
{
	PT_MCU_IMAGE=`cat /proc/driver/loadmoduleInfo  |grep pt_mcu_image| cut -d : -f 2`

    echo "no need to load kmotorpt module and no need to update pt mcuimage!"
}

uart_link()
{
    echo "no need to change uart1 and uart2"

	#ËùÓÐ²úÆ·Ä¬ÈÏ½«ttyS1Ó³Éä³É485´®¿ÚttyAMBA1
	ln -sf /dev/ttyS1 /dev/ttyAMBA1
}


if [ -r /lib/modules/$kernel_ver/extra/kgpio.ko ]; then
	insmod /lib/modules/$kernel_ver/extra/kgpio.ko
fi

CPU_TYPE=`cat /proc/driver/gpiodev_info | grep CPU | cut -d : -f 2`

MANUINFO_ENC=$(/program/bin/manuinfotool get ENC)
motor_load;


if [ -r /lib/modules/$kernel_ver/extra/kruntime.ko ]; then
     insmod /lib/modules/$kernel_ver/extra/kruntime.ko
fi

if [ "$UV_SENSOR_TYPE" = "sc450ai" ]; then
    insmod /lib/modules/$kernel_ver/extra/SC450AI_MIPI.ko chmap=1
fi


export LD_LIBRARY_PATH=/program/lib

sysctl -w net.core.wmem_max=655360
sysctl -w net.core.wmem_default=655360

#property_service
mkdir /dev/socket
touch /dev/.coldboot_done

#ÉèÖÃ/data¿É¶ÁÐ´
mkdir /tmp/.data
cp -af /data/* /tmp/.data/
mount --bind /tmp/.data/ /data

#Ê¡ÄÚ´æ²ßÂÔ£¬¼Ó¿ìÄÚ´æ»ØÊÕ´ëÊ©£¬×îºóÁ½¾äÊÇ¼õÉÙÏµÍ³Ô¤ÁôÄÚ´æ
sysctl -w vm.overcommit_memory=0
sysctl -w vm.overcommit_ratio=50
sysctl -w vm.min_free_kbytes=598
sysctl -w vm.dirty_background_ratio=2
sysctl -w vm.dirty_expire_centisecs=500
sysctl -w vm.dirty_ratio=2
sysctl -w vm.dirty_writeback_centisecs=100
sysctl -w vm.admin_reserve_kbytes=0
sysctl -w vm.user_reserve_kbytes=0

#I/O´ÅÅÌ¶ÁÐ´ÐÔÄÜ Ô¤¶ÁbufferÉèÖÃ³É1MB 338GÐÞ¸Ä,¼õÉÙI/O¶ÁÐ´´ÎÊý£¬¼õÉÙ¶à´¦Í¬Ê±¶ÁÐ´SD¿¨³åÍ»£¬½µµÍ¿¨¶ÙÇé¿ö
#if [ "$CPU_TYPE" != "30KQ" -o "$CPU_TYPE" != "338Q" ];then
#    echo  1024  >   /sys/block/mmcblk0/queue/read_ahead_kb
#fi
#
##Í¬²½ÎÊÌâµ¥HWD84309,¶þ²¿30K²úÆ·
#VER_TYPE=`cat /program/factory/VER_TYPE`
#if [ $VER_TYPE  = "IPC_Q9101" -o $VER_TYPE  = "IPC_G6205" ]; then
#   echo 2048 > /sys/block/mmcblk0/queue/read_ahead_kb
#fi

#coreµçÑ¹ÉèÖÃ³É1V

#mkdir /dev/graphics
#ln -s /dev/fb0 /dev/graphics/fb0
#ln -s /dev/fb1 /dev/graphics/fb1
#ln -s /dev/fb2 /dev/graphics/fb2

#Run mware.sh
/program/bin/mware_init.sh  &

/program/bin/drop_caches.sh &

if [ -f /program/bin/collect4Glog ]; then
    sleep 60
    cd /program/bin
    ./collect4Glog
    cd -
fi

root@(none):/program/bin# cat mware_iniroot@(none):/program/bin# cat mware_init.sh [J
cd /
mkdir -p /var/lib/
mkdir -p /var/run/
mkdir -p /etc/iscsi
mkdir -p /tmp/bin

mkdir -p /tmp/custom
ln -sf /program/bin/update_move /tmp/bin/update
chmod a+x /tmp/bin/update  
cp -rf /usr/sbin/nandwrite_move /tmp/bin/nandwrite
chmod a+x /tmp/bin/nandwrite 
cp -rf /usr/sbin/flashwrite_move /tmp/bin/flashwrite
chmod a+x /tmp/bin/flashwrite
echo kill -9 `pidof watchdog` "&" > /tmp/bin/killwatchdog.sh
echo killall -9 watchdog "&" >> /tmp/bin/killwatchdog.sh
chmod 777 /tmp/bin/killwatchdog.sh 
mkdir -p /tmp/update
mkdir -p /config/flashlog
ln /program/www -sf /www
ln -fs /config/flashlog /var/
if [ -z "`/bin/ls -l /var/log | /bin/grep 'tmp'`" ]; then
    ln -fs /tmp/ /var/log
fi
mkdir -p /config/customize/lang
mkdir -p /config/customize/language
ulimit -c unlimited
ulimit -HSn 10000
echo 1 > /proc/sys/vm/overcommit_memory
echo "1" > /proc/sys/kernel/core_uses_pid 
echo 3 4 1 3 > /proc/sys/kernel/printk
#Ä¿Ç°OSD½á¹¹Ìå¹ý´ó£¬ÇÒÐèÒª´ÓMWÍ¨¹ýÏûÏ¢¶ÓÁÐ·¢ÍùIW,ËùÒÔÔö´óÏûÏ¢¶ÓÁÐ´óÐ¡¡£
echo 16384 > /proc/sys/kernel/msgmax
if [ -f "/program/www/ActiveX/Setup_NB.exe" ]; then
   ln -sf /program/www/ActiveX/Setup_NB.exe /tmp/Setup.exe
fi
if [ -f "/program/www/ActiveX/Setup_NB_64.exe" ]; then
   ln -sf /program/www/ActiveX/Setup_NB_64.exe /tmp/Setup64.exe
fi
if [ ! -f /program/www/ActiveX/Setup.exe ]; then
	ln -sf /tmp/Setup.exe /program/www/ActiveX/Setup.exe
fi
if [ ! -f /program/www/ActiveX/Setup64.exe ]; then
	ln -sf /tmp/Setup64.exe /program/www/ActiveX/Setup64.exe
fi
if [ ! -f /config/ca.cer ]; then
	cp /program/bin/ca.cer /config/ca.cer -f
fi
if [ -f /config/ca.cer ]; then
	mkdir -p /tmp/sslvpn
	chmod a+x /config/ca.cer
	ln -sf /config/ca.cer /tmp/sslvpn/ca.cer
fi
cp /program/bin/reboot.sh /tmp/bin/reboot.sh
chmod a+x /tmp/bin/reboot.sh
echo export LD_LIBRARY_PATH=/program/lib >> /etc/profile
echo PATH=/bin:/sbin:/usr/bin:/usr/sbin:/usr/bin/X11:/usr/local/bin:/usr/local/sbin:/program/bin:/tmp/bin >> /etc/profile
source /etc/profile  1>/dev/null 2>&1
PATH=/program/bin:$PATH
comm_init
cp -f /program/bin/localtime /etc/
if [ -f /config/localtime ]; then
	if [ ! -f /cfgbak/localtime ]; then
		cp /config/localtime /cfgbak/localtime -f  1>/dev/null 2>&1
	fi
else
	if [ -f /cfgbak/localtime ]; then
		cp /cfgbak/localtime /config/localtime -f  1>/dev/null 2>&1
	fi
fi
if [ -f /config/TZ ]; then
	if [ ! -f /cfgbak/TZ ]; then
		cp /config/TZ /cfgbak/TZ -f  1>/dev/null 2>&1
	fi
else
	if [ -f /cfgbak/TZ ]; then
		cp /cfgbak/TZ /config/TZ -f  1>/dev/null 2>&1
	fi
fi
cp /config/localtime /etc/localtime -f  1>/dev/null 2>&1
cp /config/TZ /etc/TZ -rf  1>/dev/null 2>&1
cp /program/bin/mwarecmd.sh /tmp/bin/mwarecmd.sh -f
chmod a+x /tmp/bin/mwarecmd.sh
/tmp/bin/mwarecmd.sh unpacklog
cp /var/flashlog/update.log /var/log/updatei.log 1>/dev/null 2>&1
cp -f /program/www/skin/default_1/images/no_logo.png /tmp/logo.png 
cd /program/www/skin/default_1/images/
rm -rf logo.png
ln -sf /tmp/logo.png logo.png
#½ÚÔ¼OSÄÚ´æ£¬½ö±£ÁôÉÏ´ÎÔËÐÐºÍ±¾´ÎÔËÐÐµÄËã·¨ÈÕÖ¾,Â·¾¶±ØÐëÓë´úÂëÖÐ IW_FACE2_ISF_LOG_PATH£¬IW_ISF_LOG_PATH ºê±£³ÖÒ»ÖÂ
cd /var/log/
rm -rf IntelligentSystemLogs/IntelligentSystemLogs_bak.tgz
tar czvf IntelligentSystemLogs_bak.tgz IntelligentSystemLogs  1>/dev/null 2>&1
rm -rf IntelligentSystemLogs
mkdir IntelligentSystemLogs
mv IntelligentSystemLogs_bak.tgz /var/log/IntelligentSystemLogs/
cd -
cfgtool
chmod a+x /program/bin/kernelsendbuff.sh
/program/bin/kernelsendbuff.sh
if [ -f /config/calibration ];then
	echo "state: [1]"  > /tmp/stateofmware
else
	rm /config/flashlog/dmesg.log
	date >> /config/flashlog/dmesg.log
	uptime >> /config/flashlog/dmesg.log
	dmesg | tail -n 300 >> /config/flashlog/dmesg.log
	if [ -r /sys/class/mstar/msys/REBOOT_TYPE ]; then
	cat /sys/class/mstar/msys/REBOOT_TYPE >> /config/flashlog/dmesg.log
	fi
	export LD_LIBRARY_PATH=/program/lib:$LD_LIBRARY_PATH
	ifconfig lo up 
	cd /program/lib/
	#»ñÈ¡Æ½Ì¨ÐÅÏ¢
	CPUTYPE=`cat /proc/driver/gpiodev_info | head -1 | awk -F ':' '{print $2}' | awk '{print $1}'`
	echo "CPU type is $CPUTYPE"
	if [ "$CPUTYPE" = "mstar" ]; then
		mwareserver 1>>/tmp/mstar00.log 2>&1 &
		limit_size_log.sh /tmp/mstar00.log 64 &
	else
		mwareserver &
	fi
	sleep 2
	#Êý×Ö»úÐ¾²»ÐèÒªÆô¶¯maintain
	if [ -f "/program/bin/maintain" ];then 
		maintain &
	fi
	#ÅäÖÃÎÄ¼þÎÞMware/Demo/Daemon/Enable½Úµã»ò¸Ã½ÚµãÖµ²»Îª0Ê±£¬Æô¶¯daemon
	if [ "0" != "$(sed -n '/<Demo>/,/<\/Demo>/p' /config/config_a.xml |sed -n '/<Daemon>/,/<\/Daemon>/p' | grep '<Enable>'|sed 's/\(.*\)<Enable>\(.*\)<\/Enable>\(.*\)/\2/')" ];then
		daemon /program/www/daemon.cfg &		
	fi
	if [ ! -f /config/ssl_cert.pem ]; then
		cp /program/bin/ssl_cert.pem /config/ssl_cert.pem -f
	fi
	if [ ! -f /config/ssl_cert_nobrand.pem ]; then
		cp /program/bin/ssl_cert_nobrand.pem /config/ssl_cert_nobrand.pem -f
	fi
	echo 0 > /proc/sys/net/ipv4/tcp_timestamps
fi
sh /program/bin/autotestlog.sh &
root@(none):/program/bin# wc -c /program/bin/mware_init.sh
4809 /program/bin/mware_init.sh
root@(none):/program/bin# xxd /program/bin/mware_init.sh | tail -5
00001280: 203e 202f 7072 6f63 2f73 7973 2f6e 6574   > /proc/sys/net
00001290: 2f69 7076 342f 7463 705f 7469 6d65 7374  /ipv4/tcp_timest
000012a0: 616d 7073 0a66 690a 7368 202f 7072 6f67  amps.fi.sh /prog
000012b0: 7261 6d2f 6269 6e2f 6175 746f 7465 7374  ram/bin/autotest
000012c0: 6c6f 672e 7368 2026 0a                   log.sh &.
root@(none):/program/bin# root@(none):/program/bin# xxd /program/bin/mware_init.sh | tail -5[Jroot@(none):/program/bin# wc -c /program/bin/mware_init.sh[Jinit.sh[J[7Dinit.sh[J[7Dinit.sh[J[7Dinit.sh[J[7Dinit.sh[J[7Dinit.sh[J[7Dinit.sh
7252 /program/bin/init.sh
root@(none):/program/bin# root@(none):/program/bin# wc -c /program/bin/init.sh[Jroot@(none):/program/bin# xxd /program/bin/mware_init.sh | tail -5[Jinit.sh | tail -5[J[17Dinit.sh | tail -5[J[17Dinit.sh | tail -5[J[17Dinit.sh | tail -5[J[17Dinit.sh | tail -5[J[17Dinit.sh | tail -5[J[17Dinit.sh | tail -5
00001c10: 656e 0a20 2020 2073 6c65 6570 2036 300a  en.    sleep 60.
00001c20: 2020 2020 6364 202f 7072 6f67 7261 6d2f      cd /program/
00001c30: 6269 6e0a 2020 2020 2e2f 636f 6c6c 6563  bin.    ./collec
00001c40: 7434 476c 6f67 0a20 2020 2063 6420 2d0a  t4Glog.    cd -.
00001c50: 6669 0a0a                                fi..
root@(none):/program/bin# grep -r "verify signature fail" /program/bin/
grep: /program/bin/libs/lib_hiawb.so: No such file or directory
grep: /program/bin/libs/libisp.so: No such file or directory
grep: /program/bin/libs/lib_hiae.so: No such file or directory
grep: /program/bin/libs/lib_hiaf.so: No such file or directory
grep: /program/bin/libs/libmpi.so: No such file or directory
grep: /program/bin/libs/lib_hidefog.so: No such file or directory
grep: /program/bin/libs/lib_iniparser.so: No such file or directory
grep: /program/bin/arptables-compat: No such file or directory
grep: /program/bin/ebtables-compat: No such file or directory
root@(none):/program/bin# cd ..[J[J/
root@(none):~# ls
[1;34mbin[m          [1;34mhome[m         [1;36mlinuxrc[m      [1;34mprogram[m      [1;34mtmp[m
[1;34mcalibration[m  [1;36minit[m         [1;34mmnt[m          [1;34mroot[m         [1;34musr[m
[1;34mdev[m          [1;34mlib[m          [1;36mopt[m          [1;34msbin[m         [1;34mvar[m
[1;34metc[m          [1;36mlib64[m        [1;34mproc[m         [1;34msys[m          [1;36mwww[m
root@(none):~# cd de[J[Jetroot@(none):~# cd etc/[J
root@(none):/etc# s[Jls
[1;32mKERNEL_VERSION[m         [1;34minit.d[m                 [1;32mprofile[m
[0;0max_syslog.conf[m         [1;32minittab[m                [1;32msd_card_add_remove.sh[m
[1;32mfstab[m                  [1;32mmdev.conf[m              [1;32mshells[m
[1;32mgroup[m                  [1;32mpasswd[m
[1;32mhostname[m               [1;32mpasswd-[m
root@(none):/etc# cd iniroot@(none):/etc# cd init.d/[J
root@(none):/etc/init.d# grep -r "verify signature fail" /
grep: /program/bin/libs/lib_hiawb.so: No such file or directory
grep: /program/bin/libs/libisp.so: No such file or directory
grep: /program/bin/libs/lib_hiae.so: No such file or directory
grep: /program/bin/libs/lib_hiaf.so: No such file or directory
grep: /program/bin/libs/libmpi.so: No such file or directory
grep: /program/bin/libs/lib_hidefog.so: No such file or directory
grep: /program/bin/libs/lib_iniparser.so: No such file or directory
grep: /program/bin/arptables-compat: No such file or directory
grep: /program/bin/ebtables-compat: No such file or directory
grep: /program/lib/libz.so: No such file or directory
grep: /program/lib/libz.so.1: No such file or directory
grep: /program/www/LANG/custom: No such file or directory
grep: /program/www/skin/default_1/images/logo.png: No such file or directory
grep: /program/www/skin/static/css: No such file or directory
grep: /program/www/skin/static/images: No such file or directory
grep: /program/www/Version.html: No such file or directory
grep: /program/www/script/plugins/datepicker/lang/custom: No such file or directory
grep: /program/www/script/common/device_type.js: No such file or directory
grep: /program/www/fingerprint.htm: No such file or directory
grep: /program/www/map_ports.html: No such file or directory
grep: /program/www/ActiveX/Setup.exe: No such file or directory
grep: /program/www/device_cap.xml: No such file or directory
grep: /program/modules/4.19.125/build: No such file or directory
grep: /program/modules/4.19.125/source: No such file or directory
/.ash_history:grep -r "verify signature fail" /program/bin/
/.ash_history:grep -r "verify signature fail" /
grep: /sys/devices/platform/soc/6061000.pwm1/pwm/pwmchip4/export: Permission denied
grep: /sys/devices/platform/soc/6061000.pwm1/pwm/pwmchip4/unexport: Permission denied
grep: /sys/devices/platform/soc/soc:axera_dwc3/8000000.dwc3/udc/8000000.dwc3/soft_connect: Permission denied
grep: /sys/devices/platform/soc/soc:axera_dwc3/8000000.dwc3/udc/8000000.dwc3/srp: Permission denied
grep: /sys/devices/platform/soc/6060000.pwm0/[  462.869543] adc mode:0-reset default, 1-user reference, 2-rx enhance
pwm/pwmchip0/export: Permission denied
grep: /sys/devices/platf[  462.878240] midx mode: 0-mdi, 1-mdix, 2-auto mdi/midx
orm/soc/6060000.pwm0/pwm/pwmchip0/unexport: Permission denied
grep: /sys/devices/platform/soc/4860000.i2c_slv/i2c-8/delete_device: Permission denied
grep: /sys/devices/platform/soc/4860000.i2c_slv/i2c-8/new_device: Permission denied
[  462.942368] ------Axera EPHY Statistic Start----------
[  462.947516] TX transmitted packet number is  0
[  462.951962] TX transmitted byte number is  0
[  462.956239] RX recevied packet number is  0
[  462.960432] RX recevied byte number is  0
[  462.964449] RX recevied CRC packet number is  0
[  462.968986] ------Axera EPHY Statistic End----------
[  462.974092] any number trigger auto negotiation
[  462.978695] 0: set default, other number: restart calibration
[  462.984509] ------EPHY REGs DUMP Start----------
[  462.989139] --------Page:0 -------
[  463.002369] reg00 = 0x3100
[  463.007371] reg01 = 0x79c9
[  463.012370] reg02 = 0x0044
[  463.017369] reg03 = 0x1400
[  463.022368] reg04 = 0x0de1
[  463.027368] reg05 = 0x0080
[  463.032368] reg06 = 0x0074
[  463.037368] reg07 = 0x2801
[  463.042368] reg08 = 0x0000
[  463.047368] reg09 = 0x0000
[  463.052368] reg10 = 0x0000
[  463.057368] reg11 = 0x0000
[  463.062368] reg12 = 0x0000
[  463.067368] reg13 = 0x0000
[  463.072367] reg14 = 0x0000
[  463.077368] reg15 = 0x0000
[  463.082368] reg16 = 0x0000
[  463.087370] reg17 = 0x0000
[  463.092368] reg18 = 0x0000
[  463.097368] reg19 = 0x0102
[  463.102368] reg20 = 0x0c70
[  463.107368] reg21 = 0x0000
[  463.112368] reg22 = 0x0000
[  463.117368] reg23 = 0x0000
[  463.122368] reg24 = 0x0000
[  463.127368] reg25 = 0x0880
[  463.132368] reg26 = 0x0000
[  463.137368] reg27 = 0x0000
[  463.142368] reg28 = 0x0000
[  463.147368] reg29 = 0x0000
[  463.152368] reg30 = 0x0000
[  463.157368] reg31 = 0x0000
[  463.160076] ---------------
[  463.162877] --------Page:1 -------
[  463.172368] reg00 = 0x3100
[  463.177368] reg01 = 0x79c9
[  463.182368] reg02 = 0x0044
[  463.187368] reg03 = 0x1400
[  463.192368] reg04 = 0x0de1
[  463.197368] reg05 = 0x0000
[  463.202368] reg06 = 0x0064
[  463.207368] reg07 = 0x2801
[  463.212368] reg08 = 0x0000
[  463.217369] reg09 = 0x0000
[  463.222367] reg10 = 0x0000
[  463.227367] reg11 = 0x0000
[  463.232368] reg12 = 0x0000
[  463.237368] reg13 = 0x0000
[  463.242367] reg14 = 0x0000
[  463.247368] reg15 = 0x0000
[  463.252368] reg16 = 0xfffe
[  463.257368] reg17 = 0x4d0d
[  463.262368] reg18 = 0xc824
[  463.267368] reg19 = 0x5702
[  463.272368] reg20 = 0x4268
[  463.277368] reg21 = 0xa85a
[  463.282368] reg22 = 0x80c4
[  463.287368] reg23 = 0x0033
[  463.292368] reg24 = 0x04e2
[  463.297368] reg25 = 0x75d0
[  463.302368] reg26 = 0x44ff
[  463.307368] reg27 = 0x0000
[  463.312368] reg28 = 0x0000
[  463.317368] reg29 = 0x0000
[  463.322368] reg30 = 0xa012
[  463.327368] reg31 = 0x0100
[  463.330076] ---------------
[  463.332876] --------Page:2 -------
[  463.342368] reg00 = 0x3100
[  463.347369] reg01 = 0x79c9
[  463.352368] reg02 = 0x0044
[  463.357367] reg03 = 0x1400
[  463.362368] reg04 = 0x0de1
[  463.367367] reg05 = 0x0000
[  463.372368] reg06 = 0x0064
[  463.377367] reg07 = 0x2801
[  463.382368] reg08 = 0x0000
[  463.387367] reg09 = 0x0000
[  463.392368] reg10 = 0x0000
[  463.397367] reg11 = 0x0000
[  463.402368] reg12 = 0x0000
[  463.407368] reg13 = 0x0000
[  463.412368] reg14 = 0x0000
[  463.417367] reg15 = 0x0000
[  463.422368] reg16 = 0x0133
[  463.427368] reg17 = 0x4a6d
[  463.432368] reg18 = 0x6384
[  463.437368] reg19 = 0x026d
[  463.442368] reg20 = 0x426d
[  463.447367] reg21 = 0x20c8
[  463.452368] reg22 = 0x5423
[  463.457368] reg23 = 0x04c8
[  463.462368] reg24 = 0x1000
[  463.467368] reg25 = 0x04e2
[  463.472368] reg26 = 0x0001
[  463.477369] reg27 = 0xe848
[  463.482368] reg28 = 0x04e2
[  463.487368] reg29 = 0x0601
[  463.492368] reg30 = 0xe848
[  463.497368] reg31 = 0x0200
[  463.500077] ---------------
[  463.502877] --------Page:3 -------
[  463.512368] reg00 = 0x3100
[  463.517368] reg01 = 0x79c9
[  463.522368] reg02 = 0x0044
[  463.527368] reg03 = 0x1400
[  463.532368] reg04 = 0x0de1
[  463.537368] reg05 = 0x0081
[  463.542369] reg06 = 0x0064
[  463.547367] reg07 = 0x2801
[  463.552368] reg08 = 0x0000
[  463.557367] reg09 = 0x0000
[  463.562368] reg10 = 0x0000
[  463.567368] reg11 = 0x0000
[  463.572368] reg12 = 0x0000
[  463.577368] reg13 = 0x0000
[  463.582368] reg14 = 0x0000
[  463.587368] reg15 = 0x0000
[  463.592368] reg16 = 0x01d4
[  463.597368] reg17 = 0x8510
[  463.602368] reg18 = 0x2a1a
[  463.607369] reg19 = 0x403a
[  463.612368] reg20 = 0x5046
[  463.617368] reg21 = 0x5156
[  463.622368] reg22 = 0xc069
[  463.627368] reg23 = 0x008c
[  463.632368] reg24 = 0x0020
[  463.637368] reg25 = 0x2405
[  463.642368] reg26 = 0x0011
[  463.647367] reg27 = 0x2067
[  463.652368] reg28 = 0x0fff
[  463.657368] reg29 = 0x0000
[  463.662368] reg30 = 0x0015
[  463.667368] reg31 = 0x0300
[  463.670076] ---------------
[  463.672877] --------Page:4 -------
[  463.682367] reg00 = 0x3100
[  463.687368] reg01 = 0x79c9
[  463.692368] reg02 = 0x0044
[  463.697367] reg03 = 0x1400
[  463.702368] reg04 = 0x0de1
[  463.707368] reg05 = 0x00d8
[  463.712368] reg06 = 0x0064
[  463.717368] reg07 = 0x2801
[  463.722368] reg08 = 0x0000
[  463.727368] reg09 = 0x0000
[  463.732368] reg10 = 0x0000
[  463.737370] reg11 = 0x0000
[  463.742368] reg12 = 0x0000
[  463.747368] reg13 = 0x0000
[  463.752367] reg14 = 0x0000
[  463.757368] reg15 = 0x0000
[  463.762368] reg16 = 0x0000
[  463.767368] reg17 = 0x0000
[  463.772368] reg18 = 0x0000
[  463.777368] reg19 = 0x0000
[  463.782368] reg20 = 0x0000
[  463.787367] reg21 = 0x0000
[  463.792368] reg22 = 0x0000
[  463.797368] reg23 = 0x0000
[  463.802368] reg24 = 0x0000
[  463.807368] reg25 = 0x0000
[  463.812368] reg26 = 0x0000
[  463.817368] reg27 = 0x0000
[  463.822367] reg28 = 0x0000
[  463.827368] reg29 = 0x0000
[  463.832367] reg30 = 0x0000
[  463.837368] reg31 = 0x0400
[  463.840076] ---------------
[  463.842877] --------Page:5 -------
[  463.852367] reg00 = 0x3100
[  463.857368] reg01 = 0x79c9
[  463.862368] reg02 = 0x0044
[  463.867370] reg03 = 0x1400
[  463.872368] reg04 = 0x0de1
[  463.877368] reg05 = 0x0008
[  463.882396] reg06 = 0x0064
[  463.887369] reg07 = 0x2801
[  463.892368] reg08 = 0x0000
[  463.897384] reg09 = 0x0000
[  463.902368] reg10 = 0x0000
[  463.907368] reg11 = 0x0000
[  463.912380] reg12 = 0x0000
[  463.917368] reg13 = 0x0000
[  463.922374] reg14 = 0x0000
[  463.927368] reg15 = 0x0000
[  463.932368] reg16 = 0x0000
[  463.937385] reg17 = 0x0000
[  463.942369] reg18 = 0x0000
[  463.947368] reg19 = 0x0000
[  463.952380] reg20 = 0x0000
[  463.957381] reg21 = 0x0000
[  463.962380] reg22 = 0x0000
[  463.967375] reg23 = 0x0000
[  463.972369] reg24 = 0x0000
[  463.977368] reg25 = 0x0000
[  463.982403] reg26 = 0x0000
[  463.987369] reg27 = 0x0000
[  463.992369] reg28 = 0x0000
[  463.998377] reg29 = 0x0000
[  464.002368] reg30 = 0x0000
[  464.007368] reg31 = 0x0500
[  464.010076] ---------------
[  464.012877] --------Page:6 -------
[  464.022368] reg00 = 0x3100
[  464.027368] reg01 = 0x79c9
[  464.032368] reg02 = 0x0044
[  464.037368] reg03 = 0x1400
[  464.042368] reg04 = 0x0de1
[  464.047368] reg05 = 0x0008
[  464.052368] reg06 = 0x0064
[  464.057368] reg07 = 0x2801
[  464.062368] reg08 = 0x0000
[  464.067368] reg09 = 0x0000
[  464.072367] reg10 = 0x0000
[  464.077368] reg11 = 0x0000
[  464.082368] reg12 = 0x0000
[  464.087368] reg13 = 0x0000
[  464.092367] reg14 = 0x0000
[  464.097368] reg15 = 0x0000
[  464.102368] reg16 = 0x5563
[  464.107368] reg17 = 0x0370
[  464.112368] reg18 = 0x0400
[  464.117368] reg19 = 0x8000
[  464.122367] reg20 = 0x7088
[  464.127370] reg21 = 0x0020
[  464.132368] reg22 = 0x0000
[  464.137368] reg23 = 0x05c2
[  464.142367] reg24 = 0x5555
[  464.147368] reg25 = 0x0300
[  464.152368] reg26 = 0x0000
[  464.157368] reg27 = 0x8888
[  464.162368] reg28 = 0x8888
[  464.167367] reg29 = 0x0000
[  464.172368] reg30 = 0x7700
[  464.177368] reg31 = 0x0600
[  464.180076] ---------------
[  464.182877] --------Page:7 -------
[  464.192367] reg00 = 0x3100
[  464.197368] reg01 = 0x79c9
[  464.202368] reg02 = 0x0044
[  464.207368] reg03 = 0x1400
[  464.212368] reg04 = 0x0de1
[  464.217368] reg05 = 0x0020
[  464.222367] reg06 = 0x0064
[  464.227368] reg07 = 0x2801
[  464.232368] reg08 = 0x0000
[  464.237367] reg09 = 0x0000
[  464.242367] reg10 = 0x0000
[  464.247368] reg11 = 0x0000
[  464.252368] reg12 = 0x0000
[  464.257369] reg13 = 0x0000
[  464.262367] reg14 = 0x0000
[  464.267367] reg15 = 0x0000
[  464.272368] reg16 = 0x0000
[  464.277368] reg17 = 0x0000
[  464.282368] reg18 = 0x0000
[  464.287367] reg19 = 0x0000
[  464.292367] reg20 = 0x0000
[  464.297368] reg21 = 0x0000
[  464.302368] reg22 = 0x0000
[  464.307368] reg23 = 0x0000
[  464.312367] reg24 = 0x0000
[  464.317368] reg25 = 0x0000
[  464.322367] reg26 = 0x0000
[  464.327368] reg27 = 0x0000
[  464.332368] reg28 = 0x0000
[  464.337368] reg29 = 0x0000
[  464.342368] reg30 = 0x0000
[  464.347368] reg31 = 0x0700
[  464.350077] ---------------
[  464.352877] --------Page:8 -------
[  464.362368] reg00 = 0x3100
[  464.367368] reg01 = 0x79c9
[  464.372367] reg02 = 0x0044
[  464.377368] reg03 = 0x1400
[  464.382368] reg04 = 0x0de1
[  464.387370] reg05 = 0x0020
[  464.392367] reg06 = 0x0064
[  464.397368] reg07 = 0x2801
[  464.402367] reg08 = 0x0000
[  464.407368] reg09 = 0x0000
[  464.412367] reg10 = 0x0000
[  464.417368] reg11 = 0x0000
[  464.422368] reg12 = 0x0000
[  464.427368] reg13 = 0x0000
[  464.432367] reg14 = 0x0000
[  464.437368] reg15 = 0x0000
[  464.442368] reg16 = 0x0000
[  464.447368] reg17 = 0x0000
[  464.452368] reg18 = 0x0000
[  464.457368] reg19 = 0x88a6
[  464.462367] reg20 = 0x0000
[  464.467368] reg21 = 0x0000
[  464.472368] reg22 = 0x0f44
[  464.477368] reg23 = 0x8040
[  464.482368] reg24 = 0x0007
[  464.487368] reg25 = 0x8f6f
[  464.492367] reg26 = 0x1700
[  464.497368] reg27 = 0x0000
[  464.502368] reg28 = 0x0016
[  464.507368] reg29 = 0x0044
[  464.512368] reg30 = 0x0f00
[  464.517370] reg31 = 0x0800
[  464.520078] ---------------
[  464.522879] --------Page:9 -------
[  464.532367] reg00 = 0x3100
[  464.537368] reg01 = 0x79c9
[  464.542368] reg02 = 0x0044
[  464.547368] reg03 = 0x1400
[  464.552368] reg04 = 0x0de1
[  464.557368] reg05 = 0x0008
[  464.562368] reg06 = 0x0064
[  464.567368] reg07 = 0x2801
[  464.572368] reg08 = 0x0000
[  464.577367] reg09 = 0x0000
[  464.582367] reg10 = 0x0000
[  464.587368] reg11 = 0x0000
[  464.592367] reg12 = 0x0000
[  464.597368] reg13 = 0x0000
[  464.602367] reg14 = 0x0000
[  464.607368] reg15 = 0x0000
[  464.612367] reg16 = 0x0000
[  464.617368] reg17 = 0x0000
[  464.622367] reg18 = 0x0000
[  464.627368] reg19 = 0x0000
[  464.632367] reg20 = 0x0000
[  464.637368] reg21 = 0x0000
[  464.642367] reg22 = 0x0000
[  464.647369] reg23 = 0x0000
[  464.652368] reg24 = 0x0000
[  464.657367] reg25 = 0x0000
[  464.662367] reg26 = 0x0000
[  464.667368] reg27 = 0x0000
[  464.672368] reg28 = 0x0000
[  464.677368] reg29 = 0x0000
[  464.682368] reg30 = 0x0000
[  464.687368] reg31 = 0x0900
[  464.690076] ---------------
[  464.692876] ------EPHY REGs DUMP End----------
grep: /sys/devices/platform/soc/104e0000.sdhc/mmc_host/mmc0/reset: Permission denied
grep: /sys/devices/platform/soc/104e0000.sdhc/mmc_host/mmc0/power_control: Permission denied
grep: /sys/devices/platform/soc/4851000.i2c/i2c-1/delete_device: Permission denied
grep: /sys/devices/platform/soc/4851000.i2c/i2c-1/new_device: Permission denied
grep: /sys/devices/platform/soc/6062000.pwm2/pwm/pwmchip8/export: Permission denied
grep: /sys/devices/platform/soc/6062000.pwm2/pwm/pwmchip8/unexport: Permission denied
grep: /sys/devices/platform/soc/4850000.i2c/i2c-0/delete_device: Permission denied
grep: /sys/devices/platform/soc/4850000.i2c/i2c-0/new_device: Permission denied
grep: /sys/devices/system/clockevents/clockevent0/unbind_device: Permission denied
grep: /sys/devices/system/clockevents/clockevent1/unbind_device: Permission denied
grep: /sys/devices/system/clocksource/clocksource0/unbind_clocksource: Permission denied
grep: /sys/devices/virtual/thermal/thermal_zone0/emul_temp: Permission denied
grep: /sys/class/gpio/export: Permission denied
grep: /sys/class/gpio/unexport: Permission denied
grep: /sys/bus/clockevents/drivers_probe: Permission denied
grep: /sys/bus/clockevents/uevent: Permission denied
grep: /sys/bus/platform/drivers_probe: Permission denied
grep: /sys/bus/platform/uevent: Permission denied
grep: /sys/bus/platform/drivers/axera_dma/bind: Permission denied
grep: /sys/bus/platform/drivers/axera_dma/unbind: Permission denied
grep: /sys/bus/platform/drivers/axera_dma/uevent: Permission denied
grep: /sys/bus/platform/drivers/ax_thermal/bind: Permission denied
grep: /sys/bus/platform/drivers/ax_thermal/unbind: Permission denied
grep: /sys/bus/platform/drivers/ax_thermal/uevent: Permission denied
grep: /sys/bus/platform/drivers/asoc-simple-card/bind: Permission denied
grep: /sys/bus/platform/drivers/asoc-simple-card/unbind: Permission denied
grep: /sys/bus/platform/drivers/asoc-simple-card/uevent: Permission denied
grep: /sys/bus/platform/drivers/ax-dma/bind: Permission denied
grep: /sys/bus/platform/drivers/ax-dma/unbind: Permission denied
grep: /sys/bus/platform/drivers/ax-dma/uevent: Permission denied
grep: /sys/bus/platform/drivers/gpio-dwapb/bind: Permission denied
grep: /sys/bus/platform/drivers/gpio-dwapb/unbind: Permission denied
grep: /sys/bus/platform/drivers/gpio-dwapb/uevent: Permission denied
grep: /sys/bus/platform/drivers/pwrseq_simple/bind: Permission denied
grep: /sys/bus/platform/drivers/pwrseq_simple/unbind: Permission denied
grep: /sys/bus/platform/drivers/pwrseq_simple/uevent: Permission denied
grep: /sys/bus/platform/drivers/ax-adc/bind: Permission denied
grep: /sys/bus/platform/drivers/ax-adc/unbind: Permission denied
grep: /sys/bus/platform/drivers/ax-adc/uevent: Permission denied
grep: /sys/bus/platform/drivers/ax_pinmux/bind: Permission denied
grep: /sys/bus/platform/drivers/ax_pinmux/unbind: Permission denied
grep: /sys/bus/platform/drivers/ax_pinmux/uevent: Permission denied
grep: /sys/bus/platform/drivers/dw_spi_mmio/bind: Permission denied
grep: /sys/bus/platform/drivers/dw_spi_mmio/unbind: Permission denied
grep: /sys/bus/platform/drivers/dw_spi_mmio/uevent: Permission denied
grep: /sys/bus/platform/drivers/i2c_designware/bind: Permission denied
grep: /sys/bus/platform/drivers/i2c_designware/unbind: Permission denied
grep: /sys/bus/platform/drivers/i2c_designware/uevent: Permission denied
grep: /sys/bus/platform/drivers/of_fixed_clk/bind: Permission denied
grep: /sys/bus/platform/drivers/of_fixed_clk/unbind: Permission denied
grep: /sys/bus/platform/drivers/of_fixed_clk/uevent: Permission denied
grep: /sys/bus/platform/drivers/designware-i2s/bind: Permission denied
grep: /sys/bus/platform/drivers/designware-i2s/unbind: Permission denied
grep: /sys/bus/platform/drivers/designware-i2s/uevent: Permission denied
grep: /sys/bus/platform/drivers/alarmtimer/bind: Permission denied
grep: /sys/bus/platform/drivers/alarmtimer/unbind: Permission denied
grep: /sys/bus/platform/drivers/alarmtimer/uevent: Permission denied
grep: /sys/bus/platform/drivers/ax_gzipd/bind: Permission denied
grep: /sys/bus/platform/drivers/ax_gzipd/unbind: Permission denied
grep: /sys/bus/platform/drivers/ax_gzipd/uevent: Permission denied
grep: /sys/bus/platform/drivers/ax_sysmap/bind: Permission denied
grep: /sys/bus/platform/drivers/ax_sysmap/unbind: Permission denied
grep: /sys/bus/platform/drivers/ax_sysmap/uevent: Permission denied
grep: /sys/bus/platform/drivers/sdhci-axera/bind: Permission denied
grep: /sys/bus/platform/drivers/sdhci-axera/unbind: Permission denied
grep: /sys/bus/platform/drivers/sdhci-axera/uevent: Permission denied
grep: /sys/bus/platform/drivers/soc-audio/bind: Permission denied
grep: /sys/bus/platform/drivers/soc-audio/unbind: Permission denied
grep: /sys/bus/platform/drivers/soc-audio/uevent: Permission denied
grep: /sys/bus/platform/drivers/axera-dfs/bind: Permission denied
grep: /sys/bus/platform/drivers/axera-dfs/unbind: Permission denied
grep: /sys/bus/platform/drivers/axera-dfs/uevent: Permission denied
grep: /sys/bus/platform/drivers/axera-pwm/bind: Permission denied
grep: /sys/bus/platform/drivers/axera-pwm/unbind: Permission denied
grep: /sys/bus/platform/drivers/axera-pwm/uevent: Permission denied
grep: /sys/bus/platform/drivers/rtc_axera/bind: Permission denied
grep: /sys/bus/platform/drivers/rtc_axera/unbind: Permission denied
grep: /sys/bus/platform/drivers/rtc_axera/uevent: Permission denied
grep: /sys/bus/platform/drivers/ax_wdt/bind: Permission denied
grep: /sys/bus/platform/drivers/ax_wdt/unbind: Permission denied
grep: /sys/bus/platform/drivers/ax_wdt/uevent: Permission denied
grep: /sys/bus/platform/drivers/axera_hrtimer/bind: Permission denied
grep: /sys/bus/platform/drivers/axera_hrtimer/unbind: Permission denied
grep: /sys/bus/platform/drivers/axera_hrtimer/uevent: Permission denied
grep: /sys/bus/platform/drivers/dw_ahb_spi_mmio/bind: Permission denied
grep: /sys/bus/platform/drivers/dw_ahb_spi_mmio/unbind: Permission denied
grep: /sys/bus/platform/drivers/dw_ahb_spi_mmio/uevent: Permission denied
grep: /sys/bus/platform/drivers/wake_timer/bind: Permission denied
grep: /sys/bus/platform/drivers/wake_timer/unbind: Permission denied
grep: /sys/bus/platform/drivers/wake_timer/uevent: Permission denied
grep: /sys/bus/platform/drivers/designware-tdm/bind: Permission denied
grep: /sys/bus/platform/drivers/designware-tdm/unbind: Permission denied
grep: /sys/bus/platform/drivers/designware-tdm/uevent: Permission denied
grep: /sys/bus/platform/drivers/axera-pinctrl/bind: Permission denied
grep: /sys/bus/platform/drivers/axera-pinctrl/unbind: Permission denied
grep: /sys/bus/platform/drivers/axera-pinctrl/uevent: Permission denied
grep: /sys/bus/platform/drivers/gpio-clk/bind: Permission denied
grep: /sys/bus/platform/drivers/gpio-clk/unbind: Permission denied
grep: /sys/bus/platform/drivers/gpio-clk/uevent: Permission denied
grep: /sys/bus/platform/drivers/dma_per/bind: Permission denied
grep: /sys/bus/platform/drivers/dma_per/unbind: Permission denied
grep: /sys/bus/platform/drivers/dma_per/uevent: Permission denied
grep: /sys/bus/platform/drivers/ax_bw_limiter/bind: Permission denied
grep: /sys/bus/platform/drivers/ax_bw_limiter/unbind: Permission denied
grep: /sys/bus/platform/drivers/ax_bw_limiter/uevent: Permission denied
grep: /sys/bus/platform/drivers/dw-apb-uart/bind: Permission denied
grep: /sys/bus/platform/drivers/dw-apb-uart/unbind: Permission denied
grep: /sys/bus/platform/drivers/dw-apb-uart/uevent: Permission denied
grep: /sys/bus/platform/drivers/ax-gpio/uevent: Permission denied
grep: /sys/bus/platform/drivers/xhci-hcd/bind: Permission denied
grep: /sys/bus/platform/drivers/xhci-hcd/unbind: Permission denied
grep: /sys/bus/platform/drivers/xhci-hcd/uevent: Permission denied
grep: /sys/bus/platform/drivers/ax_hwinfo/bind: Permission denied
grep: /sys/bus/platform/drivers/ax_hwinfo/unbind: Permission denied
grep: /sys/bus/platform/drivers/ax_hwinfo/uevent: Permission denied
grep: /sys/bus/platform/drivers/syscon/bind: Permission denied
grep: /sys/bus/platform/drivers/syscon/unbind: Permission denied
grep: /sys/bus/platform/drivers/syscon/uevent: Permission denied
grep: /sys/bus/platform/drivers/of_fixed_factor_clk/bind: Permission denied
grep: /sys/bus/platform/drivers/of_fixed_factor_clk/unbind: Permission denied
grep: /sys/bus/platform/drivers/of_fixed_factor_clk/uevent: Permission denied
grep: /sys/bus/platform/drivers/snd-soc-dummy/bind: Permission denied
grep: /sys/bus/platform/drivers/snd-soc-dummy/unbind: Permission denied
grep: /sys/bus/platform/drivers/snd-soc-dummy/uevent: Permission denied
grep: /sys/bus/platform/drivers/extcon-usb-gpio/bind: Permission denied
grep: /sys/bus/platform/drivers/extcon-usb-gpio/unbind: Permission denied
grep: /sys/bus/platform/drivers/extcon-usb-gpio/uevent: Permission denied
grep: /sys/bus/platform/drivers/ramoops/bind: Permission denied
grep: /sys/bus/platform/drivers/ramoops/unbind: Permission denied
grep: /sys/bus/platform/drivers/ramoops/uevent: Permission denied
grep: /sys/bus/platform/drivers/serial8250/bind: Permission denied
grep: /sys/bus/platform/drivers/serial8250/unbind: Permission denied
grep: /sys/bus/platform/drivers/serial8250/uevent: Permission denied
grep: /sys/bus/platform/drivers/designware-actt/bind: Permission denied
grep: /sys/bus/platform/drivers/designware-actt/unbind: Permission denied
grep: /sys/bus/platform/drivers/designware-actt/uevent: Permission denied
grep: /sys/bus/platform/drivers/axera dwc3/bind: Permission denied
grep: /sys/bus/platform/drivers/axera dwc3/unbind: Permission denied
grep: /sys/bus/platform/drivers/axera dwc3/uevent: Permission denied
grep: /sys/bus/platform/drivers/pwrseq_emmc/bind: Permission denied
grep: /sys/bus/platform/drivers/pwrseq_emmc/unbind: Permission denied
grep: /sys/bus/platform/drivers/pwrseq_emmc/uevent: Permission denied
grep: /sys/bus/platform/drivers/dwc3/bind: Permission denied
grep: /sys/bus/platform/drivers/dwc3/unbind: Permission denied
grep: /sys/bus/platform/drivers/dwc3/uevent: Permission denied
grep: /sys/bus/platform/drivers/pinctrl-single/bind: Permission denied
grep: /sys/bus/platform/drivers/pinctrl-single/unbind: Permission denied
grep: /sys/bus/platform/drivers/pinctrl-single/uevent: Permission denied
grep: /sys/bus/platform/drivers/ax-apb-uart/bind: Permission denied
grep: /sys/bus/platform/drivers/ax-apb-uart/unbind: Permission denied
grep: /sys/bus/platform/drivers/ax-apb-uart/uevent: Permission denied
grep: /sys/bus/platform/drivers/basic-mmio-gpio/bind: Permission denied
grep: /sys/bus/platform/drivers/basic-mmio-gpio/unbind: Permission denied
grep: /sys/bus/platform/drivers/basic-mmio-gpio/uevent: Permission denied
grep: /sys/bus/platform/drivers/stmmaceth/bind: Permission denied
grep: /sys/bus/platform/drivers/stmmaceth/unbind: Permission denied
grep: /sys/bus/platform/drivers/stmmaceth/uevent: Permission denied
grep: /sys/bus/platform/drivers/axera-reset/bind: Permission denied
grep: /sys/bus/platform/drivers/axera-reset/unbind: Permission denied
grep: /sys/bus/platform/drivers/axera-reset/uevent: Permission denied
grep: /sys/bus/axosalBus/drivers_probe: Permission denied
grep: /sys/bus/axosalBus/uevent: Permission denied
grep: /sys/bus/serio/drivers_probe: Permission denied
grep: /sys/bus/serio/uevent: Permission denied
grep: /sys/bus/iio/drivers_probe: Permission denied
grep: /sys/bus/iio/uevent: Permission denied
grep: /sys/bus/gpio/drivers_probe: Permission denied
grep: /sys/bus/gpio/uevent: Permission denied
grep: /sys/bus/mdio_bus/drivers_probe: Permission denied
grep: /sys/bus/mdio_bus/uevent: Permission denied
grep: /sys/bus/mdio_bus/drivers/Generic PHY/bind: Permission denied
grep: /sys/bus/mdio_bus/drivers/Generic PHY/unbind: Permission denied
grep: /sys/bus/mdio_bus/drivers/Generic PHY/uevent: Permission denied
grep: /sys/bus/mdio_bus/drivers/JL1xxx Fast Ethernet/bind: Permission denied
grep: /sys/bus/mdio_bus/drivers/JL1xxx Fast Ethernet/unbind: Permission denied
grep: /sys/bus/mdio_bus/drivers/JL1xxx Fast Ethernet/uevent: Permission denied
grep: /sys/bus/mdio_bus/drivers/AX620E Fast Ethernet/bind: Permission denied
grep: /sys/bus/mdio_bus/drivers/AX620E Fast Ethernet/unbind: Permission denied
grep: /sys/bus/mdio_bus/drivers/AX620E Fast Ethernet/uevent: Permission denied
grep: /sys/bus/mdio_bus/drivers/Generic 10G PHY/bind: Permission denied
grep: /sys/bus/mdio_bus/drivers/Generic 10G PHY/unbind: Permission denied
grep: /sys/bus/mdio_bus/drivers/Generic 10G PHY/uevent: Permission denied
grep: /sys/bus/mdio_bus/drivers/JL2xxx Gigabit Ethernet/bind: Permission denied
grep: /sys/bus/mdio_bus/drivers/JL2xxx Gigabit Ethernet/unbind: Permission denied
grep: /sys/bus/mdio_bus/drivers/JL2xxx Gigabit Ethernet/uevent: Permission denied
grep: /sys/bus/cpu/drivers_probe: Permission denied
grep: /sys/bus/cpu/uevent: Permission denied
grep: /sys/bus/mmc/drivers_probe: Permission denied
grep: /sys/bus/mmc/uevent: Permission denied
grep: /sys/bus/mmc/drivers/mmcblk/bind: Permission denied
grep: /sys/bus/mmc/drivers/mmcblk/unbind: Permission denied
grep: /sys/bus/mmc/drivers/mmcblk/uevent: Permission denied
grep: /sys/bus/scsi/drivers_probe: Permission denied
grep: /sys/bus/scsi/uevent: Permission denied
grep: /sys/bus/scsi/drivers/sd/bind: Permission denied
grep: /sys/bus/scsi/drivers/sd/unbind: Permission denied
grep: /sys/bus/scsi/drivers/sd/uevent: Permission denied
grep: /sys/bus/mmc_rpmb/drivers_probe: Permission denied
grep: /sys/bus/mmc_rpmb/uevent: Permission denied
grep: /sys/bus/spi/drivers_probe: Permission denied
grep: /sys/bus/spi/uevent: Permission denied
grep: /sys/bus/spi/drivers/spidev/bind: Permission denied
grep: /sys/bus/spi/drivers/spidev/unbind: Permission denied
grep: /sys/bus/spi/drivers/spidev/uevent: Permission denied
grep: /sys/bus/spi/drivers/spi-nand/bind: Permission denied
grep: /sys/bus/spi/drivers/spi-nand/unbind: Permission denied
grep: /sys/bus/spi/drivers/spi-nand/uevent: Permission denied
grep: /sys/bus/clocksource/drivers_probe: Permission denied
grep: /sys/bus/clocksource/uevent: Permission denied
grep: /sys/bus/hid/drivers_probe: Permission denied
grep: /sys/bus/hid/uevent: Permission denied
grep: /sys/bus/hid/drivers/gyration/bind: Permission denied
grep: /sys/bus/hid/drivers/gyration/unbind: Permission denied
grep: /sys/bus/hid/drivers/gyration/uevent: Permission denied
grep: /sys/bus/hid/drivers/gyration/new_id: Permission denied
grep: /sys/bus/hid/drivers/monterey/bind: Permission denied
grep: /sys/bus/hid/drivers/monterey/unbind: Permission denied
grep: /sys/bus/hid/drivers/monterey/uevent: Permission denied
grep: /sys/bus/hid/drivers/monterey/new_id: Permission denied
grep: /sys/bus/hid/drivers/a4tech/bind: Permission denied
grep: /sys/bus/hid/drivers/a4tech/unbind: Permission denied
grep: /sys/bus/hid/drivers/a4tech/uevent: Permission denied
grep: /sys/bus/hid/drivers/a4tech/new_id: Permission denied
grep: /sys/bus/hid/drivers/logitech/bind: Permission denied
grep: /sys/bus/hid/drivers/logitech/unbind: Permission denied
grep: /sys/bus/hid/drivers/logitech/uevent: Permission denied
grep: /sys/bus/hid/drivers/logitech/new_id: Permission denied
grep: /sys/bus/hid/drivers/twinhan/bind: Permission denied
grep: /sys/bus/hid/drivers/twinhan/unbind: Permission denied
grep: /sys/bus/hid/drivers/twinhan/uevent: Permission denied
grep: /sys/bus/hid/drivers/twinhan/new_id: Permission denied
grep: /sys/bus/hid/drivers/thrustmaster/bind: Permission denied
grep: /sys/bus/hid/drivers/thrustmaster/unbind: Permission denied
grep: /sys/bus/hid/drivers/thrustmaster/uevent: Permission denied
grep: /sys/bus/hid/drivers/thrustmaster/new_id: Permission denied
grep: /sys/bus/hid/drivers/hid-generic/bind: Permission denied
grep: /sys/bus/hid/drivers/hid-generic/unbind: Permission denied
grep: /sys/bus/hid/drivers/hid-generic/uevent: Permission denied
grep: /sys/bus/hid/drivers/hid-generic/new_id: Permission denied
grep: /sys/bus/hid/drivers/pantherlord/bind: Permission denied
grep: /sys/bus/hid/drivers/pantherlord/unbind: Permission denied
grep: /sys/bus/hid/drivers/pantherlord/uevent: Permission denied
grep: /sys/bus/hid/drivers/pantherlord/new_id: Permission denied
grep: /sys/bus/hid/drivers/dragonrise/bind: Permission denied
grep: /sys/bus/hid/drivers/dragonrise/unbind: Permission denied
grep: /sys/bus/hid/drivers/dragonrise/uevent: Permission denied
grep: /sys/bus/hid/drivers/dragonrise/new_id: Permission denied
grep: /sys/bus/hid/drivers/greenasia/bind: Permission denied
grep: /sys/bus/hid/drivers/greenasia/unbind: Permission denied
grep: /sys/bus/hid/drivers/greenasia/uevent: Permission denied
grep: /sys/bus/hid/drivers/greenasia/new_id: Permission denied
grep: /sys/bus/hid/drivers/smartjoyplus/bind: Permission denied
grep: /sys/bus/hid/drivers/smartjoyplus/unbind: Permission denied
grep: /sys/bus/hid/drivers/smartjoyplus/uevent: Permission denied
grep: /sys/bus/hid/drivers/smartjoyplus/new_id: Permission denied
grep: /sys/bus/hid/drivers/topseed/bind: Permission denied
grep: /sys/bus/hid/drivers/topseed/unbind: Permission denied
grep: /sys/bus/hid/drivers/topseed/uevent: Permission denied
grep: /sys/bus/hid/drivers/topseed/new_id: Permission denied
grep: /sys/bus/hid/drivers/samsung/bind: Permission denied
grep: /sys/bus/hid/drivers/samsung/unbind: Permission denied
grep: /sys/bus/hid/drivers/samsung/uevent: Permission denied
grep: /sys/bus/hid/drivers/samsung/new_id: Permission denied
grep: /sys/bus/hid/drivers/belkin/bind: Permission denied
grep: /sys/bus/hid/drivers/belkin/unbind: Permission denied
grep: /sys/bus/hid/drivers/belkin/uevent: Permission denied
grep: /sys/bus/hid/drivers/belkin/new_id: Permission denied
grep: /sys/bus/hid/drivers/ezkey/bind: Permission denied
grep: /sys/bus/hid/drivers/ezkey/unbind: Permission denied
grep: /sys/bus/hid/drivers/ezkey/uevent: Permission denied
grep: /sys/bus/hid/drivers/ezkey/new_id: Permission denied
grep: /sys/bus/hid/drivers/apple/bind: Permission denied
grep: /sys/bus/hid/drivers/apple/unbind: Permission denied
grep: /sys/bus/hid/drivers/apple/uevent: Permission denied
grep: /sys/bus/hid/drivers/apple/new_id: Permission denied
grep: /sys/bus/hid/drivers/redragon/bind: Permission denied
grep: /sys/bus/hid/drivers/redragon/unbind: Permission denied
grep: /sys/bus/hid/drivers/redragon/uevent: Permission denied
grep: /sys/bus/hid/drivers/redragon/new_id: Permission denied
grep: /sys/bus/hid/drivers/itetech/bind: Permission denied
grep: /sys/bus/hid/drivers/itetech/unbind: Permission denied
grep: /sys/bus/hid/drivers/itetech/uevent: Permission denied
grep: /sys/bus/hid/drivers/itetech/new_id: Permission denied
grep: /sys/bus/hid/drivers/kensington/bind: Permission denied
grep: /sys/bus/hid/drivers/kensington/unbind: Permission denied
grep: /sys/bus/hid/drivers/kensington/uevent: Permission denied
grep: /sys/bus/hid/drivers/kensington/new_id: Permission denied
grep: /sys/bus/hid/drivers/cherry/bind: Permission denied
grep: /sys/bus/hid/drivers/cherry/unbind: Permission denied
grep: /sys/bus/hid/drivers/cherry/uevent: Permission denied
grep: /sys/bus/hid/drivers/cherry/new_id: Permission denied
grep: /sys/bus/hid/drivers/zeroplus/bind: Permission denied
grep: /sys/bus/hid/drivers/zeroplus/unbind: Permission denied
grep: /sys/bus/hid/drivers/zeroplus/uevent: Permission denied
grep: /sys/bus/hid/drivers/zeroplus/new_id: Permission denied
grep: /sys/bus/hid/drivers/cypress/bind: Permission denied
grep: /sys/bus/hid/drivers/cypress/unbind: Permission denied
grep: /sys/bus/hid/drivers/cypress/uevent: Permission denied
grep: /sys/bus/hid/drivers/cypress/new_id: Permission denied
grep: /sys/bus/hid/drivers/petalynx/bind: Permission denied
grep: /sys/bus/hid/drivers/petalynx/unbind: Permission denied
grep: /sys/bus/hid/drivers/petalynx/uevent: Permission denied
grep: /sys/bus/hid/drivers/petalynx/new_id: Permission denied
grep: /sys/bus/hid/drivers/sunplus/bind: Permission denied
grep: /sys/bus/hid/drivers/sunplus/unbind: Permission denied
grep: /sys/bus/hid/drivers/sunplus/uevent: Permission denied
grep: /sys/bus/hid/drivers/sunplus/new_id: Permission denied
grep: /sys/bus/hid/drivers/microsoft/bind: Permission denied
grep: /sys/bus/hid/drivers/microsoft/unbind: Permission denied
grep: /sys/bus/hid/drivers/microsoft/uevent: Permission denied
grep: /sys/bus/hid/drivers/microsoft/new_id: Permission denied
grep: /sys/bus/hid/drivers/chicony/bind: Permission denied
grep: /sys/bus/hid/drivers/chicony/unbind: Permission denied
grep: /sys/bus/hid/drivers/chicony/uevent: Permission denied
grep: /sys/bus/hid/drivers/chicony/new_id: Permission denied
grep: /sys/bus/usb/drivers_probe: Permission denied
grep: /sys/bus/usb/uevent: Permission denied
grep: /sys/bus/usb/drivers/usbfs/bind: Permission denied
grep: /sys/bus/usb/drivers/usbfs/unbind: Permission denied
grep: /sys/bus/usb/drivers/usbfs/uevent: Permission denied
grep: /sys/bus/usb/drivers/usbhid/bind: Permission denied
grep: /sys/bus/usb/drivers/usbhid/unbind: Permission denied
grep: /sys/bus/usb/drivers/usbhid/uevent: Permission denied
grep: /sys/bus/usb/drivers/usb-storage/bind: Permission denied
grep: /sys/bus/usb/drivers/usb-storage/unbind: Permission denied
grep: /sys/bus/usb/drivers/usb-storage/uevent: Permission denied
grep: /sys/bus/usb/drivers/cdc_acm/bind: Permission denied
grep: /sys/bus/usb/drivers/cdc_acm/unbind: Permission denied
grep: /sys/bus/usb/drivers/cdc_acm/uevent: Permission denied
grep: /sys/bus/usb/drivers/usb/bind: Permission denied
grep: /sys/bus/usb/drivers/usb/unbind: Permission denied
grep: /sys/bus/usb/drivers/usb/uevent: Permission denied
grep: /sys/bus/usb/drivers/hub/bind: Permission denied
grep: /sys/bus/usb/drivers/hub/unbind: Permission denied
grep: /sys/bus/usb/drivers/hub/uevent: Permission denied
grep: /sys/bus/usb/drivers/uas/bind: Permission denied
grep: /sys/bus/usb/drivers/uas/unbind: Permission denied
grep: /sys/bus/usb/drivers/uas/uevent: Permission denied
grep: /sys/bus/usb/drivers/usbserial_generic/bind: Permission denied
grep: /sys/bus/usb/drivers/usbserial_generic/unbind: Permission denied
grep: /sys/bus/usb/drivers/usbserial_generic/uevent: Permission denied
grep: /sys/bus/typec/drivers_probe: Permission denied
grep: /sys/bus/typec/uevent: Permission denied
grep: /sys/bus/sdio/drivers_probe: Permission denied
grep: /sys/bus/sdio/uevent: Permission denied
grep: /sys/bus/workqueue/drivers_probe: Permission denied
grep: /sys/bus/workqueue/uevent: Permission denied
grep: /sys/bus/usb-serial/drivers_probe: Permission denied
grep: /sys/bus/usb-serial/uevent: Permission denied
grep: /sys/bus/usb-serial/drivers/generic/uevent: Permission denied
grep: /sys/bus/container/drivers_probe: Permission denied
grep: /sys/bus/container/uevent: Permission denied
grep: /sys/bus/i2c/drivers_probe: Permission denied
grep: /sys/bus/i2c/uevent: Permission denied
grep: /sys/bus/i2c/drivers/gpio-ax/bind: Permission denied
grep: /sys/bus/i2c/drivers/gpio-ax/unbind: Permission denied
grep: /sys/bus/i2c/drivers/gpio-ax/uevent: Permission denied
grep: /sys/bus/i2c/drivers/dummy/bind: Permission denied
grep: /sys/bus/i2c/drivers/dummy/unbind: Permission denied
grep: /sys/bus/i2c/drivers/dummy/uevent: Permission denied
grep: /sys/bus/i2c/drivers/tcpci/bind: Permission denied
grep: /sys/bus/i2c/drivers/tcpci/unbind: Permission denied
grep: /sys/bus/i2c/drivers/tcpci/uevent: Permission denied
grep: /sys/module/kernel/uevent: Permission denied
grep: /sys/module/pstore/uevent: Permission denied
grep: /sys/module/l2tp_core/uevent: Permission denied
grep: /sys/module/osal_axera_misc_device/uevent: Permission denied
grep: /sys/module/rcupdate/uevent: Permission denied
grep: /sys/module/vt/uevent: Permission denied
grep: /sys/module/axera_spidev/uevent: Permission denied
grep: /sys/module/8250/uevent: Permission denied
grep: /sys/module/auth_rpcgss/uevent: Permission denied
grep: /sys/module/ax_gzipd_drv/uevent: Permission denied
grep: /sys/module/usbhid/uevent: Permission denied
grep: /sys/module/mmcblk/uevent: Permission denied
grep: /sys/module/8250_core/uevent: Permission denied
grep: /sys/module/sdhci/uevent: Permission denied
grep: /sys/module/stmmac/uevent: Permission denied
grep: /sys/module/l2tp_ppp/uevent: Permission denied
grep: /sys/module/usb_storage/uevent: Permission denied
grep: /sys/module/sysrq/uevent: Permission denied
grep: /sys/module/oprofile/uevent: Permission denied
grep: /sys/module/configfs/uevent: Permission denied
grep: /sys/module/sunrpc/uevent: Permission denied
grep: /sys/module/snd_timer/uevent: Permission denied
grep: /sys/module/hid/uevent: Permission denied
grep: /sys/module/dns_resolver/uevent: Permission denied
grep: /sys/module/cryptomgr/uevent: Permission denied
grep: /sys/module/sit/uevent: Permission denied
grep: /sys/module/ipv6/uevent: Permission denied
grep: /sys/module/null_blk/uevent: Permission denied
grep: /sys/module/spurious/uevent: Permission denied
grep: /sys/module/module/uevent: Permission denied
grep: /sys/module/watchdog/uevent: Permission denied
grep: /sys/module/lockd/uevent: Permission denied
grep: /sys/module/xz_dec/uevent: Permission denied
grep: /sys/module/hid_apple/uevent: Permission denied
grep: /sys/module/rcutree/uevent: Permission denied
grep: /sys/module/ax_printk/uevent: Permission denied
grep: /sys/module/printk/uevent: Permission denied
grep: /sys/module/ax_bw_limiter/uevent: Permission denied
grep: /sys/module/ppp_generic/uevent: Permission denied
grep: /sys/module/workqueue/uevent: Permission denied
grep: /sys/module/srcutree/uevent: Permission denied
grep: /sys/module/ubi/uevent: Permission denied
grep: /sys/module/snd/uevent: Permission denied
grep: /sys/module/usbcore/uevent: Permission denied
grep: /sys/module/firmware_class/uevent: Permission denied
grep: /sys/module/block/uevent: Permission denied
grep: /sys/module/ramoops/uevent: Permission denied
grep: /sys/module/ip6_tunnel/uevent: Permission denied
grep: /sys/module/keyboard/uevent: Permission denied
grep: /sys/module/tcp_cubic/uevent: Permission denied
grep: /sys/module/scsi_mod/uevent: Permission denied
grep: /sys/module/snd_pcm/uevent: Permission denied
grep: /sys/module/ubifs/uevent: Permission denied
grep: /sys/module/nfs/uevent: Permission denied
grep: /sys/module/random/uevent: Permission denied
grep: /sys/module/xhci_hcd/uevent: Permission denied
grep: /proc/sys/net/ipv4/route/flush: Permission denied
[  471.001163] ICMPv6: process `grep' is using deprecated sysctl (syscall) net.ipv6.neigh.default.base_reachable_time - use net.ipv6.neigh.default.base_reachable_time_ms instead
grep: /proc/sys/net/ipv6/route/flush: Permission denied
grep: /proc/sys/vm/compact_memory: Permission denied
grep: /proc/sys/vm/drop_caches: Permission denied
^C
root@(none):/etc/init.d# ^C

root@(none):/etc/init.d# ^C

root@(none):/etc/init.d# [H[Jroot@(none):/etc/init.d# [Jgrep -r "verify signature fail" /
grep: /program/bin/libs/lib_hiawb.so: No such file or directory
grep: /program/bin/libs/libisp.so: No such file or directory
grep: /program/bin/libs/lib_hiae.so: No such file or directory
grep: /program/bin/libs/lib_hiaf.so: No such file or directory
grep: /program/bin/libs/libmpi.so: No such file or directory
grep: /program/bin/libs/lib_hidefog.so: No such file or directory
grep: /program/bin/libs/lib_iniparser.so: No such file or directory
^C
root@(none):/etc/init.d# root@(none):/etc/init.d# grep -r "verify signature fail" /[J[J.
./rcS:				echo "verify signature fail, exit!"
root@(none):/etc/init.d# cat ./rcroot@(none):/etc/init.d# cat ./rcS [J
#!/bin/sh

for initscript in /etc/init.d/S[0-9]*
do
	if [ -x $initscript ] ;
	then
		echo "[RCS]: $initscript"
		$initscript
		if [ "$initscript" == "/etc/init.d/S30ambrwfs" ]; then
			cmd_output=`/usr/sbin/encrypt_sign_tool 3 /program/bin/filelist.txt /usr/sbin/program_public.key /program/bin/signature.bin`
			if [ -z "`echo $cmd_output | grep 'rsa verify ok'`" ]; then
				echo "verify signature fail, exit!"
				umount /program
				exit 1
			fi
		fi
	fi
done


echo /sbin/mdev > /proc/sys/kernel/hotplug

/sbin/mdev -s

ln -sf /tmp/ /var/log

mkdir -p /var/log/AXSyslog/kernel
mkdir -p /tmp/cron.d
cp /etc/ax_syslog.conf /var/log/AXSyslog/ax_syslog.conf

/program/bin/auto_load_all_drv.sh
mount -t pstore pstore /sys/fs/pstore
# åˆ›å»ºé“¾æŽ¥ï¼Œä¾¿äºŽæ‰§è¡Œsystemreport.shæ—¶åŒæ—¶æ”¶é›†ä¸Šæ¬¡çš„å¼‚å¸¸æ—¥å¿—
ln -sf /sys/fs/pstore /tmp/pstore

/program/bin/npu_set_bw_limiter.sh start

/etc/init.d/axsyslogd start
/etc/init.d/axklogd start
root@(none):/etc/init.d# /usr/sbin/encrypt_sign_tool 3 /program/bin/filelist.txt
 /usr/sbin/program_public.key /program/bin/signature.bin
encrypt  version : 1090102
=====================
file list file:		/program/bin/filelist.txt
rsa public file:	/usr/sbin/program_public.key
signature file:		/program/bin/signature.bin
=========
get all file sha256
signature: 
c3 aa de bc 19 47 12 94 ec 25 99 b9 13 38 12 9d e0 32 13 0d e3 e5 a6 af 26 7f 79 de 99 db 55 a0 
=========
do ras encrypt by private key, need alignment 256
auto pending 0 data in front of the data
rsa input buffer
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 c3 aa de bc 19 47 12 94 ec 25 99 b9 13 38 12 9d e0 32 13 0d e3 e5 a6 af 26 7f 79 de 99 db 55 a0 
rsa verify fail
root@(none):/etc/init.d# root@(none):/etc/init.d# /usr/sbin/encrypt_sign_tool 3 
/program/bin/filelist.txt
-/bin/sh: syntax error: unexpected word (expecting ")")
root@(none):/etc/init.d#  /usr/sbin/program_public.key /program/bin/signature.bi
n
-/bin/sh: /usr/sbin/program_public.key: Permission denied
root@(none):/etc/init.d# encrypt  version : 1090102
-/bin/sh: encrypt: not found
root@(none):/etc/init.d# =====================
-/bin/sh: =====================: not found
root@(none):/etc/init.d# file list file:/program/bin/filelist.txt
-/bin/sh: file: not found
root@(none):/etc/init.d# rsa public file:/usr/sbin/program_public.key
-/bin/sh: rsa: not found
root@(none):/etc/init.d# signature file:/program/bin/signature.bin
-/bin/sh: signature: not found
root@(none):/etc/init.d# =========
-/bin/sh: =========: not found
root@(none):/etc/init.d# get all file sha256
-/bin/sh: get: not found
root@(none):/etc/init.d# signature:
-/bin/sh: signature:: not found
root@(none):/etc/init.d# c3 aa de bc 19 47 12 94 ec 25 99 b9 13 38 12 9d e0 32 1
3 0d e3 e5 a6 af 26 7f 79 de 99 db 55 a0
-/bin/sh: c3: not found
root@(none):/etc/init.d# =========
-/bin/sh: =========: not found
root@(none):/etc/init.d# do ras encrypt by private key, need alignment 256
-/bin/sh: syntax error: unexpected "do"
root@(none):/etc/init.d# auto pending 0 data in front of the data
-/bin/sh: auto: not found
root@(none):/etc/init.d# rsa input buffer
-/bin/sh: rsa: not found
root@(none):/etc/init.d# 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0
0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0
0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0
0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 c3 aa de bc 19 47 12 94
 ec 25 99 b9 13 38 12 9d e0 32 13 0d e3 e5 a6 af 26 7f 79 de 99 db 55 a0
-/bin/sh: 00: not found
root@(none):/etc/init.d# rsa verify fail
-/bin/sh: rsa: not found
root@(none):/etc/init.d# root@(none):/etc/init.d#root@(none):/etc/init.d# /usr/s
bin/encrypt_sign_tool 3 /program/bin/filelist.txt
-/bin/sh: syntax error: unexpected word (expecting ")")
root@(none):/etc/init.d#  /usr/sbin/program_public.key /program/bin/signature.bi
n
-/bin/sh: /usr/sbin/program_public.key: Permission denied
root@(none):/etc/init.d# encrypt  version : 1090102
-/bin/sh: encrypt: not found
root@(none):/etc/init.d# =====================
-/bin/sh: =====================: not found
root@(none):/etc/init.d# file list file:/program/bin/filelist.txt
-/bin/sh: file: not found
root@(none):/etc/init.d# rsa public file:/usr/sbin/program_public.key
-/bin/sh: rsa: not found
root@(none):/etc/init.d# signature file:/program/bin/signature.bin
-/bin/sh: signature: not found
root@(none):/etc/init.d# =========
-/bin/sh: =========: not found
root@(none):/etc/init.d# get all file sha256
-/bin/sh: get: not found
root@(none):/etc/init.d# signature:
-/bin/sh: signature:: not found
root@(none):/etc/init.d# c3 aa de bc 19 47 12 94 ec 25 99 b9 13 38 12 9d e0 32 1
3 0d e3 e5 a6 af 26 7f 79 de 99 db 55 a0
-/bin/sh: c3: not found
root@(none):/etc/init.d# =========
-/bin/sh: =========: not found
root@(none):/etc/init.d# do ras encrypt by private key, need alignment 256
-/bin/sh: syntax error: unexpected "do"
root@(none):/etc/init.d# auto pending 0 data in front of the data
-/bin/sh: auto: not found
root@(none):/etc/init.d# rsa input buffer
-/bin/sh: rsa: not found
root@(none):/etc/init.d# 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0
0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0
0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0
0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 c3 aa de bc 19 47 12 94
 ec 25 99 b9 13 38 12 9d e0 32 13 0d e3 e5 a6 af 26 7f 79 de 99 db 55 a0
-/bin/sh: 00: not found
root@(none):/etc/init.d# rsa verify fail
-/bin/sh: rsa: not found
root@(none):/etc/init.d# root@(none):/etc/init.d#root@(none):/etc/init.d# rsa verify fail[Jroot@(none):/etc/init.d# 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0
0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0
0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 0
0 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 c3 aa de bc 19 47 12 94
 ec 25 99 b9 13 38 12 9d e0 32 13 0d e3 e5 a6 af 26 7f 79 de 99 db 55 a0[J[9Aroot@(none):/etc/init.d# rsa input buffer[Jroot@(none):/etc/init.d# auto pending 0 data in front of the data[Jroot@(none):/etc/init.d# do ras encrypt by private key, need alignment 256[J^C

root@(none):/etc/init.d# wc -c /program/bin/mwareserver
d /program/bin/mwareserver | tail -36344592 /program/bin/mwareserver
root@(none):/etc/init.d# xxd /program/bin/mwareserver | tail -3
0060cf60: 0100 0000 0000 0000 0100 0000 0300 0000  ................
0060cf70: 0000 0000 0000 0000 f9c9 6000 0d01 0000  ..........`.....
0060cf80: 0000 0000 0000 0000 0100 0000 0000 0000  ................
root@(none):/etc/init.d# csha256sum /program/bin/mwareserver
-/bin/sh: csha256sum: not found
root@(none):/etc/init.d# sha256sum /program/bin/init.sh
-/bin/sh: sha256sum: not found
root@(none):/etc/init.d# sha256sum /program/bin/mware_init.shz^C

root@(none):/etc/init.d# sha256sum
-/bin/sh: sha256sum: not found
root@(none):/etc/init.d# root@(none):/etc/init.d# sha256sum[Jroot@(none):/etc/init.d# sha256sum /program/bin/init.sh[J
-/bin/sh: sha256sum: not found
root@(none):/etc/init.d# md5sum /program/bin/mwareserver
d5sum /program/bin/init.sh
md5sum /program/bin/mware_init.sh79e22528ecead5b76542ea372ad6c29d  /program/bin/mwareserver
root@(none):/etc/init.d# md5sum /program/bin/init.sh
3dea7e60a23d16d57234db6824a5aa5c  /program/bin/init.sh
root@(none):/etc/init.d# md5sum /program/bin/mware_init.sh
88c9954c3e8c8450ecdffb5f823d2193  /program/bin/mware_init.sh
root@(none):/etc/init.d# cat /program/bin/version.ini
/program/bin/version
ls /progcat: can't open '/program/bin/version.ini': No such file or directory
root@(none):/etc/init.d# cat /program/bin/version
/version*cat: can't open '/program/bin/version': No such file or directory
root@(none):/etc/init.d# ls /program/bin/version*
ls: /program/bin/version*: No such file or directory
root@(none):/etc/init.d# strings /program/bin/mwareserver | grep -i "version" | 
head -20

wolfSSL_CTX_SetMinVersion
BP_CoordConversion
DRV_GetThermoVersionInfo
DRV_GetBoardVersion
DRV_SetScrambleVersion
DRV_GetUBootVersion
DRV_GetDrvVersion
DRV_GetRootFsVersion
DRV_GetKernelVersion
Libcloud_GetVersion
gLibNcFTPVersion
gstScrambleVersion
gastSdkVersion
version_conf
MW_PTZ_GetOutPtzVersion
trap_version_id_len
gulVersionFlag
trap_version_id
osip_message_set_mime_version
osip_protocol_version
root@(none):/etc/init.d# 
root@(none):/etc/init.d# head -3 /program/bin/systemreport.sh
c /program/bin/mwareserver /p#! /bin/sh
/bin/sh
#this shell is used in ALL-device
root@(none):/etc/init.d# wc -c /program/bin/mwareserver /program/bin/init.sh /pr
ogram/bin/mware_init.shwc -c /program/bin/mwareserver /program/bin/init.sh /prog
ram/bin/mware_init.sh
  6344592 /program/bin/mwareserver
     7252 /program/bin/init.sh
wc: /program/bin/mware_init.shwc: No such file or directory
  6344592 /program/bin/mwareserver
     7252 /program/bin/init.sh
     4809 /program/bin/mware_init.sh
 12708497 total
root@(none):/etc/init.d# vi /program/bin/sysroot@(none):/etc/init.d# vi /program/bin/systemreport.sh [J
[?1049h[999;999H[6n[H[J[1;1H#! /bin/sh[2;1H/bin/sh[3;1H#this shell is used in ALL-device[5;1HINFODIR=/tmp[6;1HCOMMONLOG=$INFODIR/diagnosesinfo.log[7;1Hconfigname="config.tgz"[8;1HBDLKLOG=/tmp/BDLKLogs[9;1HCUSTOMDIR=/calibration/customize[11;1Hrm -rf /tmp/log.tgz[12;1Hrm -rf /tmp/*config.tgz /tmp/config_a.*[13;1Hrm -rf /tmp/ipcsystemreport.tgz[14;1Hrm -rf /tmp/config_all.tgz[16;1Hcorepath=`df|grep /dev/mmcblk0p1|awk '{print $6}'`[18;1Hif [ -z "${corepath}" ]; then[19;6Hcorepath="/tmp/"[20;1Helse[21;6Hcorepath=`df|grep /dev/mmcblk0p1|awk '{print $6}'`/[22;1Hfi[24;1H#---------- proc core file -------[25;1Hexec_get_core()[26;1H{[27;9Hecho "find in $1"[28;9Hfor corenewfilename in `ls ${1}core-*`[29;9Hdo[30;17Hif [ -z "$corefilename" ]; then[31;25Hcorefilename=${corenewfilename}[32;17Helse[33;25Hif [ "$corenewfilename" -ot "$corefilename" ]; then[34;33Hcorefilename="$corenewfilename"[35;25Hfi[36;17Hfi[37;9Hdone[38;1H}[40;1Hexec_core_proc()[41;1H{[42;9Hecho "[1]Try to find core file!"[43;9Hif [ -e ${corepath} ]; then[44;17Hcorebakfilename=$(find ${corepath}* -name "corefile-*" -maxdepth 1 -print0)[46;17Hexec_get_core "${corepath}"[48;17Hif [ -z "$corefilename" ]; then[49;25Hcorefilename=${corebakfilename}[50;17Hfi[51;9Hfi[53;9Hif [ -z "$corefilename" ]; then[1;1H[54;1H[K- /program/bin/systemreport.sh 1/447 0%[1;1H[2;1H[54;1H[K- /program/bin/systemreport.sh 2/447 0%[2;1H[2;1H#this shell is used in ALL-device[3;1H                                 [4;1HINFODIR=/tmp[5;1HCOMMONLOG=$INFODIR/diagnosesinfo.log[6;1Hconfigname="config.tgz"             [7;1HBDLKLOG=/tmp/BDLKLogs  [8;1HCUSTOMDIR=/calibration/customize[9;1H                                [10;1Hrm -rf /tmp/log.tgz[11;13H*config.tgz /tmp/config_a.*[12;13Hipcsystemreport.tgz        [13;13Hconfig_all.tgz     [14;1H                          [15;1Hcorepath=`df|grep /dev/mmcblk0p1|awk '{print $6}'`[16;1H                                                  [17;1Hif [ -z "${corepath}" ]; then[18;1H     corepath="/tmp/"        [19;1Helse                 [20;1H     corepath=`df|grep /dev/mmcblk0p1|awk '{print $6}'`/[21;1Hfi                                                      [22;1H  [23;1H#---------- proc core file -------[24;1Hexec_get_core()                   [25;1H{              [26;1H        echo "find in $1"[27;9Hfor corenewfilename in `ls ${1}core-*`[28;9Hdo                                    [29;9H        if [ -z "$corefilename" ]; then[30;17H        corefilename=${corenewfilename}[31;17Helse                                   [32;17H        if [ "$corenewfilename" -ot "$corefilename" ]; then[33;25H        corefilename="$corenewfilename"            [34;25Hfi                                     [35;17Hfi        [36;9Hdone      [37;1H}           [38;1H [39;1Hexec_core_proc()[40;1H{               [41;1H        echo "[1]Try to find core file!"[42;9Hif [ -e ${corepath} ]; then     [43;9H        corebakfilename=$(find ${corepath}* -name "corefile-*" -maxdepth 1 -print0)[44;17H                                                                           [45;17Hexec_get_core "${corepath}"[46;17H                           [47;17Hif [ -z "$corefilename" ]; then[48;17H        corefilename=${corebakfilename}[49;17Hfi                                     [50;9Hfi        [51;9H  [52;9Hif [ -z "$corefilename" ]; then[53;9H        corepath="/tmp/"       [2;1H[54;1H[KDelete 1 lines (8 chars) from [D][2;1H[54;1H[K- /program/bin/systemreport.sh [Modified] 2/446 0%[2;1H[1;1H[54;1H[K- /program/bin/systemreport.sh [Modified] 1/446 0%[1;1H[2;1H                                 [3;1H#this shell is used in ALL-device[4;1H            [5;1HINFODIR=/tmp                        [6;1HCOMMONLOG=$INFODIR/diagnosesinfo.log[7;1Hconfigname="config.tgz"[8;1HBDLKLOG=/tmp/BDLKLogs           [9;1HCUSTOMDIR=/calibration/customize[10;1H                   [11;13Hlog.tgz                    [12;13H*config.tgz /tmp/config_a.*[13;13Hipcsystemreport.tgz[14;1Hrm -rf /tmp/config_all.tgz[15;1H                                                  [16;1Hcorepath=`df|grep /dev/mmcblk0p1|awk '{print $6}'`[17;1H                             [18;1Hif [ -z "${corepath}" ]; then[19;1H     corepath="/tmp/"[20;1Helse                                                    [21;1H     corepath=`df|grep /dev/mmcblk0p1|awk '{print $6}'`/[22;1Hfi[23;1H                                  [24;1H#---------- proc core file -------[25;1Hexec_get_core()[26;1H{                        [27;9Hecho "find in $1"                     [28;9Hfor corenewfilename in `ls ${1}core-*`[29;9Hdo                                     [30;17Hif [ -z "$corefilename" ]; then        [31;17H        corefilename=${corenewfilename}[32;17Helse                                                       [33;25Hif [ "$corenewfilename" -ot "$corefilename" ]; then[34;25H        corefilename="$corenewfilename"[35;17H        fi[36;9H        fi[37;1H        done[38;1H}[39;1H                [40;1Hexec_core_proc()[41;1H{                                       [42;9Hecho "[1]Try to find core file!"[43;9Hif [ -e ${corepath} ]; then                                                        [44;17Hcorebakfilename=$(find ${corepath}* -name "corefile-*" -maxdepth 1 -print0)[45;17H                           [46;17Hexec_get_core "${corepath}"[47;17H                               [48;17Hif [ -z "$corefilename" ]; then        [49;17H        corefilename=${corebakfilename}[50;9H        fi[51;9Hfi[52;9H                               [53;9Hif [ -z "$corefilename" ]; then[2;1H[54;1H[KI /program/bin/systemreport.sh [Modified] 2/447 0%[2;1H[2;1H[54;1H[K- /program/bin/systemreport.sh [Modified] 2/447 0%[2;1H[54;1H[K:wq[2;1H[2;1H[54;1H[K'/program/bin/systemreport.sh' 447L, 13600C[2;1H[54;1H[K[?1049lroot@(none):/etc/init.d# :[J[ 15  ùV3N2C0N2C0RS

U-Boot 2020.04-00011-gddf6f040-dirty (Jun 17 2024 - 18:12:02 +0800), Build: jenkins-Compile_64ä½(10.188.40.119)-7385

U-Boot code: 5C000400 -> 5C095BEC  BSS: -> 5C0BD52C
Model: AXERA AX620E_Qnand Board
DRAM:  Monitor len: 000BD12C
Ram size: 10000000
Ram top: 50000000
TLB table from 4fff0000 to 4fff4000
Reserving 756k for U-Boot at: 4ff32000
Reserving 3584k for malloc() at: 4fbb2000
Reserving 96 Bytes for Board Info at: 4fbb1fa0
Reserving 216 Bytes for Global Data at: 4fbb1ec8
Reserving 14400 Bytes for FDT at: 4fbae688

RAM Configuration:
Bank #0: 40000000 
DRAM:  256 MiB
New Stack Pointer is: 4fbae660
Relocation Offset is: f3f31c00
Relocating to 4ff32000, new gd at 4fbb1ec8, sp at 4fbae660
WARNING: Caches not enabled
ax_adc_probe
No available THERMAL device
MMC:   mmc@1B40000: 0, mmc@104E0000: 1
NAND:  128 MiB
Loading Environment from NAND... *** Warning - bad CRC, using default environment

Loading Environment from SPI Flash... unrecognized JEDEC id bytes: ff, a1, e4
uclass_get_device: Invalid bus 0 (err=-2)
In:    serial
Out:   serial
Err:   serial
Current chip type: AX620Q_CHIP
Current board type: AX620Q_LP4_DEMO_V1_1
boot_reason:0x0
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
selecting mode MMC legacy (freq : 0 MHz)
Card did not respond to voltage select!
mmc_init: -95, time 25
no sd card
enter normal boot mode
boot_info_data.mode = 7
Net:   
Warning: ethernet@0x104C0000 (eth0) using random MAC address - 46:14:5d:ce:88:ed
eth0: ethernet@0x104C0000  
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
Detected MACID:e4:f1:4c:77:66:ba
Detected ETH1 MACID:e4:f1:4c:77:66:ba
Press Ctrl+B to abort autoboot in 2 seconds
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
ax_shutdown_ephy:0x410021d1
enter do_axera_boot
reading kernel image size 0x700000 from spi nand flash ...
bondopt secureboot bit is enable:1, key_bits:2048
CACHE: Misaligned operation at range [4fbadb4c, 4fbadcd8]
total kernel image size = 6151640
>>> * kernel image verify success! * <<< 
header_info.blk_num=17, isize=6151640, osize=8629099, tile_cnt=12, last_tile_size=474568
boot cmd is :bootm 0x4e000000#conf-1
## Loading kernel from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'kernel' kernel subimage
     Description:  Axera Linux kernel
     Type:         Kernel Image
     Compression:  uncompressed
     Data Start:   0x4e0000e4
     Data Size:    8485640 Bytes = 8.1 MiB
     Architecture: ARM
     OS:           Linux
     Load Address: 0x40008000
     Entry Point:  0x40008000
   Verifying Hash Integrity ... OK
## Loading fdt from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'fdt-1' fdt subimage
     Description:  Flattened Device Tree blob
     Type:         Flat Device Tree
     Compression:  uncompressed
     Data Start:   0x4e817c9c
     Data Size:    141709 Bytes = 138.4 KiB
     Architecture: ARM
     Load Address: 0x42008000
   Verifying Hash Integrity ... OK
   Loading fdt from 0x4e817c9c to 0x42008000
   Booting using the fdt blob at 0x42008000
   Loading Kernel Image
   Using Device Tree in place at 42008000, end 4202d98c
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 4.19.125 (jenkins@root123) (gcc version 7.5.0 (Linaro GCC 7.5-2019.12)) #1 SMP PREEMPT Mon Jun 17 18:12:19 CST 2024
[    0.000000] CPU: ARMv7 Processor [410fd034] revision 4 (ARMv7), cr=50c5383d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: axera,ax620e
[    0.000000] ENC:0302C5TP;SEN:0302C4XQ;LENS:4801C0G2
[    0.000000] PROTOTYPE_NAME:IPC3624LE-ADF28K-WP
[    0.000000] chip type: 0x1
[    0.000000] memory total: 0x10000000, Media: 0x9000000
[    0.000000] earlycon: uart8250 at MMIO32 0x04880000 (options '')
[    0.000000] bootconsole [uart8250] enabled
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] On node 0 totalpages: 28672
[    0.000000]   Normal zone: 224 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 28672 pages, LIFO batch:7
[    0.000000] percpu: Embedded 18 pages/cpu s44236 r8192 d21300 u73728
[    0.000000] pcpu-alloc: s44236 r8192 d21300 u73728 alloc=18*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 28448
[    0.000000] Kernel command line: mem=112M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Memory: 104156K/114688K available (3967K kernel code, 222K rwdata, 1384K rodata, 2516K init, 396K bss, 10532K reserved, 0K cma-reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
[    0.000000]     vmalloc : 0xc7800000 - 0xff800000   ( 896 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xc7000000   ( 112 MB)
[    0.000000]     modules : 0xbf800000 - 0xc0000000   (   8 MB)
[    0.000000]       .text : 0x(ptrval) - 0x(ptrval)   (3969 kB)
[    0.000000]       .init : 0x(ptrval) - 0x(ptrval)   (2516 kB)
[    0.000000]       .data : 0x(ptrval) - 0x(ptrval)   ( 223 kB)
[    0.000000]        .bss : 0x(ptrval) - 0x(ptrval)   ( 397 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Tasks RCU enabled.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000004] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.008019] Switching to timer-based delay loop, resolution 41ns
[    0.016584] Console: colour dummy device 80x30
[    0.021059] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=120000)
[    0.031432] pid_max: default: 32768 minimum: 301
[    0.036149] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.042780] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.050233] CPU: Testing write buffer coherency: ok
[    0.055376] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091138] Setting up static identity map for 0x40008240 - 0x40008278
[    0.107705] rcu: Hierarchical SRCU implementation.
[    0.127733] smp: Bringing up secondary CPUs ...
[    0.157950] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.158048] smp: Brought up 1 node, 2 CPUs
[    0.167837] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.174032] CPU: All CPU(s) started in SVC mode.
[    0.179240] devtmpfs: initialized
[    0.210154] random: get_random_u32 called from bucket_table_alloc+0x63/0x118 with crng_init=0
[    0.218879] VFP support v0.3: implementor 41 architecture 3 part 40 variant 3 rev 4
[    0.226724] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 9556302231375000 ns
[    0.236492] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.242715] pinctrl core: initialized pinctrl subsystem
[    0.248203] NET: Registered protocol family 16
[    0.252938] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.260675] ax_pin_init ret 0 index 7
[    0.265888] console [pstore-1] enabled
[    0.269644] pstore: Registered ramoops as persistent store backend
[    0.275844] ramoops: attached 0x8000@0x41000000, ecc: 0/0
[    0.293938] SCSI subsystem initialized
[    0.297853] usbcore: registered new interface driver usbfs
[    0.303400] usbcore: registered new interface driver hub
[    0.308773] usbcore: registered new device driver usb
[    0.314466] pps_core: LinuxPPS API ver. 1 registered
[    0.319457] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.328618] PTP clock support registered
[    0.332759] Advanced Linux Sound Architecture Driver Initialized.
[    0.339950] dma_per 48a0000.dma_per: Axera DMA Peripherals Controller, 16 channels
[    0.347956] dma:ax_dma_probe:1605: done
[    0.352162] clocksource: Switched to clocksource arch_sys_counter
[    0.362822] NET: Registered protocol family 2
[    0.367659] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes)
[    0.375362] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.382358] TCP bind hash table entries: 1024 (order: 1, 8192 bytes)
[    0.388745] TCP: Hash tables configured (established 1024 bind 1024)
[    0.395169] UDP hash table entries: 256 (order: 1, 8192 bytes)
[    0.401036] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)
[    0.407414] NET: Registered protocol family 1
[    0.412063] RPC: Registered named UNIX socket transport module.
[    0.418010] RPC: Registered udp transport module.
[    0.422727] RPC: Registered tcp transport module.
[    0.427444] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.543145] workingset: timestamp_bits=30 max_order=15 bucket_order=0
[    0.553733] axera_logctl_init: of_find_compatible_node 'axera,logctl' success!!!
[    0.553740] axera_logctl_init: of_find_compatible_node config: /etc/ax_syslog.conf
[    0.561204] axera_logctl_init: logstate:1 1 len:2
[    0.573522] axera_logctl_init: loglevel:4 4 len:2
[    0.578470] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.584789] NFS: Registering the id_resolver key type
[    0.589882] Key type id_resolver registered
[    0.594079] Key type id_legacy registered
[    0.598123] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    0.607071] io scheduler noop registered (default)
[    0.611906] io scheduler mq-deadline registered
[    0.616457] io scheduler kyber registered
[    0.621691] axera-pinctrl 2300000.pinctrl: initialized pinctrl driver
[    0.631932] ax_os_mem_init
[    0.634801] [GZIP][D]: [     1][ax_gzipd_init : 730] enter ax_gzipd_init
[    0.642335] Serial: 8250/16550 driver, 5 ports, IRQ sharing disabled
[    0.649710] console [ttyS0] disabled
[    0.653355] 4880000.ax_uart: ttyS0 at MMIO 0x4880000 (irq = 20, base_baud = 13000000) is a 16550A
[    0.662281] console [ttyS0] enabled
[    0.662281] console [ttyS0] enabled
[    0.669263] bootconsole [uart8250] disabled
[    0.669263] bootconsole [uart8250] disabled
[    0.678844] null: module loaded
[    0.682525] ax_ramdisk_init:can't find ramdisk device tree node
[    0.689412] dw_spi_setup: rx_sample_dly_ns=0x6, chip->rx_sample_dly=0x3
[    0.696190] spi_master spi4: set clk_div=0x4, speed_hz=104000000, dws->max_freq=416000000
[    0.704389] spi_master spi4: set rx_sample_dly=0x3
[    0.709243] spi-nand spi4.0: FudanMicroelec SPI NAND was found.
[    0.715181] spi-nand spi4.0: 128 MiB, block size: 128 KiB, page size: 2048, OOB size: 64
[    0.723788] 13 cmdlinepart partitions found on MTD device spi4.0
[    0.729809] Creating 13 MTD partitions on "spi4.0":
[    0.734700] 0x000000000000-0x000000100000 : "spl"
[    0.740726] 0x000000100000-0x000000180000 : "ddrinit"
[    0.746599] 0x000000180000-0x000000380000 : "uboot"
[    0.753709] 0x000000380000-0x000000400000 : "env"
[    0.759258] 0x000000400000-0x000000a00000 : "calibration"
[    0.770517] 0x000000a00000-0x000000b00000 : "cliinfo"
[    0.776851] 0x000000b00000-0x000001300000 : "config"
[    0.789485] 0x000001300000-0x000001400000 : "runtime"
[    0.795817] 0x000001400000-0x000001a00000 : "cfgbak"
[    0.806622] 0x000001a00000-0x000002100000 : "kernel"
[    0.818375] 0x000002100000-0x000002180000 : "update"
[    0.824203] 0x000002180000-0x000007f80000 : "program"
[    0.915368] 0x000007f80000-0x000008000000 : "other"
[    0.921345] libphy: Fixed MDIO Bus: probed
[    0.925510] tun: Universal TUN/TAP device driver, 1.6
[    0.930804] stmmaceth 104c0000.ethernet: probe axera emac
[    0.936314] stmmaceth 104c0000.ethernet: phy-rst-gpio not configure
[    0.942618] stmmaceth 104c0000.ethernet: emac bus clock: 312MHz
[    0.948580] stmmaceth 104c0000.ethernet: emac phy clock: 25MHz
[    0.954458] stmmaceth 104c0000.ethernet: PTP rate: 50MHz
[    0.959800] stmmaceth 104c0000.ethernet: reset axera emac...
[    0.970482] stmmaceth 104c0000.ethernet: EMAC: select Inner RMII interface, value:0x00000000
[    0.979053] stmmaceth 104c0000.ethernet: User ID: 0x10, Synopsys ID: 0x52
[    0.985859] stmmaceth 104c0000.ethernet: 	DWMAC4/5
[    0.990662] stmmaceth 104c0000.ethernet: DMA HW capability register supported
[    0.997810] stmmaceth 104c0000.ethernet: RX Checksum Offload Engine supported
[    1.004956] stmmaceth 104c0000.ethernet: TX Checksum insertion supported
[    1.011667] stmmaceth 104c0000.ethernet: Wake-Up On Lan supported
[    1.017773] stmmaceth 104c0000.ethernet: TSO supported
[    1.022921] stmmaceth 104c0000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    1.030597] stmmaceth 104c0000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    1.038183] stmmaceth 104c0000.ethernet: USO feature enabled
[    1.043851] stmmaceth 104c0000.ethernet: TSO feature enabled
[    1.049599] libphy: stmmac: probed
[    1.055938] PPP generic driver version 2.4.2
[    1.060361] PPP BSD Compression module registered
[    1.065082] PPP Deflate Compression module registered
[    1.070146] NET: Registered protocol family 24
[    1.074947] axera dwc3 soc:axera_dwc3: axera usb probe
[    1.080276] axera dwc3 soc:axera_dwc3: usb bus clock: 312MHz
[    1.085966] axera dwc3 soc:axera_dwc3: axera usb clk set succeed.
[    1.092093] axera dwc3 soc:axera_dwc3: axera usb reset succeed.
[    1.098287] dwc3 8000000.dwc3: probe later.
[    1.102939] usbcore: registered new interface driver cdc_acm
[    1.108610] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters
[    1.116770] usbcore: registered new interface driver uas
[    1.122130] usbcore: registered new interface driver usb-storage
[    1.128208] usbcore: registered new interface driver usbserial_generic
[    1.134762] usbserial: USB Serial support registered for generic
[    1.176730] rtc_axera 23e0000.rtc-top: rtc core: registered 23e0000.rtc-top as rtc0
[    1.184491] i2c /dev entries driver
[    1.189458] ax_wdt:ax_wdt_drv_probe:346: done!
[    1.189795] sdhci: Secure Digital Host Controller Interface driver
[    1.200459] sdhci: Copyright(c) Pierre Ossman
[    1.204850] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.204938] sdhci-axera 104e0000.sdhc: axera sdhci probe
[    1.211178] usbcore: registered new interface driver usbhid
[    1.218139] get cd gpio failed
[    1.221424] usbhid: USB HID core driver
[    1.230154] dev->intr_type = 0
[    1.233246] dw_i2s_probe, hdmi_i2s: 0
[    1.237012] config pin_sd_misc to 0x300100
[    1.241136] dw_i2s_probe get irq is -6
[    1.244908] IIS get i2s_mclk: 12288000
[    1.248671] IIS get i2s_mclk: 12288000
[    1.252463] IIS probe OK
[    1.255044] dev->intr_type = 1
[    1.258109] dw_i2s_probe, hdmi_i2s: 0
[    1.261835] config pin_sd_misc to 0x300100
[    1.265949] dw_i2s_probe get irq is -6
[    1.269713] IIS get i2s_mclk: 12288000
[    1.273472] IIS get i2s_mclk: 12288000
[    1.277244] IIS probe OK
[    1.280121] ax_actt_probe
[    1.282803] designware-actt 23f2000.audio_codec: No cache used with register defaults set!
[    1.291175] oprofile: hardware counters not available
[    1.292248] mmc0: SDHCI controller on 104e0000.sdhc [104e0000.sdhc] using ADMA 64-bit
[    1.296246] oprofile: using timer interrupt.
[    1.304100] sdhci_cdns_read_phy_reg: phy lock successful
[    1.309000] NET: Registered protocol family 10
[    1.336351] Segment Routing with IPv6
[    1.340158] mip6: Mobile IPv6
[    1.343615] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.350286] NET: Registered protocol family 17
[    1.354830] l2tp_core: L2TP core driver, V2.0
[    1.359210] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[    1.364030] Key type dns_resolver registered
[    1.368481] Registering SWP/SWPB emulation handler
[    1.373286] chip type: AX620Q
[    1.376262] product init ok
[    1.379802] pstore: Using compression: deflate
[    1.385233] i2c_designware 4850000.i2c: running with gpio recovery mode! scl,sda
[    1.392805] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.398962] i2c_designware 4851000.i2c: running with gpio recovery mode! scl,sda
[    1.406496] i2c i2c-1: using pinctrl states for GPIO recovery
[    1.412615] dwc3 8000000.dwc3: dr_mode is 3 (1-host 2-device 3-otg)
[    1.418921] dwc3 8000000.dwc3: EP NUM:16
[    1.423160] actt_component_probe
[    1.423160]  
[    1.423297] bengin actt_set_sysclk
[    1.428103] actt_set_sysclk, freq: 12288000
[    1.435696] actt_set_dai_fmt, fmt: 0x1001
[    1.439715] actt_set_dai_fmt, actt rx only support master fmt_mode: 0x1000
[    1.446597] actt in I2S Format
[    1.449660] dw_i2s_set_fmt, fmt: 0x1001
[    1.454052] asoc-simple-card sound: 23f2000.audio_codec <-> 6051000.i2s_slv mapping ok
[    1.461979] bengin actt_set_sysclk
[    1.461982] actt_set_sysclk, freq: 12288000
[    1.469580] actt_set_dai_fmt, fmt: 0x4001
[    1.473597] actt_set_dai_fmt, actt tx only support salve .fmt_mode: 0x4000
[    1.480479] actt in I2S Format
[    1.483541] dw_i2s_set_fmt, fmt: 0x4001
[    1.487899] asoc-simple-card sound: 23f2000.audio_codec <-> 6050000.i2s_mst mapping ok
[    1.496013] dwc3 8000000.dwc3: axera usb gadget init
[    1.512688] rtc_axera 23e0000.rtc-top: setting system clock to 1970-01-01 08:00:00 UTC (28800)
[    1.521728] OF: fdt: not creating '/sys/firmware/fdt': CRC check failed
[    1.528619] ALSA device list:
[    1.531590]   #0: Axera Audio
[    1.534727] ttyS0 - failed to request DMA
[    1.540673] Freeing unused kernel memory: 2516K
[    1.545214] This architecture does not have kernel memory protection.
[    1.551663] Run /init as init process
[RCS]: /etc/init.d/S11init
mount: mounting debugfs on /sys/kernel/debug failed: No such file or directory
[RCS]: /etc/init.d/S30ambrwfs
cp: can't stat '/root/*': No such file or directory
[    1.856238] ubi0: default fastmap pool size: 35
[    1.860944] ubi0: default fastmap WL pool size: 17
[    1.865840] ubi0: attaching mtd12
[    1.912026] random: fast init done
[    2.139284] ubi0: scanning is finished
[    2.153638] ubi0: attached mtd12 (name "program", size 94 MiB)
[    2.159508] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.166400] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.173204] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.180178] ubi0: good PEBs: 751, bad PEBs: 1, corrupted PEBs: 0
[    2.186195] ubi0: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.193435] ubi0: max/mean erase counter: 4/1, WL threshold: 4096, image sequence number: 1390195764
[    2.202581] ubi0: available PEBs: 0, total reserved PEBs: 751, PEBs reserved for bad PEB handling: 15
[    2.211851] ubi0: background thread "ubi_bgt0d" started, PID 169
UBI device number 0, total 751 LEBs (95358976 bytes, 90.9 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
u[    2.228311] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" started, PID 176
bi0_0 exist.
create Directory:/program
df: /dev/pts: No such file or directory
    mount -t ubifs ubi0:program /program 
[    2.258955] UBIFS (ubi0:0): recovery needed
[    2.322116] UBIFS (ubi0:0): recovery completed
[    2.327154] UBIFS (ubi0:0): UBIFS: mounted UBI device 0, volume 0, name "program"
[    2.334655] UBIFS (ubi0:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.344585] UBIFS (ubi0:0): FS size: 91295744 bytes (87 MiB, 719 LEBs), journal size 9023488 bytes (8 MiB, 72 LEBs)
[    2.355031] UBIFS (ubi0:0): reserved for root: 0 bytes (0 KiB)
[    2.360876] UBIFS (ubi0:0): media format: w4/r0 (latest is w5/r0), UUID 5AA93821-CE3B-42DF-8B4C-323281550D45, small LPT model
[    2.385045] ubi1: default fastmap pool size: 8
[    2.389534] ubi1: default fastmap WL pool size: 4
[    2.394255] ubi1: attaching mtd7
[    2.420605] ubi1: scanning is finished
[    2.434346] ubi1: attached mtd7 (name "config", size 8 MiB)
[    2.439954] ubi1: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.446845] ubi1: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.453663] ubi1: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.460639] ubi1: good PEBs: 64, bad PEBs: 0, corrupted PEBs: 0
[    2.466578] ubi1: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.473823] ubi1: max/mean erase counter: 24/14, WL threshold: 4096, image sequence number: 3376025183
[    2.483150] ubi1: available PEBs: 0, total reserved PEBs: 64, PEBs reserved for bad PEB handling: 4
[    2.492234] ubi1: background thread "ubi_bgt1d" started, PID 186
UBI device number 1, total 64 LEBs (8126464 bytes, 7.7 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi1[    2.508669] UBIFS (ubi1:0): background thread "ubifs_bgt1_0" started, PID 193
_0 exist.
create Directory:/config
df: /dev/pts: No such file or directory
    mount -t ubifs ubi1:config /config 
[    2.540391] UBIFS (ubi1:0): recovery needed
[    2.637187] UBIFS (ubi1:0): recovery completed
[    2.641662] UBIFS (ubi1:0): UBIFS: mounted UBI device 1, volume 0, name "config"
[    2.649107] UBIFS (ubi1:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.659038] UBIFS (ubi1:0): FS size: 5586944 bytes (5 MiB, 44 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    2.669139] UBIFS (ubi1:0): reserved for root: 263884 bytes (257 KiB)
[    2.675592] UBIFS (ubi1:0): media format: w5/r0 (latest is w5/r0), UUID 6D0233DC-6B50-42EA-8560-1142E2371A7A, small LPT model
[    2.703953] ubi2: default fastmap pool size: 8
[    2.708492] ubi2: default fastmap WL pool size: 4
[    2.713374] ubi2: attaching mtd9
[    2.733942] ubi2: scanning is finished
[    2.747603] ubi2: attached mtd9 (name "cfgbak", size 6 MiB)
[    2.753209] ubi2: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.760100] ubi2: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.766901] ubi2: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.773879] ubi2: good PEBs: 48, bad PEBs: 0, corrupted PEBs: 0
[    2.779811] ubi2: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.787046] ubi2: max/mean erase counter: 24/14, WL threshold: 4096, image sequence number: 1034400906
[    2.796365] ubi2: available PEBs: 0, total reserved PEBs: 48, PEBs reserved for bad PEB handling: 4
[    2.805439] ubi2: background thread "ubi_bgt2d" started, PID 203
UBI device number 2, total 48 LEBs (6094848 bytes, 5.8 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi2[    2.822009] UBIFS (ubi2:0): background thread "ubifs_bgt2_0" started, PID 210
_0 exist.
create Directory:/cfgbak
df: /dev/pts: No such file or directory
    mount -t ubifs ubi2:cfgbak /cfgbak 
[    2.852658] UBIFS (ubi2:0): recovery needed
[    2.935935] UBIFS (ubi2:0): recovery completed
[    2.940445] UBIFS (ubi2:0): UBIFS: mounted UBI device 2, volume 0, name "cfgbak"
[    2.947872] UBIFS (ubi2:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.957803] UBIFS (ubi2:0): FS size: 3555328 bytes (3 MiB, 28 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    2.967903] UBIFS (ubi2:0): reserved for root: 167926 bytes (163 KiB)
[    2.974356] UBIFS (ubi2:0): media format: w5/r0 (latest is w5/r0), UUID 53E3460B-080A-4FEE-AEE2-4B0AFEB51CC3, small LPT model
[    2.998387] ubi3: default fastmap pool size: 8
[    3.002891] ubi3: default fastmap WL pool size: 4
[    3.007742] ubi3: attaching mtd5
[    3.028652] ubi3: scanning is finished
[    3.042423] ubi3: attached mtd5 (name "calibration", size 6 MiB)
[    3.048460] ubi3: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    3.055350] ubi3: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    3.062151] ubi3: VID header offset: 2048 (aligned 2048), data offset: 4096
[    3.069130] ubi3: good PEBs: 48, bad PEBs: 0, corrupted PEBs: 0
[    3.075063] ubi3: user volume: 1, internal volumes: 1, max. volumes count: 128
[    3.082300] ubi3: max/mean erase counter: 6/2, WL threshold: 4096, image sequence number: 3091558067
[    3.091445] ubi3: available PEBs: 0, total reserved PEBs: 48, PEBs reserved for bad PEB handling: 4
[    3.100512] ubi3: background thread "ubi_bgt3d" started, PID 220
UBI device number 3, total 48 LEBs (6094848 bytes, 5.8 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi3[    3.114825] UBIFS (ubi3:0): background thread "ubifs_bgt3_0" started, PID 226
_0 exist.
    /calibration exists
df: /dev/pts: No such file or directory
    mount -t ubifs ubi3:calibration /calibration 
[    3.147847] UBIFS (ubi3:0): recovery needed
[    3.206806] UBIFS (ubi3:0): recovery completed
[    3.211314] UBIFS (ubi3:0): UBIFS: mounted UBI device 3, volume 0, name "calibration"
[    3.219176] UBIFS (ubi3:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    3.229106] UBIFS (ubi3:0): FS size: 3555328 bytes (3 MiB, 28 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    3.239206] UBIFS (ubi3:0): reserved for root: 167926 bytes (163 KiB)
[    3.245660] UBIFS (ubi3:0): media format: w5/r0 (latest is w5/r0), UUID BF7BD558-BC9A-4D8D-B2C4-EE4F6925CECD, small LPT model
[    3.281302] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" stops
[    6.217191] random: crng init done
verify signature fail, exit!
[    6.249914] UBIFS (ubi0:0): un-mount UBI device 0
can't run '/program/bin/init.sh': No such file or directory

root login: root
Password: 
login[242]: root login on 'ttyS0'

User@/root>sysUser@/root>systemreport.sh

User@/root>checkUser@/root>checksysready
sh: can't open '/program/bin/checksysready.sh': No such file or directory

User@/root>systemUser@/root>systemreport.sh

User@/root>q
Not support cmd yet!

User@/root>e ?
    logout
    exit
    update
    systemreport.sh
    display
    ifconfig
    ping
    _hide
    sdformat
    resetconfig
    killall
    date
    catmwarestate
    catfpn
    ECHO
    tcpdump
    tcpdump.sh
    manuinfotool
    tail
    reboot
    autotest
    mactool
    factorymode
    runtime
    setrsa
    getrsa
    getauthdata
    setlicense
    getlicense
    getudid
    download_logo
    cleancfg
    iperf
    downloadsetup
    ls
    ps
    checksysready
    cleanlogo
    downloadlensinfo
    displaylensinfo
    clearlensinfo
    downstitchcal
    uploadstitchcal
    setmonocularid
    getudid
    route
    mountnfs

User@/root>display
argc should be 3
display device manuinfo [file] 

User@/root>resetconfig

User@/root>catmwarestate
cat: can't open '/tmp/stateofmware': No such file or directory

User@/root>e systeUser@/root>systemreport.sh

User@/root>[  3<þ  ðV3N2C0N2C0RS

U-Boot 2020.04-00011-gddf6f040-dirty (Jun 17 2024 - 18:12:02 +0800), Build: jenkins-Compile_64ä½(10.188.40.119)-7385

U-Boot code: 5C000400 -> 5C095BEC  BSS: -> 5C0BD52C
Model: AXERA AX620E_Qnand Board
DRAM:  Monitor len: 000BD12C
Ram size: 10000000
Ram top: 50000000
TLB table from 4fff0000 to 4fff4000
Reserving 756k for U-Boot at: 4ff32000
Reserving 3584k for malloc() at: 4fbb2000
Reserving 96 Bytes for Board Info at: 4fbb1fa0
Reserving 216 Bytes for Global Data at: 4fbb1ec8
Reserving 14400 Bytes for FDT at: 4fbae688

RAM Configuration:
Bank #0: 40000000 
DRAM:  256 MiB
New Stack Pointer is: 4fbae660
Relocation Offset is: f3f31c00
Relocating to 4ff32000, new gd at 4fbb1ec8, sp at 4fbae660
WARNING: Caches not enabled
ax_adc_probe
No available THERMAL device
MMC:   mmc@1B40000: 0, mmc@104E0000: 1
NAND:  128 MiB
Loading Environment from NAND... *** Warning - bad CRC, using default environment

Loading Environment from SPI Flash... unrecognized JEDEC id bytes: ff, a1, e4
uclass_get_device: Invalid bus 0 (err=-2)
In:    serial
Out:   serial
Err:   serial
Current chip type: AX620Q_CHIP
Current board type: AX620Q_LP4_DEMO_V1_1
boot_reason:0x0
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
selecting mode MMC legacy (freq : 0 MHz)
Card did not respond to voltage select!
mmc_init: -95, time 24
no sd card
enter normal boot mode
boot_info_data.mode = 7
Net:   
Warning: ethernet@0x104C0000 (eth0) using random MAC address - 1e:2f:89:b2:3e:7e
eth0: ethernet@0x104C0000  
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
Detected MACID:e4:f1:4c:77:66:ba
Detected ETH1 MACID:e4:f1:4c:77:66:ba
Press Ctrl+B to abort autoboot in 2 seconds
uboot # setenv bootargs bootargs=mem=107M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc single mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
uboot # boot
ax_shutdown_ephy:0x410021d1
enter do_axera_boot
reading kernel image size 0x700000 from spi nand flash ...
bondopt secureboot bit is enable:1, key_bits:2048
CACHE: Misaligned operation at range [4fbad324, 4fbad4b0]
total kernel image size = 6151640
>>> * kernel image verify success! * <<< 
header_info.blk_num=17, isize=6151640, osize=8629099, tile_cnt=12, last_tile_size=474568
boot cmd is :bootm 0x4e000000#conf-1
## Loading kernel from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'kernel' kernel subimage
     Description:  Axera Linux kernel
     Type:         Kernel Image
     Compression:  uncompressed
     Data Start:   0x4e0000e4
     Data Size:    8485640 Bytes = 8.1 MiB
     Architecture: ARM
     OS:           Linux
     Load Address: 0x40008000
     Entry Point:  0x40008000
   Verifying Hash Integrity ... OK
## Loading fdt from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'fdt-1' fdt subimage
     Description:  Flattened Device Tree blob
     Type:         Flat Device Tree
     Compression:  uncompressed
     Data Start:   0x4e817c9c
     Data Size:    141709 Bytes = 138.4 KiB
     Architecture: ARM
     Load Address: 0x42008000
   Verifying Hash Integrity ... OK
   Loading fdt from 0x4e817c9c to 0x42008000
   Booting using the fdt blob at 0x42008000
   Loading Kernel Image
   Using Device Tree in place at 42008000, end 4202d98c
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 4.19.125 (jenkins@root123) (gcc version 7.5.0 (Linaro GCC 7.5-2019.12)) #1 SMP PREEMPT Mon Jun 17 18:12:19 CST 2024
[    0.000000] CPU: ARMv7 Processor [410fd034] revision 4 (ARMv7), cr=50c5383d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: axera,ax620e
[    0.000000] ENC:0302C5TP;SEN:0302C4XQ;LENS:4801C0G2
[    0.000000] PROTOTYPE_NAME:IPC3624LE-ADF28K-WP
[    0.000000] chip type: 0x1
[    0.000000] memory total: 0x10000000, Media: 0x9000000
[    0.000000] earlycon: uart8250 at MMIO32 0x04880000 (options '')
[    0.000000] bootconsole [uart8250] enabled
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] Ignoring RAM at 0x70000000-0x80000000
[    0.000000] Consider using a HIGHMEM enabled kernel.
[    0.000000] On node 0 totalpages: 196608
[    0.000000]   Normal zone: 1536 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 196608 pages, LIFO batch:63
[    0.000000] percpu: Embedded 18 pages/cpu s44236 r8192 d21300 u73728
[    0.000000] pcpu-alloc: s44236 r8192 d21300 u73728 alloc=18*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 195072
[    0.000000] Kernel command line: bootargs=mem=112M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc single mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
[    0.000000] Dentry cache hash table entries: 131072 (order: 7, 524288 bytes)
[    0.000000] Inode-cache hash table entries: 65536 (order: 6, 262144 bytes)
[    0.000000] Memory: 769980K/786432K available (3967K kernel code, 222K rwdata, 1384K rodata, 2516K init, 396K bss, 16452K reserved, 0K cma-reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
[    0.000000]     vmalloc : 0xf0800000 - 0xff800000   ( 240 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xf0000000   ( 768 MB)
[    0.000000]     modules : 0xbf800000 - 0xc0000000   (   8 MB)
[    0.000000]       .text : 0x(ptrval) - 0x(ptrval)   (3969 kB)
[    0.000000]       .init : 0x(ptrval) - 0x(ptrval)   (2516 kB)
[    0.000000]       .data : 0x(ptrval) - 0x(ptrval)   ( 223 kB)
[    0.000000]        .bss : 0x(ptrval) - 0x(ptrval)   ( 397 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Tasks RCU enabled.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000004] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.008019] Switching to timer-based delay loop, resolution 41ns
[    0.016639] Console: colour dummy device 80x30
[    0.021117] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=120000)
[    0.031490] pid_max: default: 32768 minimum: 301
[    0.036216] Mount-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.042849] Mountpoint-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.050306] CPU: Testing write buffer coherency: ok
[    0.055448] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091211] Setting up static identity map for 0x40008240 - 0x40008278
[    0.107777] rcu: Hierarchical SRCU implementation.
[    0.127805] smp: Bringing up secondary CPUs ...
[    0.158024] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.158122] smp: Brought up 1 node, 2 CPUs
[    0.167914] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.174109] CPU: All CPU(s) started in SVC mode.
[    0.179409] devtmpfs: initialized
[    0.210317] random: get_random_u32 called from bucket_table_alloc+0x63/0x118 with crng_init=0
[    0.219055] VFP support v0.3: implementor 41 architecture 3 part 40 variant 3 rev 4
[    0.226907] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 9556302231375000 ns
[    0.236674] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.242900] pinctrl core: initialized pinctrl subsystem
[    0.248390] NET: Registered protocol family 16
[    0.253153] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.260900] ax_pin_init ret 0 index 7
[    0.266118] console [pstore-1] enabled
[    0.269875] pstore: Registered ramoops as persistent store backend
[    0.276076] ramoops: attached 0x8000@0x41000000, ecc: 0/0
[    0.294163] SCSI subsystem initialized
[    0.298077] usbcore: registered new interface driver usbfs
[    0.303625] usbcore: registered new interface driver hub
[    0.309001] usbcore: registered new device driver usb
[    0.314690] pps_core: LinuxPPS API ver. 1 registered
[    0.319680] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.328841] PTP clock support registered
[    0.332982] Advanced Linux Sound Architecture Driver Initialized.
[    0.340175] dma_per 48a0000.dma_per: Axera DMA Peripherals Controller, 16 channels
[    0.348213] dma:ax_dma_probe:1605: done
[    0.352438] clocksource: Switched to clocksource arch_sys_counter
[    0.363104] NET: Registered protocol family 2
[    0.367932] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes)
[    0.375641] TCP established hash table entries: 8192 (order: 3, 32768 bytes)
[    0.382775] TCP bind hash table entries: 8192 (order: 4, 65536 bytes)
[    0.389343] TCP: Hash tables configured (established 8192 bind 8192)
[    0.395778] UDP hash table entries: 512 (order: 2, 16384 bytes)
[    0.401742] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
[    0.408221] NET: Registered protocol family 1
[    0.412882] RPC: Registered named UNIX socket transport module.
[    0.418824] RPC: Registered udp transport module.
[    0.423541] RPC: Registered tcp transport module.
[    0.428257] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.543805] workingset: timestamp_bits=30 max_order=18 bucket_order=0
[    0.554380] axera_logctl_init: of_find_compatible_node 'axera,logctl' success!!!
[    0.554386] axera_logctl_init: of_find_compatible_node config: /etc/ax_syslog.conf
[    0.561850] axera_logctl_init: logstate:1 1 len:2
[    0.574169] axera_logctl_init: loglevel:4 4 len:2
[    0.579124] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.585432] NFS: Registering the id_resolver key type
[    0.590517] Key type id_resolver registered
[    0.594713] Key type id_legacy registered
[    0.598758] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    0.607712] io scheduler noop registered (default)
[    0.612537] io scheduler mq-deadline registered
[    0.617074] io scheduler kyber registered
[    0.622313] axera-pinctrl 2300000.pinctrl: initialized pinctrl driver
[    0.632624] ax_os_mem_init
[    0.635413] [GZIP][D]: [     1][ax_gzipd_init : 730] enter ax_gzipd_init
[    0.642941] Serial: 8250/16550 driver, 5 ports, IRQ sharing disabled
[    0.650318] console [ttyS0] disabled
[    0.653963] 4880000.ax_uart: ttyS0 at MMIO 0x4880000 (irq = 20, base_baud = 13000000) is a 16550A
[    0.662887] console [ttyS0] enabled
[    0.662887] console [ttyS0] enabled
[    0.669872] bootconsole [uart8250] disabled
[    0.669872] bootconsole [uart8250] disabled
[    0.679450] null: module loaded
[    0.683134] ax_ramdisk_init:can't find ramdisk device tree node
[    0.690036] dw_spi_setup: rx_sample_dly_ns=0x6, chip->rx_sample_dly=0x3
[    0.696820] spi_master spi4: set clk_div=0x4, speed_hz=104000000, dws->max_freq=416000000
[    0.705019] spi_master spi4: set rx_sample_dly=0x3
[    0.709863] spi-nand spi4.0: FudanMicroelec SPI NAND was found.
[    0.715797] spi-nand spi4.0: 128 MiB, block size: 128 KiB, page size: 2048, OOB size: 64
[    0.724400] 13 cmdlinepart partitions found on MTD device spi4.0
[    0.730424] Creating 13 MTD partitions on "spi4.0":
[    0.735315] 0x000000000000-0x000000100000 : "spl"
[    0.741329] 0x000000100000-0x000000180000 : "ddrinit"
[    0.747204] 0x000000180000-0x000000380000 : "uboot"
[    0.754299] 0x000000380000-0x000000400000 : "env"
[    0.759844] 0x000000400000-0x000000a00000 : "calibration"
[    0.771076] 0x000000a00000-0x000000b00000 : "cliinfo"
[    0.777406] 0x000000b00000-0x000001300000 : "config"
[    0.790031] 0x000001300000-0x000001400000 : "runtime"
[    0.796369] 0x000001400000-0x000001a00000 : "cfgbak"
[    0.807168] 0x000001a00000-0x000002100000 : "kernel"
[    0.818889] 0x000002100000-0x000002180000 : "update"
[    0.824728] 0x000002180000-0x000007f80000 : "program"
[    0.915769] 0x000007f80000-0x000008000000 : "other"
[    0.921740] libphy: Fixed MDIO Bus: probed
[    0.925905] tun: Universal TUN/TAP device driver, 1.6
[    0.931199] stmmaceth 104c0000.ethernet: probe axera emac
[    0.936710] stmmaceth 104c0000.ethernet: phy-rst-gpio not configure
[    0.943014] stmmaceth 104c0000.ethernet: emac bus clock: 312MHz
[    0.948977] stmmaceth 104c0000.ethernet: emac phy clock: 25MHz
[    0.954854] stmmaceth 104c0000.ethernet: PTP rate: 50MHz
[    0.960196] stmmaceth 104c0000.ethernet: reset axera emac...
[    0.970878] stmmaceth 104c0000.ethernet: EMAC: select Inner RMII interface, value:0x00000000
[    0.979451] stmmaceth 104c0000.ethernet: User ID: 0x10, Synopsys ID: 0x52
[    0.986256] stmmaceth 104c0000.ethernet: 	DWMAC4/5
[    0.991059] stmmaceth 104c0000.ethernet: DMA HW capability register supported
[    0.998207] stmmaceth 104c0000.ethernet: RX Checksum Offload Engine supported
[    1.005352] stmmaceth 104c0000.ethernet: TX Checksum insertion supported
[    1.012063] stmmaceth 104c0000.ethernet: Wake-Up On Lan supported
[    1.018169] stmmaceth 104c0000.ethernet: TSO supported
[    1.023317] stmmaceth 104c0000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    1.030994] stmmaceth 104c0000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    1.038581] stmmaceth 104c0000.ethernet: USO feature enabled
[    1.044251] stmmaceth 104c0000.ethernet: TSO feature enabled
[    1.049997] libphy: stmmac: probed
[    1.056332] PPP generic driver version 2.4.2
[    1.060753] PPP BSD Compression module registered
[    1.065475] PPP Deflate Compression module registered
[    1.070538] NET: Registered protocol family 24
[    1.075343] axera dwc3 soc:axera_dwc3: axera usb probe
[    1.080669] axera dwc3 soc:axera_dwc3: usb bus clock: 312MHz
[    1.086359] axera dwc3 soc:axera_dwc3: axera usb clk set succeed.
[    1.092491] axera dwc3 soc:axera_dwc3: axera usb reset succeed.
[    1.098682] dwc3 8000000.dwc3: probe later.
[    1.103333] usbcore: registered new interface driver cdc_acm
[    1.109003] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters
[    1.117160] usbcore: registered new interface driver uas
[    1.122523] usbcore: registered new interface driver usb-storage
[    1.128599] usbcore: registered new interface driver usbserial_generic
[    1.135153] usbserial: USB Serial support registered for generic
[    1.177117] rtc_axera 23e0000.rtc-top: rtc core: registered 23e0000.rtc-top as rtc0
[    1.184881] i2c /dev entries driver
[    1.189846] ax_wdt:ax_wdt_drv_probe:346: done!
[    1.190192] sdhci: Secure Digital Host Controller Interface driver
[    1.200858] sdhci: Copyright(c) Pierre Ossman
[    1.205248] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.205338] sdhci-axera 104e0000.sdhc: axera sdhci probe
[    1.211573] usbcore: registered new interface driver usbhid
[    1.218541] get cd gpio failed
[    1.221821] usbhid: USB HID core driver
[    1.230561] dev->intr_type = 0
[    1.233653] dw_i2s_probe, hdmi_i2s: 0
[    1.237418] config pin_sd_misc to 0x300100
[    1.241542] dw_i2s_probe get irq is -6
[    1.245314] IIS get i2s_mclk: 12288000
[    1.249077] IIS get i2s_mclk: 12288000
[    1.252868] IIS probe OK
[    1.255450] dev->intr_type = 1
[    1.258515] dw_i2s_probe, hdmi_i2s: 0
[    1.262243] config pin_sd_misc to 0x300100
[    1.266357] dw_i2s_probe get irq is -6
[    1.270122] IIS get i2s_mclk: 12288000
[    1.273881] IIS get i2s_mclk: 12288000
[    1.277652] IIS probe OK
[    1.280531] ax_actt_probe
[    1.283215] designware-actt 23f2000.audio_codec: No cache used with register defaults set!
[    1.291590] oprofile: hardware counters not available
[    1.292519] mmc0: SDHCI controller on 104e0000.sdhc [104e0000.sdhc] using ADMA 64-bit
[    1.296663] oprofile: using timer interrupt.
[    1.304515] sdhci_cdns_read_phy_reg: phy lock successful
[    1.309415] NET: Registered protocol family 10
[    1.336616] Segment Routing with IPv6
[    1.340425] mip6: Mobile IPv6
[    1.343877] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.350544] NET: Registered protocol family 17
[    1.355083] l2tp_core: L2TP core driver, V2.0
[    1.359460] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[    1.364285] Key type dns_resolver registered
[    1.368751] Registering SWP/SWPB emulation handler
[    1.373557] chip type: AX620Q
[    1.376533] product init ok
[    1.380068] pstore: Using compression: deflate
[    1.385440] i2c_designware 4850000.i2c: running with gpio recovery mode! scl,sda
[    1.393010] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.399163] i2c_designware 4851000.i2c: running with gpio recovery mode! scl,sda
[    1.406697] i2c i2c-1: using pinctrl states for GPIO recovery
[    1.412808] dwc3 8000000.dwc3: dr_mode is 3 (1-host 2-device 3-otg)
[    1.419115] dwc3 8000000.dwc3: EP NUM:16
[    1.423353] actt_component_probe
[    1.423353]  
[    1.423488] bengin actt_set_sysclk
[    1.428295] actt_set_sysclk, freq: 12288000
[    1.435890] actt_set_dai_fmt, fmt: 0x1001
[    1.439908] actt_set_dai_fmt, actt rx only support master fmt_mode: 0x1000
[    1.446790] actt in I2S Format
[    1.449852] dw_i2s_set_fmt, fmt: 0x1001
[    1.454244] asoc-simple-card sound: 23f2000.audio_codec <-> 6051000.i2s_slv mapping ok
[    1.462172] bengin actt_set_sysclk
[    1.462174] actt_set_sysclk, freq: 12288000
[    1.469774] actt_set_dai_fmt, fmt: 0x4001
[    1.473791] actt_set_dai_fmt, actt tx only support salve .fmt_mode: 0x4000
[    1.480673] actt in I2S Format
[    1.483736] dw_i2s_set_fmt, fmt: 0x4001
[    1.488092] asoc-simple-card sound: 23f2000.audio_codec <-> 6050000.i2s_mst mapping ok
[    1.496207] dwc3 8000000.dwc3: axera usb gadget init
[    1.512872] rtc_axera 23e0000.rtc-top: setting system clock to 1970-01-01 08:00:00 UTC (28800)
[    1.521915] OF: fdt: not creating '/sys/firmware/fdt': CRC check failed
[    1.528803] ALSA device list:
[    1.531775]   #0: Axera Audio
[    1.534914] ttyS0 - failed to request DMA
[    1.540778] Freeing unused kernel memory: 2516K
[    1.545319] This architecture does not have kernel memory protection.
[    1.551769] Run /init as init process
root@(none):~# de[J[Jcd 
root@(none):~# cd ..
root@(none):~# ls
[1;34mbin[m          [1;34mhome[m         [1;36mlinuxrc[m      [1;34mroot[m         [1;34musr[m
[1;34mcalibration[m  [1;36minit[m         [1;34mmnt[m          [1;34msbin[m         [1;34mvar[m
[1;34mdev[m          [1;34mlib[m          [1;36mopt[m          [1;34msys[m          [1;36mwww[m
[1;34metc[m          [1;36mlib64[m        [1;34mproc[m         [1;34mtmp[m
root@(none):~# cd[J[J[   29.327888] random: fast init done
mkdir -p /dev/shm
pts
mount -a

/sbin/mdev -s
root@(none):~# mkdir -p /dev/pts

MtdNum=$(cat /proc/mtd | grep "prograroot@(none):~# mount -a
m" | awk '{print $1}' | sed -e mount: mounting debugfs on /sys/kernel/debug failed: No such file or directory
root@(none):~# 
root@(none):~# /sbin/mdev -s
s/mtd// | sed -e s/\://)
UbiNum=0
BabReserved=16

ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved

mkdir /program
mount -t ubifs ubi0:program -o sync /programroot@(none):~# 
root@(none):~# MtdNum=$(cat /proc/mtd | grep "program" | awk '{print $1}' | sed 
-e s/mtd// | sed -e s/\://)
root@(none):~# UbiNum=0
root@(none):~# BabReserved=16
root@(none):~# 
root@([   69.851858] ubi0: default fastmap pool size: 35
none):~# ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabRe[   69.859512] ubi0: default fastmap WL pool size: 17
served
[   69.869852] ubi0: attaching mtd12
[   70.140716] ubi0: scanning is finished
[   70.149766] ubi0: attached mtd12 (name "program", size 94 MiB)
[   70.155632] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[   70.162522] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[   70.169320] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096
[   70.176292] ubi0: good PEBs: 751, bad PEBs: 1, corrupted PEBs: 0
[   70.182308] ubi0: user volume: 1, internal volumes: 1, max. volumes count: 128
[   70.189544] ubi0: max/mean erase counter: 4/1, WL threshold: 4096, image sequence number: 1390195764
[   70.198690] ubi0: available PEBs: 0, total reserved PEBs: 751, PEBs reserved for bad PEB handling: 15
[   70.207931] ubi0: background thread "ubi_bgt0d" started, PID 96
UBI device number 0, total 751 LEBs (95358976 bytes, 90.9 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
root@(none):~# 
root@(none):~# mkdir /program
root@(none):~# mount -t ubifs ubi0:program -o sync /program
[   71.057095] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" started, PID 99
[   71.122318] UBIFS (ubi0:0): UBIFS: mounted UBI device 0, volume 0, name "program"
[   71.129834] UBIFS (ubi0:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[   71.139763] UBIFS (ubi0:0): FS size: 91295744 bytes (87 MiB, 719 LEBs), journal size 9023488 bytes (8 MiB, 72 LEBs)
[   71.150210] UBIFS (ubi0:0): reserved for root: 0 bytes (0 KiB)
[   71.156055] UBIFS (ubi0:0): media format: w4/r0 (latest is w5/r0), UUID 5AA93821-CE3B-42DF-8B4C-323281550D45, small LPT model
root@(none):~# cd /program/bin
root@(none):/program/bin# ls
[1;32mCalibPoly_new.bin[m
[1;32mDelConfig.sh[m
[1;32mM=EISSw=Move=+0000,+0216,Rotate=+000,RI=3840x2160,RO=3072x1728,Grid=32x32.json[m
[1;32mMainFrame_sawtooth_optimize.txt[m
[1;32mSubFrame_Divp_sawtooth_optimize.txt[m
[1;32mSubFrame_sawtooth_optimize.txt[m
[1;32m_hide[m
[1;36marptables-compat[m
[1;32mauto_load_all_drv.sh[m
[1;32mautotest[m
[1;32mautotestlog.sh[m
[1;32mcfgtool[m
[1;32mcheck_isp_int.sh[m
[1;32mchecksysready.sh[m
[1;32mcleancfg.sh[m
[1;32mcomm_init[m
[1;32mconfig.cfg[m
[1;32mcontrolgpio.sh[m
[1;32mcreathwinfo.sh[m
[1;32mdaemon[m
[1;32mdhcpcd_mware[m
[1;32mdrop_caches.sh[m
[1;32mdt[m
[1;36mebtables-compat[m
[1;32mfactorymode[m
[1;32mfc95G1.10_SWLUT.txt[m
[1;32mfilelist.txt[m
[1;32mgatherlog.sh[m
[1;32mgetmanuinfo[m
[1;32minit.sh[m
[1;32misp_tool[m
[1;32mittb_control[m
[1;32mkernelsendbuff.sh[m
[1;34mlibs[m
[1;32mloadlensdata[m
[1;32mlocaltime[m
[1;32mmactool[m
[1;32mmaintain[m
[1;32mmanuinfotool[m
[1;32mmma_release.sh[m
[1;32mmountnfs.sh[m
[1;32mmware_init.sh[m
[1;32mmwarecmd.sh[m
[1;32mmwareserver[m
[1;32mnet-snmp-config[m
[1;32mnewvermanuinfo[m
[1;32mnpu_set_bw_limiter.sh[m
[1;32mpanel[m
[1;32mpasswd.sh[m
[1;32mpppd[m
[1;32mprepare_hide.sh[m
[1;32mreboot.sh[m
[1;32mresetconfig.sh[m
[1;32msdformat[m
[1;32msdk_update[m
[1;32msecure_boot[m
[1;32msetconfig.sh[m
[0;0msignature.bin[m
[0;0mspl.bin[m
[1;32mssl_cert.pem[m
[1;32mssl_cert_nobrand.pem[m
[1;32msystemreport.sh[m
[1;32mtmp_update[m
[1;32mtop[m
[1;32mudhcpc_mware[m
[1;32mupdate_http[m
[1;32mupdate_move[m
[1;32mupdatecpld.sh[m
[1;32mupdatespl.sh[m
[1;32mwpa_supplicant[m
root@(none):/program/bin# vi systemroot@(none):/program/bin# vi systemreport.sh [J
[?1049h[999;999H[6n[H[J[1;1H#! /bin/sh[3;1H#this shell is used in ALL-device[5;1HINFODIR=/tmp[6;1HCOMMONLOG=$INFODIR/diagnosesinfo.log[7;1Hconfigname="config.tgz"[8;1HBDLKLOG=/tmp/BDLKLogs[9;1HCUSTOMDIR=/calibration/customize[11;1Hrm -rf /tmp/log.tgz[12;1Hrm -rf /tmp/*config.tgz /tmp/config_a.*[13;1Hrm -rf /tmp/ipcsystemreport.tgz[14;1Hrm -rf /tmp/config_all.tgz[16;1Hcorepath=`df|grep /dev/mmcblk0p1|awk '{print $6}'`[18;1Hif [ -z "${corepath}" ]; then[19;6Hcorepath="/tmp/"[20;1Helse[21;6Hcorepath=`df|grep /dev/mmcblk0p1|awk '{print $6}'`/[22;1Hfi[24;1H#---------- proc core file -------[25;1Hexec_get_core()[26;1H{[27;9Hecho "find in $1"[28;9Hfor corenewfilename in `ls ${1}core-*`[29;9Hdo[30;17Hif [ -z "$corefilename" ]; then[31;25Hcorefilename=${corenewfilename}[32;17Helse[33;25Hif [ "$corenewfilename" -ot "$corefilename" ]; then[34;33Hcorefilename="$corenewfilename"[35;25Hfi[36;17Hfi[37;9Hdone[38;1H}[40;1Hexec_core_proc()[41;1H{[42;9Hecho "[1]Try to find core file!"[43;9Hif [ -e ${corepath} ]; then[44;17Hcorebakfilename=$(find ${corepath}* -name "corefile-*" -maxdepth 1 -print0)[46;17Hexec_get_core "${corepath}"[48;17Hif [ -z "$corefilename" ]; then[49;25Hcorefilename=${corebakfilename}[50;17Hfi[51;9Hfi[53;9Hif [ -z "$corefilename" ]; then[1;1H[54;1H[K- systemreport.sh 1/447 0%[1;1H[2;1H[54;1H[K- systemreport.sh 2/447 0%[2;1H[2;1H[54;1H[KI systemreport.sh 2/447 0%[2;1H[2;1H/[2;2H[2;2Hb[2;3H[2;3Hi[2;4H[2;4Hn[2;5H[2;5H/[2;6H[2;6Hs[2;7H[2;7Hh[2;8H[2;7H[54;1H[K- systemreport.sh [Modified] 2/447 0%[2;7H[54;1H[K:wq[2;7H[2;7H[54;1H[K'systemreport.sh' 447L, 13607C[2;7H[54;1H[K[?1049lroot@(none):/program/bin# [     úV3N2C0N2C0RS

U-Boot 2020.04-00011-gddf6f040-dirty (Jun 17 2024 - 18:12:02 +0800), Build: jenkins-Compile_64ä½(10.188.40.119)-7385

U-Boot code: 5C000400 -> 5C095BEC  BSS: -> 5C0BD52C
Model: AXERA AX620E_Qnand Board
DRAM:  Monitor len: 000BD12C
Ram size: 10000000
Ram top: 50000000
TLB table from 4fff0000 to 4fff4000
Reserving 756k for U-Boot at: 4ff32000
Reserving 3584k for malloc() at: 4fbb2000
Reserving 96 Bytes for Board Info at: 4fbb1fa0
Reserving 216 Bytes for Global Data at: 4fbb1ec8
Reserving 14400 Bytes for FDT at: 4fbae688

RAM Configuration:
Bank #0: 40000000 
DRAM:  256 MiB
New Stack Pointer is: 4fbae660
Relocation Offset is: f3f31c00
Relocating to 4ff32000, new gd at 4fbb1ec8, sp at 4fbae660
WARNING: Caches not enabled
ax_adc_probe
No available THERMAL device
MMC:   mmc@1B40000: 0, mmc@104E0000: 1
NAND:  128 MiB
Loading Environment from NAND... *** Warning - bad CRC, using default environment

Loading Environment from SPI Flash... unrecognized JEDEC id bytes: ff, a1, e4
uclass_get_device: Invalid bus 0 (err=-2)
In:    serial
Out:   serial
Err:   serial
Current chip type: AX620Q_CHIP
Current board type: AX620Q_LP4_DEMO_V1_1
boot_reason:0x0
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
selecting mode MMC legacy (freq : 0 MHz)
Card did not respond to voltage select!
mmc_init: -95, time 24
no sd card
enter normal boot mode
boot_info_data.mode = 7
Net:   
Warning: ethernet@0x104C0000 (eth0) using random MAC address - 6a:b9:72:33:8c:b0
eth0: ethernet@0x104C0000  
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
Detected MACID:e4:f1:4c:77:66:ba
Detected ETH1 MACID:e4:f1:4c:77:66:ba
Press Ctrl+B to abort autoboot in 2 seconds
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
ax_shutdown_ephy:0x410021d1
enter do_axera_boot
reading kernel image size 0x700000 from spi nand flash ...
bondopt secureboot bit is enable:1, key_bits:2048
CACHE: Misaligned operation at range [4fbadb4c, 4fbadcd8]
total kernel image size = 6151640
>>> * kernel image verify success! * <<< 
header_info.blk_num=17, isize=6151640, osize=8629099, tile_cnt=12, last_tile_size=474568
boot cmd is :bootm 0x4e000000#conf-1
## Loading kernel from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'kernel' kernel subimage
     Description:  Axera Linux kernel
     Type:         Kernel Image
     Compression:  uncompressed
     Data Start:   0x4e0000e4
     Data Size:    8485640 Bytes = 8.1 MiB
     Architecture: ARM
     OS:           Linux
     Load Address: 0x40008000
     Entry Point:  0x40008000
   Verifying Hash Integrity ... OK
## Loading fdt from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'fdt-1' fdt subimage
     Description:  Flattened Device Tree blob
     Type:         Flat Device Tree
     Compression:  uncompressed
     Data Start:   0x4e817c9c
     Data Size:    141709 Bytes = 138.4 KiB
     Architecture: ARM
     Load Address: 0x42008000
   Verifying Hash Integrity ... OK
   Loading fdt from 0x4e817c9c to 0x42008000
   Booting using the fdt blob at 0x42008000
   Loading Kernel Image
   Using Device Tree in place at 42008000, end 4202d98c
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 4.19.125 (jenkins@root123) (gcc version 7.5.0 (Linaro GCC 7.5-2019.12)) #1 SMP PREEMPT Mon Jun 17 18:12:19 CST 2024
[    0.000000] CPU: ARMv7 Processor [410fd034] revision 4 (ARMv7), cr=50c5383d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: axera,ax620e
[    0.000000] ENC:0302C5TP;SEN:0302C4XQ;LENS:4801C0G2
[    0.000000] PROTOTYPE_NAME:IPC3624LE-ADF28K-WP
[    0.000000] chip type: 0x1
[    0.000000] memory total: 0x10000000, Media: 0x9000000
[    0.000000] earlycon: uart8250 at MMIO32 0x04880000 (options '')
[    0.000000] bootconsole [uart8250] enabled
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] On node 0 totalpages: 28672
[    0.000000]   Normal zone: 224 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 28672 pages, LIFO batch:7
[    0.000000] percpu: Embedded 18 pages/cpu s44236 r8192 d21300 u73728
[    0.000000] pcpu-alloc: s44236 r8192 d21300 u73728 alloc=18*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 28448
[    0.000000] Kernel command line: mem=112M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
[    0.000000] Dentry cache hash table entries: 16384 (order: 4, 65536 bytes)
[    0.000000] Inode-cache hash table entries: 8192 (order: 3, 32768 bytes)
[    0.000000] Memory: 104156K/114688K available (3967K kernel code, 222K rwdata, 1384K rodata, 2516K init, 396K bss, 10532K reserved, 0K cma-reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
[    0.000000]     vmalloc : 0xc7800000 - 0xff800000   ( 896 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xc7000000   ( 112 MB)
[    0.000000]     modules : 0xbf800000 - 0xc0000000   (   8 MB)
[    0.000000]       .text : 0x(ptrval) - 0x(ptrval)   (3969 kB)
[    0.000000]       .init : 0x(ptrval) - 0x(ptrval)   (2516 kB)
[    0.000000]       .data : 0x(ptrval) - 0x(ptrval)   ( 223 kB)
[    0.000000]        .bss : 0x(ptrval) - 0x(ptrval)   ( 397 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Tasks RCU enabled.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000004] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.008019] Switching to timer-based delay loop, resolution 41ns
[    0.016623] Console: colour dummy device 80x30
[    0.021100] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=120000)
[    0.031472] pid_max: default: 32768 minimum: 301
[    0.036189] Mount-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.042821] Mountpoint-cache hash table entries: 1024 (order: 0, 4096 bytes)
[    0.050272] CPU: Testing write buffer coherency: ok
[    0.055409] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091162] Setting up static identity map for 0x40008240 - 0x40008278
[    0.107727] rcu: Hierarchical SRCU implementation.
[    0.127756] smp: Bringing up secondary CPUs ...
[    0.157972] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.158070] smp: Brought up 1 node, 2 CPUs
[    0.167859] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.174054] CPU: All CPU(s) started in SVC mode.
[    0.179260] devtmpfs: initialized
[    0.210186] random: get_random_u32 called from bucket_table_alloc+0x63/0x118 with crng_init=0
[    0.218910] VFP support v0.3: implementor 41 architecture 3 part 40 variant 3 rev 4
[    0.226776] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 9556302231375000 ns
[    0.236546] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.242773] pinctrl core: initialized pinctrl subsystem
[    0.248261] NET: Registered protocol family 16
[    0.252996] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.260736] ax_pin_init ret 0 index 7
[    0.265963] console [pstore-1] enabled
[    0.269718] pstore: Registered ramoops as persistent store backend
[    0.275917] ramoops: attached 0x8000@0x41000000, ecc: 0/0
[    0.294000] SCSI subsystem initialized
[    0.297916] usbcore: registered new interface driver usbfs
[    0.303465] usbcore: registered new interface driver hub
[    0.308838] usbcore: registered new device driver usb
[    0.314534] pps_core: LinuxPPS API ver. 1 registered
[    0.319525] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.328687] PTP clock support registered
[    0.332826] Advanced Linux Sound Architecture Driver Initialized.
[    0.340021] dma_per 48a0000.dma_per: Axera DMA Peripherals Controller, 16 channels
[    0.348032] dma:ax_dma_probe:1605: done
[    0.352235] clocksource: Switched to clocksource arch_sys_counter
[    0.362912] NET: Registered protocol family 2
[    0.367745] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes)
[    0.375448] TCP established hash table entries: 1024 (order: 0, 4096 bytes)
[    0.382443] TCP bind hash table entries: 1024 (order: 1, 8192 bytes)
[    0.388830] TCP: Hash tables configured (established 1024 bind 1024)
[    0.395254] UDP hash table entries: 256 (order: 1, 8192 bytes)
[    0.401119] UDP-Lite hash table entries: 256 (order: 1, 8192 bytes)
[    0.407496] NET: Registered protocol family 1
[    0.412148] RPC: Registered named UNIX socket transport module.
[    0.418094] RPC: Registered udp transport module.
[    0.422816] RPC: Registered tcp transport module.
[    0.427533] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.543080] workingset: timestamp_bits=30 max_order=15 bucket_order=0
[    0.553686] axera_logctl_init: of_find_compatible_node 'axera,logctl' success!!!
[    0.553692] axera_logctl_init: of_find_compatible_node config: /etc/ax_syslog.conf
[    0.561155] axera_logctl_init: logstate:1 1 len:2
[    0.573462] axera_logctl_init: loglevel:4 4 len:2
[    0.578410] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.584726] NFS: Registering the id_resolver key type
[    0.589818] Key type id_resolver registered
[    0.594014] Key type id_legacy registered
[    0.598059] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    0.606921] io scheduler noop registered (default)
[    0.611760] io scheduler mq-deadline registered
[    0.616310] io scheduler kyber registered
[    0.621547] axera-pinctrl 2300000.pinctrl: initialized pinctrl driver
[    0.631779] ax_os_mem_init
[    0.634603] [GZIP][D]: [     1][ax_gzipd_init : 730] enter ax_gzipd_init
[    0.642102] Serial: 8250/16550 driver, 5 ports, IRQ sharing disabled
[    0.649475] console [ttyS0] disabled
[    0.653120] 4880000.ax_uart: ttyS0 at MMIO 0x4880000 (irq = 20, base_baud = 13000000) is a 16550A
[    0.662041] console [ttyS0] enabled
[    0.662041] console [ttyS0] enabled
[    0.669027] bootconsole [uart8250] disabled
[    0.669027] bootconsole [uart8250] disabled
[    0.678614] null: module loaded
[    0.682332] ax_ramdisk_init:can't find ramdisk device tree node
[    0.689214] dw_spi_setup: rx_sample_dly_ns=0x6, chip->rx_sample_dly=0x3
[    0.695989] spi_master spi4: set clk_div=0x4, speed_hz=104000000, dws->max_freq=416000000
[    0.704188] spi_master spi4: set rx_sample_dly=0x3
[    0.709031] spi-nand spi4.0: FudanMicroelec SPI NAND was found.
[    0.714964] spi-nand spi4.0: 128 MiB, block size: 128 KiB, page size: 2048, OOB size: 64
[    0.723567] 13 cmdlinepart partitions found on MTD device spi4.0
[    0.729592] Creating 13 MTD partitions on "spi4.0":
[    0.734483] 0x000000000000-0x000000100000 : "spl"
[    0.740505] 0x000000100000-0x000000180000 : "ddrinit"
[    0.746391] 0x000000180000-0x000000380000 : "uboot"
[    0.753497] 0x000000380000-0x000000400000 : "env"
[    0.759028] 0x000000400000-0x000000a00000 : "calibration"
[    0.770257] 0x000000a00000-0x000000b00000 : "cliinfo"
[    0.776589] 0x000000b00000-0x000001300000 : "config"
[    0.789201] 0x000001300000-0x000001400000 : "runtime"
[    0.795537] 0x000001400000-0x000001a00000 : "cfgbak"
[    0.806340] 0x000001a00000-0x000002100000 : "kernel"
[    0.818085] 0x000002100000-0x000002180000 : "update"
[    0.823908] 0x000002180000-0x000007f80000 : "program"
[    0.914975] 0x000007f80000-0x000008000000 : "other"
[    0.920964] libphy: Fixed MDIO Bus: probed
[    0.925128] tun: Universal TUN/TAP device driver, 1.6
[    0.930422] stmmaceth 104c0000.ethernet: probe axera emac
[    0.935942] stmmaceth 104c0000.ethernet: phy-rst-gpio not configure
[    0.942248] stmmaceth 104c0000.ethernet: emac bus clock: 312MHz
[    0.948210] stmmaceth 104c0000.ethernet: emac phy clock: 25MHz
[    0.954088] stmmaceth 104c0000.ethernet: PTP rate: 50MHz
[    0.959430] stmmaceth 104c0000.ethernet: reset axera emac...
[    0.970112] stmmaceth 104c0000.ethernet: EMAC: select Inner RMII interface, value:0x00000000
[    0.978681] stmmaceth 104c0000.ethernet: User ID: 0x10, Synopsys ID: 0x52
[    0.985487] stmmaceth 104c0000.ethernet: 	DWMAC4/5
[    0.990289] stmmaceth 104c0000.ethernet: DMA HW capability register supported
[    0.997439] stmmaceth 104c0000.ethernet: RX Checksum Offload Engine supported
[    1.004584] stmmaceth 104c0000.ethernet: TX Checksum insertion supported
[    1.011295] stmmaceth 104c0000.ethernet: Wake-Up On Lan supported
[    1.017401] stmmaceth 104c0000.ethernet: TSO supported
[    1.022548] stmmaceth 104c0000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    1.030225] stmmaceth 104c0000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    1.037807] stmmaceth 104c0000.ethernet: USO feature enabled
[    1.043480] stmmaceth 104c0000.ethernet: TSO feature enabled
[    1.049225] libphy: stmmac: probed
[    1.055602] PPP generic driver version 2.4.2
[    1.060024] PPP BSD Compression module registered
[    1.064747] PPP Deflate Compression module registered
[    1.069811] NET: Registered protocol family 24
[    1.074618] axera dwc3 soc:axera_dwc3: axera usb probe
[    1.079946] axera dwc3 soc:axera_dwc3: usb bus clock: 312MHz
[    1.085635] axera dwc3 soc:axera_dwc3: axera usb clk set succeed.
[    1.091763] axera dwc3 soc:axera_dwc3: axera usb reset succeed.
[    1.097953] dwc3 8000000.dwc3: probe later.
[    1.102604] usbcore: registered new interface driver cdc_acm
[    1.108275] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters
[    1.116435] usbcore: registered new interface driver uas
[    1.121794] usbcore: registered new interface driver usb-storage
[    1.127872] usbcore: registered new interface driver usbserial_generic
[    1.134426] usbserial: USB Serial support registered for generic
[    1.176389] rtc_axera 23e0000.rtc-top: rtc core: registered 23e0000.rtc-top as rtc0
[    1.184153] i2c /dev entries driver
[    1.189138] ax_wdt:ax_wdt_drv_probe:346: done!
[    1.189481] sdhci: Secure Digital Host Controller Interface driver
[    1.200145] sdhci: Copyright(c) Pierre Ossman
[    1.204536] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.204624] sdhci-axera 104e0000.sdhc: axera sdhci probe
[    1.210862] usbcore: registered new interface driver usbhid
[    1.217823] get cd gpio failed
[    1.221109] usbhid: USB HID core driver
[    1.229847] dev->intr_type = 0
[    1.232941] dw_i2s_probe, hdmi_i2s: 0
[    1.236705] config pin_sd_misc to 0x300100
[    1.240830] dw_i2s_probe get irq is -6
[    1.244602] IIS get i2s_mclk: 12288000
[    1.248364] IIS get i2s_mclk: 12288000
[    1.252150] IIS probe OK
[    1.254740] dev->intr_type = 1
[    1.257806] dw_i2s_probe, hdmi_i2s: 0
[    1.261526] config pin_sd_misc to 0x300100
[    1.265639] dw_i2s_probe get irq is -6
[    1.269402] IIS get i2s_mclk: 12288000
[    1.273160] IIS get i2s_mclk: 12288000
[    1.276931] IIS probe OK
[    1.279815] ax_actt_probe
[    1.282499] designware-actt 23f2000.audio_codec: No cache used with register defaults set!
[    1.290874] oprofile: hardware counters not available
[    1.292319] mmc0: SDHCI controller on 104e0000.sdhc [104e0000.sdhc] using ADMA 64-bit
[    1.295946] oprofile: using timer interrupt.
[    1.303799] sdhci_cdns_read_phy_reg: phy lock successful
[    1.308704] NET: Registered protocol family 10
[    1.336434] Segment Routing with IPv6
[    1.340242] mip6: Mobile IPv6
[    1.343697] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.350366] NET: Registered protocol family 17
[    1.354903] l2tp_core: L2TP core driver, V2.0
[    1.359282] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[    1.364099] Key type dns_resolver registered
[    1.368549] Registering SWP/SWPB emulation handler
[    1.373355] chip type: AX620Q
[    1.376330] product init ok
[    1.379883] pstore: Using compression: deflate
[    1.385311] i2c_designware 4850000.i2c: running with gpio recovery mode! scl,sda
[    1.392890] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.399042] i2c_designware 4851000.i2c: running with gpio recovery mode! scl,sda
[    1.406574] i2c i2c-1: using pinctrl states for GPIO recovery
[    1.412694] dwc3 8000000.dwc3: dr_mode is 3 (1-host 2-device 3-otg)
[    1.419000] dwc3 8000000.dwc3: EP NUM:16
[    1.423240] actt_component_probe
[    1.423240]  
[    1.423377] bengin actt_set_sysclk
[    1.428183] actt_set_sysclk, freq: 12288000
[    1.435777] actt_set_dai_fmt, fmt: 0x1001
[    1.439795] actt_set_dai_fmt, actt rx only support master fmt_mode: 0x1000
[    1.446678] actt in I2S Format
[    1.449740] dw_i2s_set_fmt, fmt: 0x1001
[    1.454129] asoc-simple-card sound: 23f2000.audio_codec <-> 6051000.i2s_slv mapping ok
[    1.462057] bengin actt_set_sysclk
[    1.462060] actt_set_sysclk, freq: 12288000
[    1.469658] actt_set_dai_fmt, fmt: 0x4001
[    1.473676] actt_set_dai_fmt, actt tx only support salve .fmt_mode: 0x4000
[    1.480557] actt in I2S Format
[    1.483619] dw_i2s_set_fmt, fmt: 0x4001
[    1.487974] asoc-simple-card sound: 23f2000.audio_codec <-> 6050000.i2s_mst mapping ok
[    1.496085] dwc3 8000000.dwc3: axera usb gadget init
[    1.512752] rtc_axera 23e0000.rtc-top: setting system clock to 1970-01-01 08:00:00 UTC (28800)
[    1.521794] OF: fdt: not creating '/sys/firmware/fdt': CRC check failed
[    1.528683] ALSA device list:
[    1.531654]   #0: Axera Audio
[    1.534790] ttyS0 - failed to request DMA
[    1.540736] Freeing unused kernel memory: 2516K
[    1.545278] This architecture does not have kernel memory protection.
[    1.551726] Run /init as init process
[RCS]: /etc/init.d/S11init
mount: mounting debugfs on /sys/kernel/debug failed: No such file or directory
[RCS]: /etc/init.d/S30ambrwfs
cp: can't stat '/root/*': No such file or directory
[    1.855311] ubi0: default fastmap pool size: 35
[    1.859901] ubi0: default fastmap WL pool size: 17
[    1.864985] ubi0: attaching mtd12
[    1.911203] random: fast init done
[    2.138684] ubi0: scanning is finished
[    2.152966] ubi0: attached mtd12 (name "program", size 94 MiB)
[    2.158832] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.165724] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.172528] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.179503] ubi0: good PEBs: 751, bad PEBs: 1, corrupted PEBs: 0
[    2.185521] ubi0: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.192760] ubi0: max/mean erase counter: 4/1, WL threshold: 4096, image sequence number: 1390195764
[    2.201903] ubi0: available PEBs: 0, total reserved PEBs: 751, PEBs reserved for bad PEB handling: 15
[    2.211178] ubi0: background thread "ubi_bgt0d" started, PID 169
UBI device number 0, total 751 LEBs (95358976 bytes, 90.9 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
u[    2.227667] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" started, PID 176
bi0_0 exist.
create Directory:/program
df: /dev/pts: No such file or directory
    mount -t ubifs ubi0:program /program 
[    2.258299] UBIFS (ubi0:0): recovery needed
[    2.323449] UBIFS (ubi0:0): recovery completed
[    2.327956] UBIFS (ubi0:0): UBIFS: mounted UBI device 0, volume 0, name "program"
[    2.335466] UBIFS (ubi0:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.345398] UBIFS (ubi0:0): FS size: 91295744 bytes (87 MiB, 719 LEBs), journal size 9023488 bytes (8 MiB, 72 LEBs)
[    2.355846] UBIFS (ubi0:0): reserved for root: 0 bytes (0 KiB)
[    2.361692] UBIFS (ubi0:0): media format: w4/r0 (latest is w5/r0), UUID 5AA93821-CE3B-42DF-8B4C-323281550D45, small LPT model
[    2.386344] ubi1: default fastmap pool size: 8
[    2.390884] ubi1: default fastmap WL pool size: 4
[    2.395605] ubi1: attaching mtd7
[    2.422427] ubi1: scanning is finished
[    2.433961] ubi1: attached mtd7 (name "config", size 8 MiB)
[    2.439575] ubi1: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.446497] ubi1: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.453322] ubi1: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.460297] ubi1: good PEBs: 64, bad PEBs: 0, corrupted PEBs: 0
[    2.466265] ubi1: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.473513] ubi1: max/mean erase counter: 24/14, WL threshold: 4096, image sequence number: 3376025183
[    2.482841] ubi1: available PEBs: 0, total reserved PEBs: 64, PEBs reserved for bad PEB handling: 4
[    2.491925] ubi1: background thread "ubi_bgt1d" started, PID 186
UBI device number 1, total 64 LEBs (8126464 bytes, 7.7 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi1[    2.508429] UBIFS (ubi1:0): background thread "ubifs_bgt1_0" started, PID 193
_0 exist.
create Directory:/config
df: /dev/pts: No such file or directory
    mount -t ubifs ubi1:config /config 
[    2.539826] UBIFS (ubi1:0): recovery needed
[    2.634086] UBIFS (ubi1:0): recovery completed
[    2.638592] UBIFS (ubi1:0): UBIFS: mounted UBI device 1, volume 0, name "config"
[    2.646017] UBIFS (ubi1:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.655976] UBIFS (ubi1:0): FS size: 5586944 bytes (5 MiB, 44 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    2.666078] UBIFS (ubi1:0): reserved for root: 263884 bytes (257 KiB)
[    2.672534] UBIFS (ubi1:0): media format: w5/r0 (latest is w5/r0), UUID 6D0233DC-6B50-42EA-8560-1142E2371A7A, small LPT model
[    2.696719] ubi2: default fastmap pool size: 8
[    2.701211] ubi2: default fastmap WL pool size: 4
[    2.705932] ubi2: attaching mtd9
[    2.727035] ubi2: scanning is finished
[    2.738419] ubi2: attached mtd9 (name "cfgbak", size 6 MiB)
[    2.744039] ubi2: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    2.750946] ubi2: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    2.757759] ubi2: VID header offset: 2048 (aligned 2048), data offset: 4096
[    2.764766] ubi2: good PEBs: 48, bad PEBs: 0, corrupted PEBs: 0
[    2.770700] ubi2: user volume: 1, internal volumes: 1, max. volumes count: 128
[    2.777938] ubi2: max/mean erase counter: 24/14, WL threshold: 4096, image sequence number: 1034400906
[    2.787260] ubi2: available PEBs: 0, total reserved PEBs: 48, PEBs reserved for bad PEB handling: 4
[    2.796328] ubi2: background thread "ubi_bgt2d" started, PID 203
UBI device number 2, total 48 LEBs (6094848 bytes, 5.8 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi2[    2.812866] UBIFS (ubi2:0): background thread "ubifs_bgt2_0" started, PID 210
_0 exist.
create Directory:/cfgbak
df: /dev/pts: No such file or directory
    mount -t ubifs ubi2:cfgbak /cfgbak 
[    2.843379] UBIFS (ubi2:0): recovery needed
[    2.926152] UBIFS (ubi2:0): recovery completed
[    2.930659] UBIFS (ubi2:0): UBIFS: mounted UBI device 2, volume 0, name "cfgbak"
[    2.938072] UBIFS (ubi2:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    2.948003] UBIFS (ubi2:0): FS size: 3555328 bytes (3 MiB, 28 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    2.958103] UBIFS (ubi2:0): reserved for root: 167926 bytes (163 KiB)
[    2.964557] UBIFS (ubi2:0): media format: w5/r0 (latest is w5/r0), UUID 53E3460B-080A-4FEE-AEE2-4B0AFEB51CC3, small LPT model
[    2.992856] ubi3: default fastmap pool size: 8
[    2.997346] ubi3: default fastmap WL pool size: 4
[    3.002054] ubi3: attaching mtd5
[    3.022793] ubi3: scanning is finished
[    3.032314] ubi3: attached mtd5 (name "calibration", size 6 MiB)
[    3.038377] ubi3: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    3.045273] ubi3: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    3.052073] ubi3: VID header offset: 2048 (aligned 2048), data offset: 4096
[    3.059051] ubi3: good PEBs: 48, bad PEBs: 0, corrupted PEBs: 0
[    3.064982] ubi3: user volume: 1, internal volumes: 1, max. volumes count: 128
[    3.072218] ubi3: max/mean erase counter: 6/2, WL threshold: 4096, image sequence number: 3091558067
[    3.081365] ubi3: available PEBs: 0, total reserved PEBs: 48, PEBs reserved for bad PEB handling: 4
[    3.090432] ubi3: background thread "ubi_bgt3d" started, PID 220
UBI device number 3, total 48 LEBs (6094848 bytes, 5.8 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
ubi3[    3.106554] UBIFS (ubi3:0): background thread "ubifs_bgt3_0" started, PID 226
_0 exist.
    /calibration exists
df: /dev/pts: No such file or directory
    mount -t ubifs ubi3:calibration /calibration 
[    3.137629] UBIFS (ubi3:0): recovery needed
[    3.195916] UBIFS (ubi3:0): recovery completed
[    3.200403] UBIFS (ubi3:0): UBIFS: mounted UBI device 3, volume 0, name "calibration"
[    3.208248] UBIFS (ubi3:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    3.218177] UBIFS (ubi3:0): FS size: 3555328 bytes (3 MiB, 28 LEBs), journal size 1015809 bytes (0 MiB, 6 LEBs)
[    3.228276] UBIFS (ubi3:0): reserved for root: 167926 bytes (163 KiB)
[    3.234729] UBIFS (ubi3:0): media format: w5/r0 (latest is w5/r0), UUID BF7BD558-BC9A-4D8D-B2C4-EE4F6925CECD, small LPT model
[    3.270436] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" stops
[    6.217266] random: crng init done
verify signature fail, exit!
[    6.250017] UBIFS (ubi0:0): un-mount UBI device 0
can't run '/program/bin/init.sh': No such file or directory

root login: root
Password: 
login[242]: root login on 'ttyS0'

User@/root>sysUser@/root>systemreport.sh

User@/root>cat /proc/mtd
Not support cmd yet!

User@/root>boot
Not support cmd yet!

User@/root>q
Not support cmd yet!

User@/root>[ ø‰žañlp~n#Ån×-[5-Î¼ÞvK¥u}_Üý! æV3N2C0N2C0RS

U-Boot 2020.04-00011-gddf6f040-dirty (Jun 17 2024 - 18:12:02 +0800), Build: jenkins-Compile_64ä½(10.188.40.119)-7385

U-Boot code: 5C000400 -> 5C095BEC  BSS: -> 5C0BD52C
Model: AXERA AX620E_Qnand Board
DRAM:  Monitor len: 000BD12C
Ram size: 10000000
Ram top: 50000000
TLB table from 4fff0000 to 4fff4000
Reserving 756k for U-Boot at: 4ff32000
Reserving 3584k for malloc() at: 4fbb2000
Reserving 96 Bytes for Board Info at: 4fbb1fa0
Reserving 216 Bytes for Global Data at: 4fbb1ec8
Reserving 14400 Bytes for FDT at: 4fbae688

RAM Configuration:
Bank #0: 40000000 
DRAM:  256 MiB
New Stack Pointer is: 4fbae660
Relocation Offset is: f3f31c00
Relocating to 4ff32000, new gd at 4fbb1ec8, sp at 4fbae660
WARNING: Caches not enabled
ax_adc_probe
No available THERMAL device
MMC:   mmc@1B40000: 0, mmc@104E0000: 1
NAND:  128 MiB
Loading Environment from NAND... *** Warning - bad CRC, using default environment

Loading Environment from SPI Flash... unrecognized JEDEC id bytes: ff, a1, e4
uclass_get_device: Invalid bus 0 (err=-2)
In:    serial
Out:   serial
Err:   serial
Current chip type: AX620Q_CHIP
Current board type: AX620Q_LP4_DEMO_V1_1
boot_reason:0x0
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
selecting mode MMC legacy (freq : 0 MHz)
Card did not respond to voltage select!
mmc_init: -95, time 25
no sd card
enter normal boot mode
boot_info_data.mode = 7
Net:   
Warning: ethernet@0x104C0000 (eth0) using random MAC address - 6a:8a:f3:dd:f6:af
eth0: ethernet@0x104C0000  
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
module_get_macaddr_test
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
Detected MACID:e4:f1:4c:77:66:ba
Detected ETH1 MACID:e4:f1:4c:77:66:ba
Press Ctrl+B to abort autoboot in 2 seconds
uboot # setenv bootargs bootargs=mem=107M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc single mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
uboot # boot
ax_shutdown_ephy:0x410021d1
enter do_axera_boot
reading kernel image size 0x700000 from spi nand flash ...
bondopt secureboot bit is enable:1, key_bits:2048
CACHE: Misaligned operation at range [4fbad324, 4fbad4b0]
total kernel image size = 6151640
>>> * kernel image verify success! * <<< 
header_info.blk_num=17, isize=6151640, osize=8629099, tile_cnt=12, last_tile_size=474568
boot cmd is :bootm 0x4e000000#conf-1
## Loading kernel from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'kernel' kernel subimage
     Description:  Axera Linux kernel
     Type:         Kernel Image
     Compression:  uncompressed
     Data Start:   0x4e0000e4
     Data Size:    8485640 Bytes = 8.1 MiB
     Architecture: ARM
     OS:           Linux
     Load Address: 0x40008000
     Entry Point:  0x40008000
   Verifying Hash Integrity ... OK
## Loading fdt from FIT Image at 4e000000 ...
   Using 'conf-1' configuration
   Trying 'fdt-1' fdt subimage
     Description:  Flattened Device Tree blob
     Type:         Flat Device Tree
     Compression:  uncompressed
     Data Start:   0x4e817c9c
     Data Size:    141709 Bytes = 138.4 KiB
     Architecture: ARM
     Load Address: 0x42008000
   Verifying Hash Integrity ... OK
   Loading fdt from 0x4e817c9c to 0x42008000
   Booting using the fdt blob at 0x42008000
   Loading Kernel Image
   Using Device Tree in place at 42008000, end 4202d98c
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5
result is 1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
boot_mode->magic = 0x12345678
boot_mode->dl_channel = 0
boot_mode->storage_sel = 1
boot_mode->boot_type = 5

Starting kernel ...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 4.19.125 (jenkins@root123) (gcc version 7.5.0 (Linaro GCC 7.5-2019.12)) #1 SMP PREEMPT Mon Jun 17 18:12:19 CST 2024
[    0.000000] CPU: ARMv7 Processor [410fd034] revision 4 (ARMv7), cr=50c5383d
[    0.000000] CPU: div instructions available: patching division code
[    0.000000] CPU: PIPT / VIPT nonaliasing data cache, VIPT aliasing instruction cache
[    0.000000] OF: fdt: Machine model: axera,ax620e
[    0.000000] ENC:0302C5TP;SEN:0302C4XQ;LENS:4801C0G2
[    0.000000] PROTOTYPE_NAME:IPC3624LE-ADF28K-WP
[    0.000000] chip type: 0x1
[    0.000000] memory total: 0x10000000, Media: 0x9000000
[    0.000000] earlycon: uart8250 at MMIO32 0x04880000 (options '')
[    0.000000] bootconsole [uart8250] enabled
[    0.000000] Memory policy: Data cache writealloc
[    0.000000] Ignoring RAM at 0x70000000-0x80000000
[    0.000000] Consider using a HIGHMEM enabled kernel.
[    0.000000] On node 0 totalpages: 196608
[    0.000000]   Normal zone: 1536 pages used for memmap
[    0.000000]   Normal zone: 0 pages reserved
[    0.000000]   Normal zone: 196608 pages, LIFO batch:63
[    0.000000] percpu: Embedded 18 pages/cpu s44236 r8192 d21300 u73728
[    0.000000] pcpu-alloc: s44236 r8192 d21300 u73728 alloc=18*4096
[    0.000000] pcpu-alloc: [0] 0 [0] 1 
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 195072
[    0.000000] Kernel command line: bootargs=mem=112M console=ttyS0,115200n8 loglevel=8 earlycon=uart8250,mmio32,0x4880000 board_id=0,boot_reason=0x0 root=/dev/axramdisk rw rootfstype=ext2 init=/linuxrc single mtdparts=spi4.0:1M(spl),512K(ddrinit),2048K(uboot),512K(env),6M(calibration),1M(cliinfo),8M(config),1M(runtime),6M(cfgbak),7M(kernel),512K(update),94M(program),-(other)
[    0.000000] Dentry cache hash table entries: 131072 (order: 7, 524288 bytes)
[    0.000000] Inode-cache hash table entries: 65536 (order: 6, 262144 bytes)
[    0.000000] Memory: 769980K/786432K available (3967K kernel code, 222K rwdata, 1384K rodata, 2516K init, 396K bss, 16452K reserved, 0K cma-reserved)
[    0.000000] Virtual kernel memory layout:
[    0.000000]     vector  : 0xffff0000 - 0xffff1000   (   4 kB)
[    0.000000]     fixmap  : 0xffc00000 - 0xfff00000   (3072 kB)
[    0.000000]     vmalloc : 0xf0800000 - 0xff800000   ( 240 MB)
[    0.000000]     lowmem  : 0xc0000000 - 0xf0000000   ( 768 MB)
[    0.000000]     modules : 0xbf800000 - 0xc0000000   (   8 MB)
[    0.000000]       .text : 0x(ptrval) - 0x(ptrval)   (3969 kB)
[    0.000000]       .init : 0x(ptrval) - 0x(ptrval)   (2516 kB)
[    0.000000]       .data : 0x(ptrval) - 0x(ptrval)   ( 223 kB)
[    0.000000]        .bss : 0x(ptrval) - 0x(ptrval)   ( 397 kB)
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=2, Nodes=1
[    0.000000] rcu: Preemptible hierarchical RCU implementation.
[    0.000000] rcu: 	RCU event tracing is enabled.
[    0.000000] 	Tasks RCU enabled.
[    0.000000] NR_IRQS: 16, nr_irqs: 16, preallocated irqs: 16
[    0.000000] arch_timer: cp15 timer(s) running at 24.00MHz (phys).
[    0.000000] clocksource: arch_sys_counter: mask: 0xffffffffffffff max_cycles: 0x588fe9dc0, max_idle_ns: 440795202592 ns
[    0.000004] sched_clock: 56 bits at 24MHz, resolution 41ns, wraps every 4398046511097ns
[    0.008019] Switching to timer-based delay loop, resolution 41ns
[    0.016578] Console: colour dummy device 80x30
[    0.021054] Calibrating delay loop (skipped), value calculated using timer frequency.. 48.00 BogoMIPS (lpj=120000)
[    0.031428] pid_max: default: 32768 minimum: 301
[    0.036152] Mount-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.042786] Mountpoint-cache hash table entries: 2048 (order: 1, 8192 bytes)
[    0.050245] CPU: Testing write buffer coherency: ok
[    0.055393] CPU0: thread -1, cpu 0, socket 0, mpidr 80000000
[    0.091155] Setting up static identity map for 0x40008240 - 0x40008278
[    0.107719] rcu: Hierarchical SRCU implementation.
[    0.127749] smp: Bringing up secondary CPUs ...
[    0.157966] CPU1: thread -1, cpu 1, socket 0, mpidr 80000001
[    0.158064] smp: Brought up 1 node, 2 CPUs
[    0.167854] SMP: Total of 2 processors activated (96.00 BogoMIPS).
[    0.174049] CPU: All CPU(s) started in SVC mode.
[    0.179354] devtmpfs: initialized
[    0.210255] random: get_random_u32 called from bucket_table_alloc+0x63/0x118 with crng_init=0
[    0.218996] VFP support v0.3: implementor 41 architecture 3 part 40 variant 3 rev 4
[    0.226844] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 9556302231375000 ns
[    0.236611] futex hash table entries: 512 (order: 3, 32768 bytes)
[    0.242834] pinctrl core: initialized pinctrl subsystem
[    0.248322] NET: Registered protocol family 16
[    0.253085] DMA: preallocated 256 KiB pool for atomic coherent allocations
[    0.260832] ax_pin_init ret 0 index 7
[    0.266247] console [pstore-1] enabled
[    0.270003] pstore: Registered ramoops as persistent store backend
[    0.276202] ramoops: attached 0x8000@0x41000000, ecc: 0/0
[    0.294305] SCSI subsystem initialized
[    0.298237] usbcore: registered new interface driver usbfs
[    0.303783] usbcore: registered new interface driver hub
[    0.309168] usbcore: registered new device driver usb
[    0.314861] pps_core: LinuxPPS API ver. 1 registered
[    0.319849] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti <giometti@linux.it>
[    0.329010] PTP clock support registered
[    0.333142] Advanced Linux Sound Architecture Driver Initialized.
[    0.340324] dma_per 48a0000.dma_per: Axera DMA Peripherals Controller, 16 channels
[    0.348354] dma:ax_dma_probe:1605: done
[    0.352581] clocksource: Switched to clocksource arch_sys_counter
[    0.363230] NET: Registered protocol family 2
[    0.368064] tcp_listen_portaddr_hash hash table entries: 512 (order: 0, 6144 bytes)
[    0.375768] TCP established hash table entries: 8192 (order: 3, 32768 bytes)
[    0.382902] TCP bind hash table entries: 8192 (order: 4, 65536 bytes)
[    0.389471] TCP: Hash tables configured (established 8192 bind 8192)
[    0.395907] UDP hash table entries: 512 (order: 2, 16384 bytes)
[    0.401870] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)
[    0.408347] NET: Registered protocol family 1
[    0.413011] RPC: Registered named UNIX socket transport module.
[    0.418954] RPC: Registered udp transport module.
[    0.423671] RPC: Registered tcp transport module.
[    0.428387] RPC: Registered tcp NFSv4.1 backchannel transport module.
[    0.543993] workingset: timestamp_bits=30 max_order=18 bucket_order=0
[    0.554560] axera_logctl_init: of_find_compatible_node 'axera,logctl' success!!!
[    0.554567] axera_logctl_init: of_find_compatible_node config: /etc/ax_syslog.conf
[    0.562039] axera_logctl_init: logstate:1 1 len:2
[    0.574365] axera_logctl_init: loglevel:4 4 len:2
[    0.579324] squashfs: version 4.0 (2009/01/31) Phillip Lougher
[    0.585648] NFS: Registering the id_resolver key type
[    0.590744] Key type id_resolver registered
[    0.594939] Key type id_legacy registered
[    0.598984] jffs2: version 2.2. (NAND) Â© 2001-2006 Red Hat, Inc.
[    0.607968] io scheduler noop registered (default)
[    0.612795] io scheduler mq-deadline registered
[    0.617333] io scheduler kyber registered
[    0.622629] axera-pinctrl 2300000.pinctrl: initialized pinctrl driver
[    0.632898] ax_os_mem_init
[    0.635686] [GZIP][D]: [     1][ax_gzipd_init : 730] enter ax_gzipd_init
[    0.643227] Serial: 8250/16550 driver, 5 ports, IRQ sharing disabled
[    0.650591] console [ttyS0] disabled
[    0.654237] 4880000.ax_uart: ttyS0 at MMIO 0x4880000 (irq = 20, base_baud = 13000000) is a 16550A
[    0.663161] console [ttyS0] enabled
[    0.663161] console [ttyS0] enabled
[    0.670145] bootconsole [uart8250] disabled
[    0.670145] bootconsole [uart8250] disabled
[    0.679726] null: module loaded
[    0.683410] ax_ramdisk_init:can't find ramdisk device tree node
[    0.690320] dw_spi_setup: rx_sample_dly_ns=0x6, chip->rx_sample_dly=0x3
[    0.697107] spi_master spi4: set clk_div=0x4, speed_hz=104000000, dws->max_freq=416000000
[    0.705306] spi_master spi4: set rx_sample_dly=0x3
[    0.710150] spi-nand spi4.0: FudanMicroelec SPI NAND was found.
[    0.716084] spi-nand spi4.0: 128 MiB, block size: 128 KiB, page size: 2048, OOB size: 64
[    0.724689] 13 cmdlinepart partitions found on MTD device spi4.0
[    0.730714] Creating 13 MTD partitions on "spi4.0":
[    0.735605] 0x000000000000-0x000000100000 : "spl"
[    0.741638] 0x000000100000-0x000000180000 : "ddrinit"
[    0.747517] 0x000000180000-0x000000380000 : "uboot"
[    0.754598] 0x000000380000-0x000000400000 : "env"
[    0.760119] 0x000000400000-0x000000a00000 : "calibration"
[    0.771362] 0x000000a00000-0x000000b00000 : "cliinfo"
[    0.777716] 0x000000b00000-0x000001300000 : "config"
[    0.790342] 0x000001300000-0x000001400000 : "runtime"
[    0.796685] 0x000001400000-0x000001a00000 : "cfgbak"
[    0.807516] 0x000001a00000-0x000002100000 : "kernel"
[    0.819260] 0x000002100000-0x000002180000 : "update"
[    0.825096] 0x000002180000-0x000007f80000 : "program"
[    0.916181] 0x000007f80000-0x000008000000 : "other"
[    0.922155] libphy: Fixed MDIO Bus: probed
[    0.926320] tun: Universal TUN/TAP device driver, 1.6
[    0.931615] stmmaceth 104c0000.ethernet: probe axera emac
[    0.937128] stmmaceth 104c0000.ethernet: phy-rst-gpio not configure
[    0.943430] stmmaceth 104c0000.ethernet: emac bus clock: 312MHz
[    0.949393] stmmaceth 104c0000.ethernet: emac phy clock: 25MHz
[    0.955271] stmmaceth 104c0000.ethernet: PTP rate: 50MHz
[    0.960612] stmmaceth 104c0000.ethernet: reset axera emac...
[    0.971295] stmmaceth 104c0000.ethernet: EMAC: select Inner RMII interface, value:0x00000000
[    0.979862] stmmaceth 104c0000.ethernet: User ID: 0x10, Synopsys ID: 0x52
[    0.986668] stmmaceth 104c0000.ethernet: 	DWMAC4/5
[    0.991470] stmmaceth 104c0000.ethernet: DMA HW capability register supported
[    0.998619] stmmaceth 104c0000.ethernet: RX Checksum Offload Engine supported
[    1.005769] stmmaceth 104c0000.ethernet: TX Checksum insertion supported
[    1.012480] stmmaceth 104c0000.ethernet: Wake-Up On Lan supported
[    1.018585] stmmaceth 104c0000.ethernet: TSO supported
[    1.023734] stmmaceth 104c0000.ethernet: Enable RX Mitigation via HW Watchdog Timer
[    1.031413] stmmaceth 104c0000.ethernet: Enabling HW TC (entries=256, max_off=256)
[    1.038996] stmmaceth 104c0000.ethernet: USO feature enabled
[    1.044665] stmmaceth 104c0000.ethernet: TSO feature enabled
[    1.050412] libphy: stmmac: probed
[    1.056744] PPP generic driver version 2.4.2
[    1.061164] PPP BSD Compression module registered
[    1.065886] PPP Deflate Compression module registered
[    1.070950] NET: Registered protocol family 24
[    1.075752] axera dwc3 soc:axera_dwc3: axera usb probe
[    1.081079] axera dwc3 soc:axera_dwc3: usb bus clock: 312MHz
[    1.086769] axera dwc3 soc:axera_dwc3: axera usb clk set succeed.
[    1.092899] axera dwc3 soc:axera_dwc3: axera usb reset succeed.
[    1.099085] dwc3 8000000.dwc3: probe later.
[    1.103736] usbcore: registered new interface driver cdc_acm
[    1.109407] cdc_acm: USB Abstract Control Model driver for USB modems and ISDN adapters
[    1.117566] usbcore: registered new interface driver uas
[    1.122929] usbcore: registered new interface driver usb-storage
[    1.129002] usbcore: registered new interface driver usbserial_generic
[    1.135562] usbserial: USB Serial support registered for generic
[    1.177515] rtc_axera 23e0000.rtc-top: rtc core: registered 23e0000.rtc-top as rtc0
[    1.185278] i2c /dev entries driver
[    1.190230] ax_wdt:ax_wdt_drv_probe:346: done!
[    1.190572] sdhci: Secure Digital Host Controller Interface driver
[    1.201236] sdhci: Copyright(c) Pierre Ossman
[    1.205627] sdhci-pltfm: SDHCI platform and OF driver helper
[    1.205715] sdhci-axera 104e0000.sdhc: axera sdhci probe
[    1.211949] usbcore: registered new interface driver usbhid
[    1.218915] get cd gpio failed
[    1.222200] usbhid: USB HID core driver
[    1.230923] dev->intr_type = 0
[    1.234013] dw_i2s_probe, hdmi_i2s: 0
[    1.237790] config pin_sd_misc to 0x300100
[    1.241899] dw_i2s_probe get irq is -6
[    1.245673] IIS get i2s_mclk: 12288000
[    1.249435] IIS get i2s_mclk: 12288000
[    1.253227] IIS probe OK
[    1.255807] dev->intr_type = 1
[    1.258872] dw_i2s_probe, hdmi_i2s: 0
[    1.262610] config pin_sd_misc to 0x300100
[    1.266716] dw_i2s_probe get irq is -6
[    1.270481] IIS get i2s_mclk: 12288000
[    1.274240] IIS get i2s_mclk: 12288000
[    1.278013] IIS probe OK
[    1.280888] ax_actt_probe
[    1.283572] designware-actt 23f2000.audio_codec: No cache used with register defaults set!
[    1.291955] oprofile: hardware counters not available
[    1.292666] mmc0: SDHCI controller on 104e0000.sdhc [104e0000.sdhc] using ADMA 64-bit
[    1.297017] oprofile: using timer interrupt.
[    1.304880] sdhci_cdns_read_phy_reg: phy lock successful
[    1.309772] NET: Registered protocol family 10
[    1.336732] Segment Routing with IPv6
[    1.340541] mip6: Mobile IPv6
[    1.343995] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver
[    1.350669] NET: Registered protocol family 17
[    1.355207] l2tp_core: L2TP core driver, V2.0
[    1.359586] l2tp_ppp: PPPoL2TP kernel driver, V2.0
[    1.364413] Key type dns_resolver registered
[    1.368881] Registering SWP/SWPB emulation handler
[    1.373686] chip type: AX620Q
[    1.376662] product init ok
[    1.380204] pstore: Using compression: deflate
[    1.385607] i2c_designware 4850000.i2c: running with gpio recovery mode! scl,sda
[    1.393178] i2c i2c-0: using pinctrl states for GPIO recovery
[    1.399331] i2c_designware 4851000.i2c: running with gpio recovery mode! scl,sda
[    1.406864] i2c i2c-1: using pinctrl states for GPIO recovery
[    1.412974] dwc3 8000000.dwc3: dr_mode is 3 (1-host 2-device 3-otg)
[    1.419281] dwc3 8000000.dwc3: EP NUM:16
[    1.423520] actt_component_probe
[    1.423520]  
[    1.423658] bengin actt_set_sysclk
[    1.428466] actt_set_sysclk, freq: 12288000
[    1.436060] actt_set_dai_fmt, fmt: 0x1001
[    1.440078] actt_set_dai_fmt, actt rx only support master fmt_mode: 0x1000
[    1.446960] actt in I2S Format
[    1.450023] dw_i2s_set_fmt, fmt: 0x1001
[    1.454412] asoc-simple-card sound: 23f2000.audio_codec <-> 6051000.i2s_slv mapping ok
[    1.462341] bengin actt_set_sysclk
[    1.462343] actt_set_sysclk, freq: 12288000
[    1.469942] actt_set_dai_fmt, fmt: 0x4001
[    1.473960] actt_set_dai_fmt, actt tx only support salve .fmt_mode: 0x4000
[    1.480842] actt in I2S Format
[    1.483904] dw_i2s_set_fmt, fmt: 0x4001
[    1.488258] asoc-simple-card sound: 23f2000.audio_codec <-> 6050000.i2s_mst mapping ok
[    1.496373] dwc3 8000000.dwc3: axera usb gadget init
[    1.513039] rtc_axera 23e0000.rtc-top: setting system clock to 1970-01-01 08:00:00 UTC (28800)
[    1.522083] OF: fdt: not creating '/sys/firmware/fdt': CRC check failed
[    1.528973] ALSA device list:
[    1.531943]   #0: Axera Audio
[    1.535082] ttyS0 - failed to request DMA
[    1.540945] Freeing unused kernel memory: 2516K
[    1.545487] This architecture does not have kernel memory protection.
[    1.551936] Run /init as init process
root@(none):~# mkdir -p /dev/shm
ts
mount -a

/sbin/mdev -root@(none):~# mkdir -p /dev/pts
t /proc/mtd | grep "progrroot@(none):~# mount -a
am" | awk '{print $1}' | sed -e s/mtd// | sed -emount: mounting debugfs on /sys/kernel/debug failed: No such file or directory
root@(none):~# 
root@(none):~# /sbin/mdev -s
 s/\://)
UbiNum=0
BabReserved=16

ubiattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved

mkdir /program
mount -t ubifs ubi0:program -o sync /programroot@(none):~# 
root@(none):~# MtdNum=$(cat /proc/mtd | grep "program" | awk '{print $1}' | sed 
-e s/mtd// | sed -e s/\://)
root@(none):~# UbiNum=0
root@(none):~# BabReserved=16
root@(none):~# 
root@(none):~# u[    3.963432] ubi0: default fastmap pool size: 35
biattach /dev/ubi_ctrl -m $MtdNum -d $UbiNum -b $BabReserved
[    3.972246] ubi0: default fastmap WL pool size: 17
[    3.982383] ubi0: attaching mtd12
[    4.023619] random: fast init done
[    4.262030] ubi0: scanning is finished
[    4.271177] ubi0: attached mtd12 (name "program", size 94 MiB)
[    4.277040] ubi0: PEB size: 131072 bytes (128 KiB), LEB size: 126976 bytes
[    4.283929] ubi0: min./max. I/O unit sizes: 2048/2048, sub-page size 2048
[    4.290726] ubi0: VID header offset: 2048 (aligned 2048), data offset: 4096
[    4.297699] ubi0: good PEBs: 751, bad PEBs: 1, corrupted PEBs: 0
[    4.303715] ubi0: user volume: 1, internal volumes: 1, max. volumes count: 128
[    4.310946] ubi0: max/mean erase counter: 4/1, WL threshold: 4096, image sequence number: 1390195764
[    4.320091] ubi0: available PEBs: 0, total reserved PEBs: 751, PEBs reserved for bad PEB handling: 15
[    4.329330] ubi0: background thread "ubi_bgt0d" started, PID 94
UBI device number 0, total 751 LEBs (95358976 bytes, 90.9 MiB), available 0 LEBs (0 bytes), LEB size 126976 bytes (124.0 KiB)
root@(none):~# 
root@(none):~# mkdir /program
root@(none):~# mount -t ubifs ubi0:program -o sync /program
[    5.500506] UBIFS (ubi0:0): background thread "ubifs_bgt0_0" started, PID 98
[    5.564623] UBIFS (ubi0:0): UBIFS: mounted UBI device 0, volume 0, name "program"
[    5.572134] UBIFS (ubi0:0): LEB size: 126976 bytes (124 KiB), min./max. I/O unit sizes: 2048 bytes/2048 bytes
[    5.582064] UBIFS (ubi0:0): FS size: 91295744 bytes (87 MiB, 719 LEBs), journal size 9023488 bytes (8 MiB, 72 LEBs)
[    5.592511] UBIFS (ubi0:0): reserved for root: 0 bytes (0 KiB)
[    5.598359] UBIFS (ubi0:0): media format: w4/r0 (latest is w5/r0), UUID 5AA93821-CE3B-42DF-8B4C-323281550D45, small LPT model
root@(none):~# cd ..
root@(none):~# ls[Jcd por[J[J[J[J[J[Jd/[J[Js [J[J[Jcd progra/
-/bin/sh: cd: can't cd to progra/: No such file or directory
root@(none):~# cd /program
root@(none):/program# [H[Jroot@(none):/program# [Jls
[1;34mbin[m      [1;34mfactory[m  [1;34mlib[m      [1;34mmodules[m  [1;34mopt[m      [1;34mserver[m   [1;34mwww[m
root@(none):/program#  ls -l
total 0
drwxr-xr-x    3 1001     1001          5304 Jun 17  2024 [1;34mbin[m
drwxrwxr-x    5 1001     1001          7512 Jun 17  2024 [1;34mfactory[m
drwxr--r--    5 1001     1001         10240 Jun 17  2024 [1;34mlib[m
drwxrwxr-x    3 1001     1001           232 Jun 17  2024 [1;34mmodules[m
drwxrwxr-x    3 1001     1001           224 Jun 17  2024 [1;34mopt[m
drwxrwxr-x    2 1001     1001           160 Jun 17  2024 [1;34mserver[m
drwxrwxr-x    8 1001     1001          1744 Dec  1  2011 [1;34mwww[m
root@(none):/program# cd bin
root@(none):/program/bin# ls -l
total 9664
-rwxr-xr-x    1 1001     1001         15140 Jun 17  2024 [1;32mCalibPoly_new.bin[m
-rwxr-xr-x    1 1001     1001           276 Jun 17  2024 [1;32mDelConfig.sh[m
-rwxr-xr-x    1 1001     1001          5630 Jun 17  2024 [1;32mM=EISSw=Move=+0000,+0216,Rotate=+000,RI=3840x2160,RO=3072x1728,Grid=32x32.json[m
-rwxr-xr-x    1 1001     1001          1602 Jun 17  2024 [1;32mMainFrame_sawtooth_optimize.txt[m
-rwxr-xr-x    1 1001     1001          3202 Jun 17  2024 [1;32mSubFrame_Divp_sawtooth_optimize.txt[m
-rwxr-xr-x    1 1001     1001          1602 Jun 17  2024 [1;32mSubFrame_sawtooth_optimize.txt[m
-rwxr-xr-x    1 1001     1001        354204 Jun 17  2024 [1;32m_hide[m
lrwxrwxrwx    1 1001     1001            20 Jun 17  2024 [1;36marptables-compat[m -> [1;31mxtables-compat-multi[m
-rwxr-xr-x    1 1001     1001          1215 Jun 17  2024 [1;32mauto_load_all_drv.sh[m
-rwxr-xr-x    1 1001     1001          5095 Jun 17  2024 [1;32mautotest[m
-rwxr-xr-x    1 1001     1001           317 Jun 17  2024 [1;32mautotestlog.sh[m
-rwxr-xr-x    1 1001     1001        140256 Jun 17  2024 [1;32mcfgtool[m
-rwxr-xr-x    1 1001     1001           829 Jun 17  2024 [1;32mcheck_isp_int.sh[m
-rwxr-xr-x    1 1001     1001          1716 Jan  1 08:14 [1;32mchecksysready.sh[m
-rwxr-xr-x    1 1001     1001          1458 Jun 17  2024 [1;32mcleancfg.sh[m
-rwxr-xr-x    1 1001     1001          9712 Jun 17  2024 [1;32mcomm_init[m
-rwxr-xr-x    1 1001     1001          3055 Jun 17  2024 [1;32mconfig.cfg[m
-rwxr-xr-x    1 1001     1001           189 Jun 17  2024 [1;32mcontrolgpio.sh[m
-rwxr-xr-x    1 1001     1001           635 Jun 17  2024 [1;32mcreathwinfo.sh[m
-rwxr-xr-x    1 1001     1001         18244 Jun 17  2024 [1;32mdaemon[m
-rwxr-xr-x    1 1001     1001        239996 Jun 17  2024 [1;32mdhcpcd_mware[m
-rwxr-xr-x    1 1001     1001           206 Jun 17  2024 [1;32mdrop_caches.sh[m
-rwxr-xr-x    1 1001     1001         18140 Jun 17  2024 [1;32mdt[m
lrwxrwxrwx    1 1001     1001            20 Jun 17  2024 [1;36mebtables-compat[m -> [1;31mxtables-compat-multi[m
-rwxr-xr-x    1 1001     1001           538 Jun 17  2024 [1;32mfactorymode[m
-rwxr-xr-x    1 1001     1001          1602 Jun 17  2024 [1;32mfc95G1.10_SWLUT.txt[m
-rwxr-xr-x    1 1001     1001            73 Jun 17  2024 [1;32mfilelist.txt[m
-rwxr-xr-x    1 1001     1001          6895 Jun 17  2024 [1;32mgatherlog.sh[m
-rwxr-xr-x    1 1001     1001           505 Jun 17  2024 [1;32mgetmanuinfo[m
-rwxr-xr-x    1 1001     1001          7252 Jun 17  2024 [1;32minit.sh[m
-rwxr-xr-x    1 1001     1001          5632 Jun 17  2024 [1;32misp_tool[m
-rwxr-xr-x    1 1001     1001        234676 Jun 17  2024 [1;32mittb_control[m
-rwxr-xr-x    1 1001     1001           963 Jun 17  2024 [1;32mkernelsendbuff.sh[m
drwxrwxr-x    2 1001     1001           672 Jun 17  2024 [1;34mlibs[m
-rwxr-xr-x    1 1001     1001           626 Jun 17  2024 [1;32mloadlensdata[m
-rwxr-xr-x    1 1001     1001           127 Jun 17  2024 [1;32mlocaltime[m
-rwxr-xr-x    1 1001     1001          9788 Jun 17  2024 [1;32mmactool[m
-rwxr-xr-x    1 1001     1001        223660 Jun 17  2024 [1;32mmaintain[m
-rwxr-xr-x    1 1001     1001         13944 Jun 17  2024 [1;32mmanuinfotool[m
-rwxr-xr-x    1 1001     1001          1401 Jun 17  2024 [1;32mmma_release.sh[m
-rwxr-xr-x    1 1001     1001           296 Jun 17  2024 [1;32mmountnfs.sh[m
-rwxr-xr-x    1 1001     1001          4809 Dec  1  2011 [1;32mmware_init.sh[m
-rwxr-xr-x    1 1001     1001          1075 Jun 17  2024 [1;32mmwarecmd.sh[m
-rwxr-xr-x    1 1001     1001       6344592 Jun 17  2024 [1;32mmwareserver[m
-rwxr-xr-x    1 1001     1001         25008 Jun 17  2024 [1;32mnet-snmp-config[m
-rwxr-xr-x    1 1001     1001           142 Jun 17  2024 [1;32mnewvermanuinfo[m
-rwxr-xr-x    1 1001     1001           607 Jun 17  2024 [1;32mnpu_set_bw_limiter.sh[m
-rwxr-xr-x    1 1001     1001          5548 Jun 17  2024 [1;32mpanel[m
-rwxr-xr-x    1 1001     1001            53 Jun 17  2024 [1;32mpasswd.sh[m
-rwxr-xr-x    1 1001     1001        223580 Jun 17  2024 [1;32mpppd[m
-rwxr-xr-x    1 1001     1001          1830 Jun 17  2024 [1;32mprepare_hide.sh[m
-rwxr-xr-x    1 1001     1001           965 Jun 17  2024 [1;32mreboot.sh[m
-rwxr-xr-x    1 1001     1001          5088 Jun 17  2024 [1;32mresetconfig.sh[m
-rwxr-xr-x    1 1001     1001          1448 Jun 17  2024 [1;32msdformat[m
-rwxr-xr-x    1 1001     1001         80276 Jun 17  2024 [1;32msdk_update[m
-rwxr-xr-x    1 1001     1001          5604 Jun 17  2024 [1;32msecure_boot[m
-rwxr-xr-x    1 1001     1001          1599 Jun 17  2024 [1;32msetconfig.sh[m
-rw-rw-rw-    1 root     root           256 Jun 17  2024 [0;0msignature.bin[m
-rw-rw-rw-    1 1001     1001        262144 Jun 17  2024 [0;0mspl.bin[m
-rwxr-xr-x    1 1001     1001          2958 Jun 17  2024 [1;32mssl_cert.pem[m
-rwxr-xr-x    1 1001     1001          1774 Jun 17  2024 [1;32mssl_cert_nobrand.pem[m
-rwxr-xr-x    1 1001     1001         13607 Jan  1 08:01 [1;32msystemreport.sh[m
-rwxr-xr-x    1 1001     1001          3835 Jun 17  2024 [1;32mtmp_update[m
-rwxr-xr-x    1 1001     1001        162268 Jun 17  2024 [1;32mtop[m
-rwxr-xr-x    1 1001     1001         14560 Jun 17  2024 [1;32mudhcpc_mware[m
-rwxr-xr-x    1 1001     1001          9740 Jun 17  2024 [1;32mupdate_http[m
-rwxr-xr-x    1 1001     1001        693536 Jun 17  2024 [1;32mupdate_move[m
-rwxr-xr-x    1 1001     1001           157 Jun 17  2024 [1;32mupdatecpld.sh[m
-rwxr-xr-x    1 1001     1001          1391 Jun 17  2024 [1;32mupdatespl.sh[m
-rwxr-xr-x    1 1001     1001        520628 Jun 17  2024 [1;32mwpa_supplicant[m
root@(none):/program/bin# /usr/sbin/encrypt_sign_tool 3 /program/bin/filelist.tx
t /usr/sbin/program_public.key /program/bin/signature.bin
encrypt  version : 1090102
=====================
file list file:		/program/bin/filelist.txt
rsa public file:	/usr/sbin/program_public.key
signature file:		/program/bin/signature.bin
=========
get all file sha256
[  200.893993] random: crng init done
signature: 
c3 aa de bc 19 47 12 94 ec 25 99 b9 13 38 12 9d e0 32 13 0d e3 e5 a6 af 26 7f 79 de 99 db 55 a0 
=========
do ras encrypt by private key, need alignment 256
auto pending 0 data in front of the data
rsa input buffer
00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 c3 aa de bc 19 47 12 94 ec 25 99 b9 13 38 12 9d e0 32 13 0d e3 e5 a6 af 26 7f 79 de 99 db 55 a0 
rsa verify fail
root@(none):/program/bin# xxd /program/bin/signature.bin
00000000: 18ec f982 b358 4fa8 c67f a50c f4a2 52a4  .....XO.......R.
00000010: d211 5d0b 5e0d 233b b8f3 91bc 001f 3385  ..].^.#;......3.
00000020: f3e0 e817 f3ea cde1 3d47 dee3 e3f9 cadb  ........=G......
00000030: 52d8 218c e1cd 4368 9ebd 8d38 fc50 c8a0  R.!...Ch...8.P..
00000040: 54d0 4749 acb3 ea4a 13c9 3f5f 9f26 6ad0  T.GI...J..?_.&j.
00000050: b839 3f66 3eda ff93 7af4 edf5 05a2 a60c  .9?f>...z.......
00000060: 4822 c44e 8264 f5cb 5bc8 0688 3821 71f4  H".N.d..[...8!q.
00000070: b84f ceb8 f5a1 23bc bcb6 9f5c f355 ead3  .O....#....\.U..
00000080: 9744 901c 6769 9f48 2e32 8b2e e6c1 5c52  .D..gi.H.2....\R
00000090: 133d 51ba 874c 3e49 f941 60d3 de9f 1e29  .=Q..L>I.A`....)
000000a0: ac4a 63b2 ede6 bfe4 0be8 b7fd 3a38 d5ef  .Jc.........:8..
000000b0: d074 c0c3 b1ac 4881 8e8f 5aea 38ee 0ac9  .t....H...Z.8...
000000c0: 9fb7 0012 c2fe 1f89 8354 ad12 7297 30cd  .........T..r.0.
000000d0: 70b1 3ee9 e237 b63b 938a 3286 064d aee9  p.>..7.;..2..M..
000000e0: 1200 5019 67bc b49e 3e20 9649 eae8 816c  ..P.g...> .I...l
000000f0: 7cdd e34f 30af b340 0011 71cd 269c 93ab  |..O0..@..q.&...
root@(none):/program/bin# md5sum /program/bin/mwareserver /program/bin/init.sh /
program/bin/mware_init.sh
/mwareserver /program/bin/init.sh /program/bin/mware_init.sh79e22528ecead5b76542ea372ad6c29d  /program/bin/mwareserver
3dea7e60a23d16d57234db6824a5aa5c  /program/bin/init.sh
88c9954c3e8c8450ecdffb5f823d2193  /program/bin/mware_init.sh
root@(none):/program/bin# wc -c /program/bin/mwareserver /program/bin/init.sh /p
rogram/bin/mware_init.sh
  6344592 /program/bin/mwareserver
     7252 /program/bin/init.sh
     4809 /program/bin/mware_init.sh
  6356653 total
root@(none):/program/bin# ipc324^C

root@(none):/program/bin# cat p[Jp[J/proc/mtd
dev:    size   erasesize  name
mtd0: 08000000 00020000 "spi4.0"
mtd1: 00100000 00020000 "spl"
mtd2: 00080000 00020000 "ddrinit"
mtd3: 00200000 00020000 "uboot"
mtd4: 00080000 00020000 "env"
mtd5: 00600000 00020000 "calibration"
mtd6: 00100000 00020000 "cliinfo"
mtd7: 00800000 00020000 "config"
mtd8: 00100000 00020000 "runtime"
mtd9: 00600000 00020000 "cfgbak"
mtd10: 00700000 00020000 "kernel"
mtd11: 00080000 00020000 "update"
mtd12: 05e00000 00020000 "program"
mtd13: 00080000 00020000 "other"
root@(none):/program/bin# dd if=/dev/mtd10 of=/tmp/kernel.bin

14336+0 records in
14336+0 records out
7340032 bytes (7.0MB) copied, 2.712279 seconds, 2.6MB/s
root@(none):/program/bin# 
root@(none):/program/bin# 